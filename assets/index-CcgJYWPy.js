(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var rI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var L1={exports:{}},Uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Rx(){if(av)return Uf;av=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Uf.Fragment=t,Uf.jsx=e,Uf.jsxs=e,Uf}var ov;function Dx(){return ov||(ov=1,L1.exports=Rx()),L1.exports}var it=Dx(),R1={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Ix(){if(lv)return Ye;lv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(Q){return Q===null||typeof Q!="object"?null:(Q=v&&Q[v]||Q["@@iterator"],typeof Q=="function"?Q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function I(Q,vt,j){this.props=Q,this.context=vt,this.refs=N,this.updater=j||_}I.prototype.isReactComponent={},I.prototype.setState=function(Q,vt){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,vt,"setState")},I.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function O(){}O.prototype=I.prototype;function q(Q,vt,j){this.props=Q,this.context=vt,this.refs=N,this.updater=j||_}var J=q.prototype=new O;J.constructor=q,T(J,I.prototype),J.isPureReactComponent=!0;var ot=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function F(Q,vt,j,W,tt,at){return j=at.ref,{$$typeof:n,type:Q,key:vt,ref:j!==void 0?j:null,props:at}}function C(Q,vt){return F(Q.type,vt,void 0,void 0,void 0,Q.props)}function k(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function U(Q){var vt={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(j){return vt[j]})}var R=/\/+/g;function L(Q,vt){return typeof Q=="object"&&Q!==null&&Q.key!=null?U(""+Q.key):vt.toString(36)}function M(){}function nt(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(M,M):(Q.status="pending",Q.then(function(vt){Q.status==="pending"&&(Q.status="fulfilled",Q.value=vt)},function(vt){Q.status==="pending"&&(Q.status="rejected",Q.reason=vt)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function pt(Q,vt,j,W,tt){var at=typeof Q;(at==="undefined"||at==="boolean")&&(Q=null);var ft=!1;if(Q===null)ft=!0;else switch(at){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(Q.$$typeof){case n:case t:ft=!0;break;case g:return ft=Q._init,pt(ft(Q._payload),vt,j,W,tt)}}if(ft)return tt=tt(Q),ft=W===""?"."+L(Q,0):W,ot(tt)?(j="",ft!=null&&(j=ft.replace(R,"$&/")+"/"),pt(tt,vt,j,"",function(Mt){return Mt})):tt!=null&&(k(tt)&&(tt=C(tt,j+(tt.key==null||Q&&Q.key===tt.key?"":(""+tt.key).replace(R,"$&/")+"/")+ft)),vt.push(tt)),1;ft=0;var Tt=W===""?".":W+":";if(ot(Q))for(var Nt=0;Nt<Q.length;Nt++)W=Q[Nt],at=Tt+L(W,Nt),ft+=pt(W,vt,j,at,tt);else if(Nt=w(Q),typeof Nt=="function")for(Q=Nt.call(Q),Nt=0;!(W=Q.next()).done;)W=W.value,at=Tt+L(W,Nt++),ft+=pt(W,vt,j,at,tt);else if(at==="object"){if(typeof Q.then=="function")return pt(nt(Q),vt,j,W,tt);throw vt=String(Q),Error("Objects are not valid as a React child (found: "+(vt==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":vt)+"). If you meant to render a collection of children, use an array instead.")}return ft}function et(Q,vt,j){if(Q==null)return Q;var W=[],tt=0;return pt(Q,W,"","",function(at){return vt.call(j,at,tt++)}),W}function ht(Q){if(Q._status===-1){var vt=Q._result;vt=vt(),vt.then(function(j){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=j)},function(j){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=j)}),Q._status===-1&&(Q._status=0,Q._result=vt)}if(Q._status===1)return Q._result.default;throw Q._result}var lt=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var vt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(vt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function _t(){}return Ye.Children={map:et,forEach:function(Q,vt,j){et(Q,function(){vt.apply(this,arguments)},j)},count:function(Q){var vt=0;return et(Q,function(){vt++}),vt},toArray:function(Q){return et(Q,function(vt){return vt})||[]},only:function(Q){if(!k(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Ye.Component=I,Ye.Fragment=e,Ye.Profiler=r,Ye.PureComponent=q,Ye.StrictMode=i,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return $.H.useMemoCache(Q)}},Ye.cache=function(Q){return function(){return Q.apply(null,arguments)}},Ye.cloneElement=function(Q,vt,j){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var W=T({},Q.props),tt=Q.key,at=void 0;if(vt!=null)for(ft in vt.ref!==void 0&&(at=void 0),vt.key!==void 0&&(tt=""+vt.key),vt)!ut.call(vt,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&vt.ref===void 0||(W[ft]=vt[ft]);var ft=arguments.length-2;if(ft===1)W.children=j;else if(1<ft){for(var Tt=Array(ft),Nt=0;Nt<ft;Nt++)Tt[Nt]=arguments[Nt+2];W.children=Tt}return F(Q.type,tt,void 0,void 0,at,W)},Ye.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Ye.createElement=function(Q,vt,j){var W,tt={},at=null;if(vt!=null)for(W in vt.key!==void 0&&(at=""+vt.key),vt)ut.call(vt,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=vt[W]);var ft=arguments.length-2;if(ft===1)tt.children=j;else if(1<ft){for(var Tt=Array(ft),Nt=0;Nt<ft;Nt++)Tt[Nt]=arguments[Nt+2];tt.children=Tt}if(Q&&Q.defaultProps)for(W in ft=Q.defaultProps,ft)tt[W]===void 0&&(tt[W]=ft[W]);return F(Q,at,void 0,void 0,null,tt)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(Q){return{$$typeof:u,render:Q}},Ye.isValidElement=k,Ye.lazy=function(Q){return{$$typeof:g,_payload:{_status:-1,_result:Q},_init:ht}},Ye.memo=function(Q,vt){return{$$typeof:f,type:Q,compare:vt===void 0?null:vt}},Ye.startTransition=function(Q){var vt=$.T,j={};$.T=j;try{var W=Q(),tt=$.S;tt!==null&&tt(j,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(_t,lt)}catch(at){lt(at)}finally{$.T=vt}},Ye.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ye.use=function(Q){return $.H.use(Q)},Ye.useActionState=function(Q,vt,j){return $.H.useActionState(Q,vt,j)},Ye.useCallback=function(Q,vt){return $.H.useCallback(Q,vt)},Ye.useContext=function(Q){return $.H.useContext(Q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(Q,vt){return $.H.useDeferredValue(Q,vt)},Ye.useEffect=function(Q,vt,j){var W=$.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(Q,vt)},Ye.useId=function(){return $.H.useId()},Ye.useImperativeHandle=function(Q,vt,j){return $.H.useImperativeHandle(Q,vt,j)},Ye.useInsertionEffect=function(Q,vt){return $.H.useInsertionEffect(Q,vt)},Ye.useLayoutEffect=function(Q,vt){return $.H.useLayoutEffect(Q,vt)},Ye.useMemo=function(Q,vt){return $.H.useMemo(Q,vt)},Ye.useOptimistic=function(Q,vt){return $.H.useOptimistic(Q,vt)},Ye.useReducer=function(Q,vt,j){return $.H.useReducer(Q,vt,j)},Ye.useRef=function(Q){return $.H.useRef(Q)},Ye.useState=function(Q){return $.H.useState(Q)},Ye.useSyncExternalStore=function(Q,vt,j){return $.H.useSyncExternalStore(Q,vt,j)},Ye.useTransition=function(){return $.H.useTransition()},Ye.version="19.1.1",Ye}var uv;function r2(){return uv||(uv=1,R1.exports=Ix()),R1.exports}var Jt=r2();const Ul=Lx(Jt);var D1={exports:{}},Hf={},I1={exports:{}},M1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Mx(){return cv||(cv=1,function(n){function t(et,ht){var lt=et.length;et.push(ht);t:for(;0<lt;){var _t=lt-1>>>1,Q=et[_t];if(0<r(Q,ht))et[_t]=ht,et[lt]=Q,lt=_t;else break t}}function e(et){return et.length===0?null:et[0]}function i(et){if(et.length===0)return null;var ht=et[0],lt=et.pop();if(lt!==ht){et[0]=lt;t:for(var _t=0,Q=et.length,vt=Q>>>1;_t<vt;){var j=2*(_t+1)-1,W=et[j],tt=j+1,at=et[tt];if(0>r(W,lt))tt<Q&&0>r(at,W)?(et[_t]=at,et[tt]=lt,_t=tt):(et[_t]=W,et[j]=lt,_t=j);else if(tt<Q&&0>r(at,lt))et[_t]=at,et[tt]=lt,_t=tt;else break t}}return ht}function r(et,ht){var lt=et.sortIndex-ht.sortIndex;return lt!==0?lt:et.id-ht.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,v=null,w=3,_=!1,T=!1,N=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ot(et){for(var ht=e(f);ht!==null;){if(ht.callback===null)i(f);else if(ht.startTime<=et)i(f),ht.sortIndex=ht.expirationTime,t(h,ht);else break;ht=e(f)}}function $(et){if(N=!1,ot(et),!T)if(e(h)!==null)T=!0,ut||(ut=!0,L());else{var ht=e(f);ht!==null&&pt($,ht.startTime-et)}}var ut=!1,F=-1,C=5,k=-1;function U(){return I?!0:!(n.unstable_now()-k<C)}function R(){if(I=!1,ut){var et=n.unstable_now();k=et;var ht=!0;try{t:{T=!1,N&&(N=!1,q(F),F=-1),_=!0;var lt=w;try{e:{for(ot(et),v=e(h);v!==null&&!(v.expirationTime>et&&U());){var _t=v.callback;if(typeof _t=="function"){v.callback=null,w=v.priorityLevel;var Q=_t(v.expirationTime<=et);if(et=n.unstable_now(),typeof Q=="function"){v.callback=Q,ot(et),ht=!0;break e}v===e(h)&&i(h),ot(et)}else i(h);v=e(h)}if(v!==null)ht=!0;else{var vt=e(f);vt!==null&&pt($,vt.startTime-et),ht=!1}}break t}finally{v=null,w=lt,_=!1}ht=void 0}}finally{ht?L():ut=!1}}}var L;if(typeof J=="function")L=function(){J(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,nt=M.port2;M.port1.onmessage=R,L=function(){nt.postMessage(null)}}else L=function(){O(R,0)};function pt(et,ht){F=O(function(){et(n.unstable_now())},ht)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(et){et.callback=null},n.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<et?Math.floor(1e3/et):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(et){switch(w){case 1:case 2:case 3:var ht=3;break;default:ht=w}var lt=w;w=ht;try{return et()}finally{w=lt}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(et,ht){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var lt=w;w=et;try{return ht()}finally{w=lt}},n.unstable_scheduleCallback=function(et,ht,lt){var _t=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?_t+lt:_t):lt=_t,et){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=lt+Q,et={id:g++,callback:ht,priorityLevel:et,startTime:lt,expirationTime:Q,sortIndex:-1},lt>_t?(et.sortIndex=lt,t(f,et),e(h)===null&&et===e(f)&&(N?(q(F),F=-1):N=!0,pt($,lt-_t))):(et.sortIndex=Q,t(h,et),T||_||(T=!0,ut||(ut=!0,L()))),et},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(et){var ht=w;return function(){var lt=w;w=ht;try{return et.apply(this,arguments)}finally{w=lt}}}}(M1)),M1}var hv;function Px(){return hv||(hv=1,I1.exports=Mx()),I1.exports}var P1={exports:{}},Yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Ox(){if(fv)return Yr;fv=1;var n=r2();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yr.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,g)},Yr.flushSync=function(h){var f=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=g,i.d.f()}},Yr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Yr.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Yr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=u(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Yr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=u(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yr.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Yr.requestFormReset=function(h){i.d.r(h)},Yr.unstable_batchedUpdates=function(h,f){return h(f)},Yr.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},Yr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yr.version="19.1.1",Yr}var dv;function kx(){if(dv)return P1.exports;dv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),P1.exports=Ox(),P1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function jx(){if(pv)return Hf;pv=1;var n=Px(),t=r2(),e=kx();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,d=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return u(y),s;if(x===d)return u(y),o;x=x.sibling}throw Error(i(188))}if(c.return!==d.return)c=y,d=x;else{for(var V=!1,K=y.child;K;){if(K===c){V=!0,c=y,d=x;break}if(K===d){V=!0,d=y,c=x;break}K=K.sibling}if(!V){for(K=x.child;K;){if(K===c){V=!0,c=x,d=y;break}if(K===d){V=!0,d=x,c=y;break}K=K.sibling}if(!V)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case ut:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case J:return(s.displayName||"Context")+".Provider";case q:return(s._context.displayName||"Context")+".Consumer";case ot:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return o=s.displayName||null,o!==null?o:nt(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return nt(s(o))}catch{}}return null}var pt=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},_t=[],Q=-1;function vt(s){return{current:s}}function j(s){0>Q||(s.current=_t[Q],_t[Q]=null,Q--)}function W(s,o){Q++,_t[Q]=s.current,s.current=o}var tt=vt(null),at=vt(null),ft=vt(null),Tt=vt(null);function Nt(s,o){switch(W(ft,o),W(at,s),W(tt,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Py(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Py(o),s=Oy(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}j(tt),W(tt,s)}function Mt(){j(tt),j(at),j(ft)}function Zt(s){s.memoizedState!==null&&W(Tt,s);var o=tt.current,c=Oy(o,s.type);o!==c&&(W(at,s),W(tt,c))}function Qt(s){at.current===s&&(j(tt),j(at)),Tt.current===s&&(j(Tt),Vf._currentValue=lt)}var ie=Object.prototype.hasOwnProperty,ee=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,Vt=n.unstable_shouldYield,ct=n.unstable_requestPaint,Ae=n.unstable_now,de=n.unstable_getCurrentPriorityLevel,$t=n.unstable_ImmediatePriority,te=n.unstable_UserBlockingPriority,ae=n.unstable_NormalPriority,oe=n.unstable_LowPriority,ve=n.unstable_IdlePriority,De=n.log,je=n.unstable_setDisableYieldValue,be=null,ye=null;function He(s){if(typeof De=="function"&&je(s),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(be,s)}catch{}}var pe=Math.clz32?Math.clz32:ai,Ge=Math.log,ue=Math.LN2;function ai(s){return s>>>=0,s===0?32:31-(Ge(s)/ue|0)|0}var Xe=256,Ji=4194304;function Qe(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Nn(s,o,c){var d=s.pendingLanes;if(d===0)return 0;var y=0,x=s.suspendedLanes,V=s.pingedLanes;s=s.warmLanes;var K=d&134217727;return K!==0?(d=K&~x,d!==0?y=Qe(d):(V&=K,V!==0?y=Qe(V):c||(c=K&~s,c!==0&&(y=Qe(c))))):(K=d&~x,K!==0?y=Qe(K):V!==0?y=Qe(V):c||(c=d&~s,c!==0&&(y=Qe(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function fr(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function an(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var s=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),s}function Bn(){var s=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),s}function Ci(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function tr(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function zn(s,o,c,d,y,x){var V=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var K=s.entanglements,dt=s.expirationTimes,It=s.hiddenUpdates;for(c=V&~c;0<c;){var Bt=31-pe(c),Wt=1<<Bt;K[Bt]=0,dt[Bt]=-1;var Pt=It[Bt];if(Pt!==null)for(It[Bt]=null,Bt=0;Bt<Pt.length;Bt++){var Ot=Pt[Bt];Ot!==null&&(Ot.lane&=-536870913)}c&=~Wt}d!==0&&Ee(s,d,0),x!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=x&~(V&~o))}function Ee(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-pe(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|c&4194090}function on(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var d=31-pe(c),y=1<<d;y&o|s[d]&o&&(s[d]|=o),c&=~y}}function Or(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function oi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function er(){var s=ht.p;return s!==0?s:(s=window.event,s===void 0?32:tv(s.type))}function rs(s,o){var c=ht.p;try{return ht.p=s,o()}finally{ht.p=c}}var ce=Math.random().toString(36).slice(2),Cn="__reactFiber$"+ce,Ln="__reactProps$"+ce,Xn="__reactContainer$"+ce,ni="__reactEvents$"+ce,li="__reactListeners$"+ce,bi="__reactHandles$"+ce,Ia="__reactResources$"+ce,Ar="__reactMarker$"+ce;function Ui(s){delete s[Cn],delete s[Ln],delete s[ni],delete s[li],delete s[bi]}function Li(s){var o=s[Cn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Xn]||c[Cn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Fy(s);s!==null;){if(c=s[Cn])return c;s=Fy(s)}return o}s=c,c=s.parentNode}return null}function _i(s){if(s=s[Cn]||s[Xn]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Ri(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function qn(s){var o=s[Ia];return o||(o=s[Ia]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function _n(s){s[Ar]=!0}var Ps=new Set,Os={};function dr(s,o){kr(s,o),kr(s+"Capture",o)}function kr(s,o){for(Os[s]=o,s=0;s<o.length;s++)Ps.add(o[s])}var Ma=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},Pa={};function Kl(s){return ie.call(Pa,s)?!0:ie.call(sl,s)?!1:Ma.test(s)?Pa[s]=!0:(sl[s]=!0,!1)}function ss(s,o,c){if(Kl(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function as(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function Di(s,o,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+d)}}var ks,Ql;function hs(s){if(ks===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ks=o&&o[1]||"",Ql=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+s+Ql}var ho=!1;function js(s,o){if(!s||ho)return"";ho=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Wt=function(){throw Error()};if(Object.defineProperty(Wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wt,[])}catch(Ot){var Pt=Ot}Reflect.construct(s,[],Wt)}else{try{Wt.call()}catch(Ot){Pt=Ot}s.call(Wt.prototype)}}else{try{throw Error()}catch(Ot){Pt=Ot}(Wt=s())&&typeof Wt.catch=="function"&&Wt.catch(function(){})}}catch(Ot){if(Ot&&Pt&&typeof Ot.stack=="string")return[Ot.stack,Pt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),V=x[0],K=x[1];if(V&&K){var dt=V.split(`
`),It=K.split(`
`);for(y=d=0;d<dt.length&&!dt[d].includes("DetermineComponentFrameRoot");)d++;for(;y<It.length&&!It[y].includes("DetermineComponentFrameRoot");)y++;if(d===dt.length||y===It.length)for(d=dt.length-1,y=It.length-1;1<=d&&0<=y&&dt[d]!==It[y];)y--;for(;1<=d&&0<=y;d--,y--)if(dt[d]!==It[y]){if(d!==1||y!==1)do if(d--,y--,0>y||dt[d]!==It[y]){var Bt=`
`+dt[d].replace(" at new "," at ");return s.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",s.displayName)),Bt}while(1<=d&&0<=y);break}}}finally{ho=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?hs(c):""}function al(s){switch(s.tag){case 26:case 27:case 5:return hs(s.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return js(s.type,!1);case 11:return js(s.type.render,!1);case 1:return js(s.type,!0);case 31:return hs("Activity");default:return""}}function Un(s){try{var o="";do o+=al(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Hi(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $l(s){var o=fo(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(V){d=""+V,x.call(this,V)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ia(s){s._valueTracker||(s._valueTracker=$l(s))}function ol(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return s&&(d=fo(s)?s.checked?"true":"false":s.value),s=d,s!==c?(o.setValue(s),!0):!1}function nr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var po=/[\n"\\]/g;function cn(s){return s.replace(po,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ir(s,o,c,d,y,x,V,K){s.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.type=V:s.removeAttribute("type"),o!=null?V==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Hi(o)):s.value!==""+Hi(o)&&(s.value=""+Hi(o)):V!=="submit"&&V!=="reset"||s.removeAttribute("value"),o!=null?sa(s,V,Hi(o)):c!=null?sa(s,V,Hi(c)):d!=null&&s.removeAttribute("value"),y==null&&x!=null&&(s.defaultChecked=!!x),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?s.name=""+Hi(K):s.removeAttribute("name")}function ra(s,o,c,d,y,x,V,K){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;c=c!=null?""+Hi(c):"",o=o!=null?""+Hi(o):c,K||o===s.value||(s.value=o),s.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=K?s.checked:!!d,s.defaultChecked=!!d,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(s.name=V)}function sa(s,o,c){o==="number"&&nr(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function fs(s,o,c,d){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Hi(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,d&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function wn(s,o,c){if(o!=null&&(o=""+Hi(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Hi(c):""}function aa(s,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(i(92));if(pt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Hi(o),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d)}function jr(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(s,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,c):typeof c!="number"||c===0||Vs.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function ll(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&c[y]!==d&&Zl(s,y,d)}else for(var x in o)o.hasOwnProperty(x)&&Zl(s,x,o[x])}function ul(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),go=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(s){return go.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ds=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zs=null,ps=null;function Ne(s){var o=_i(s);if(o&&(s=o.stateNode)){var c=s[Ln]||null;t:switch(s=o.stateNode,o.type){case"input":if(ir(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+cn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==s&&d.form===s.form){var y=d[Ln]||null;if(!y)throw Error(i(90));ir(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===s.form&&ol(d)}break t;case"textarea":wn(s,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&fs(s,!!c.multiple,o,!1)}}}var gs=!1;function Jl(s,o,c){if(gs)return s(o,c);gs=!0;try{var d=s(o);return d}finally{if(gs=!1,(zs!==null||ps!==null)&&(pp(),zs&&(o=zs,s=ps,ps=zs=null,Ne(o),s)))for(o=0;o<s.length;o++)Ne(s[o])}}function pr(s,o){var c=s.stateNode;if(c===null)return null;var d=c[Ln]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Vr)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Er=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Er=!1}var Fr=null,oa=null,qs=null;function cl(){if(qs)return qs;var s,o=oa,c=o.length,d,y="value"in Fr?Fr.value:Fr.textContent,x=y.length;for(s=0;s<c&&o[s]===y[s];s++);var V=c-s;for(d=1;d<=V&&o[c-d]===y[x-d];d++);return qs=y.slice(s,1<d?1-d:void 0)}function Br(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function gr(){return!0}function ys(){return!1}function wi(s){function o(c,d,y,x,V){this._reactName=c,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=V,this.currentTarget=null;for(var K in s)s.hasOwnProperty(K)&&(c=s[K],this[K]=c?c(x):x[K]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?gr:ys,this.isPropagationStopped=ys,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),o}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=wi(Je),vs=g({},Je,{view:0,detail:0}),hl=wi(vs),Oa,ka,os,mr=g({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==os&&(os&&s.type==="mousemove"?(Oa=s.screenX-os.screenX,ka=s.screenY-os.screenY):ka=Oa=0,os=s),Oa)},movementY:function(s){return"movementY"in s?s.movementY:ka}}),xi=wi(mr),tu=g({},mr,{dataTransfer:0}),ua=wi(tu),rr=g({},vs,{relatedTarget:0}),ca=wi(rr),Us=g({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=wi(Us),ja=g({},Je,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yo=wi(ja),fl=g({},Je,{data:0}),Va=wi(fl),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=vo[s])?!!o[s]:!1}function fa(){return Ba}var eu=g({},vs,{key:function(s){if(s.key){var o=ha[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Br(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fa[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(s){return s.type==="keypress"?Br(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Br(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hs=wi(eu),da=g({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=wi(da),yr=g({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),bo=wi(yr),S=g({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=wi(S),st=g({},mr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),gt=wi(st),St=g({},Je,{newState:0,oldState:0}),jt=wi(St),Xt=[9,13,27,32],re=Vr&&"CompositionEvent"in window,m=null;Vr&&"documentMode"in document&&(m=document.documentMode);var E=Vr&&"TextEvent"in window&&!m,P=Vr&&(!re||m&&8<m&&11>=m),X=" ",xt=!1;function Dt(s,o){switch(s){case"keyup":return Xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ce=!1;function tn(s,o){switch(s){case"compositionend":return Kt(o);case"keypress":return o.which!==32?null:(xt=!0,X);case"textInput":return s=o.data,s===X&&xt?null:s;default:return null}}function Ve(s,o){if(Ce)return s==="compositionend"||!re&&Dt(s,o)?(s=cl(),qs=oa=Fr=null,Ce=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return P&&o.locale!=="ko"?null:o.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!xn[s.type]:o==="textarea"}function bs(s,o,c,d){zs?ps?ps.push(d):ps=[d]:zs=d,o=_p(o,"onChange"),0<o.length&&(c=new la("onChange","change",null,c,d),s.push({event:c,listeners:o}))}var di=null,zr=null;function pa(s){Ly(s,0)}function _o(s){var o=Ri(s);if(ol(o))return s}function nu(s,o){if(s==="change")return o}var dl=!1;if(Vr){var Ii;if(Vr){var wo="oninput"in document;if(!wo){var pl=document.createElement("div");pl.setAttribute("oninput","return;"),wo=typeof pl.oninput=="function"}Ii=wo}else Ii=!1;dl=Ii&&(!document.documentMode||9<document.documentMode)}function gl(){di&&(di.detachEvent("onpropertychange",iu),zr=di=null)}function iu(s){if(s.propertyName==="value"&&_o(zr)){var o=[];bs(o,zr,s,Pn(s)),Jl(pa,o)}}function qr(s,o,c){s==="focusin"?(gl(),di=o,zr=c,di.attachEvent("onpropertychange",iu)):s==="focusout"&&gl()}function sf(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _o(zr)}function ec(s,o){if(s==="click")return _o(o)}function Gc(s,o){if(s==="input"||s==="change")return _o(o)}function _s(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Gi=typeof Object.is=="function"?Object.is:_s;function xo(s,o){if(Gi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!ie.call(o,y)||!Gi(s[y],o[y]))return!1}return!0}function nc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qa(s,o){var c=nc(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=o&&d>=o)return{node:c,offset:o-s};s=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=nc(c)}}function So(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?So(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tr(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=nr(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=nr(s.document)}return o}function sr(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Ao=Vr&&"documentMode"in document&&11>=document.documentMode,Ur=null,Gs=null,ga=null,Ws=!1;function ui(s,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ws||Ur==null||Ur!==nr(d)||(d=Ur,"selectionStart"in d&&sr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ga&&xo(ga,d)||(ga=d,d=_p(Gs,"onSelect"),0<d.length&&(o=new la("onSelect","select",null,o,c),s.push({event:o,listeners:d}),o.target=Ur)))}function Ys(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Si={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Hr={},ml={};Vr&&(ml=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function ma(s){if(Hr[s])return Hr[s];if(!Si[s])return s;var o=Si[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in ml)return Hr[s]=o[c];return s}var ru=ma("animationend"),Eo=ma("animationiteration"),To=ma("animationstart"),No=ma("transitionrun"),yl=ma("transitionstart"),su=ma("transitioncancel"),Co=ma("transitionend"),Ua=new Map,vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vl.push("scrollEnd");function ci(s,o){Ua.set(s,o),dr(o,[s])}var ls=new WeakMap;function $e(s,o){if(typeof s=="object"&&s!==null){var c=ls.get(s);return c!==void 0?c:(o={value:s,source:o,stack:Un(o)},ls.set(s,o),o)}return{value:s,source:o,stack:Un(o)}}var Ze=[],Hn=0,pi=0;function ws(){for(var s=Hn,o=pi=Hn=0;o<s;){var c=Ze[o];Ze[o++]=null;var d=Ze[o];Ze[o++]=null;var y=Ze[o];Ze[o++]=null;var x=Ze[o];if(Ze[o++]=null,d!==null&&y!==null){var V=d.pending;V===null?y.next=y:(y.next=V.next,V.next=y),d.pending=y}x!==0&&Wc(c,y,x)}}function Lo(s,o,c,d){Ze[Hn++]=s,Ze[Hn++]=o,Ze[Hn++]=c,Ze[Hn++]=d,pi|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Ro(s,o,c,d){return Lo(s,o,c,d),bl(s)}function Ha(s,o){return Lo(s,null,null,o),bl(s)}function Wc(s,o,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var y=!1,x=s.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(y=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,y&&o!==null&&(y=31-pe(c),s=x.hiddenUpdates,d=s[y],d===null?s[y]=[o]:d.push(o),o.lane=c|536870912),x):null}function bl(s){if(50<Rf)throw Rf=0,Jm=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Wi={};function xs(s,o,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(s,o,c,d){return new xs(s,o,c,d)}function au(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ya(s,o){var c=s.alternate;return c===null?(c=vr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function ic(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function _l(s,o,c,d,y,x){var V=0;if(d=s,typeof s=="function")au(s)&&(V=1);else if(typeof s=="string")V=mx(s,c,tt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case k:return s=vr(31,c,o,y),s.elementType=k,s.lanes=x,s;case T:return Ga(c.children,y,x,o);case N:V=8,y|=24;break;case I:return s=vr(12,c,o,y|2),s.elementType=I,s.lanes=x,s;case $:return s=vr(13,c,o,y),s.elementType=$,s.lanes=x,s;case ut:return s=vr(19,c,o,y),s.elementType=ut,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:case J:V=10;break t;case q:V=9;break t;case ot:V=11;break t;case F:V=14;break t;case C:V=16,d=null;break t}V=29,c=Error(i(130,s===null?"null":typeof s,"")),d=null}return o=vr(V,c,o,y),o.elementType=s,o.type=d,o.lanes=x,o}function Ga(s,o,c,d){return s=vr(7,s,d,o),s.lanes=c,s}function Yc(s,o,c){return s=vr(6,s,null,o),s.lanes=c,s}function rc(s,o,c){return o=vr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Do=[],Wa=0,ou=null,Xc=0,Ss=[],us=0,wl=null,Ya=1,Xa="";function xl(s,o){Do[Wa++]=Xc,Do[Wa++]=ou,ou=s,Xc=o}function Vd(s,o,c){Ss[us++]=Ya,Ss[us++]=Xa,Ss[us++]=wl,wl=s;var d=Ya;s=Xa;var y=32-pe(d)-1;d&=~(1<<y),c+=1;var x=32-pe(o)+y;if(30<x){var V=y-y%5;x=(d&(1<<V)-1).toString(32),d>>=V,y-=V,Ya=1<<32-pe(o)+y|c<<y|d,Xa=x+s}else Ya=1<<x|c<<y|d,Xa=s}function sc(s){s.return!==null&&(xl(s,1),Vd(s,1,0))}function ac(s){for(;s===ou;)ou=Do[--Wa],Do[Wa]=null,Xc=Do[--Wa],Do[Wa]=null;for(;s===wl;)wl=Ss[--us],Ss[us]=null,Xa=Ss[--us],Ss[us]=null,Ya=Ss[--us],Ss[us]=null}var Mi=null,hi=null,yn=!1,Io=null,va=!1,af=Error(i(519));function Sl(s){var o=Error(i(418,""));throw lu($e(o,s)),af}function Fd(s){var o=s.stateNode,c=s.type,d=s.memoizedProps;switch(o[Cn]=s,o[Ln]=d,c){case"dialog":rn("cancel",o),rn("close",o);break;case"iframe":case"object":case"embed":rn("load",o);break;case"video":case"audio":for(c=0;c<If.length;c++)rn(If[c],o);break;case"source":rn("error",o);break;case"img":case"image":case"link":rn("error",o),rn("load",o);break;case"details":rn("toggle",o);break;case"input":rn("invalid",o),ra(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ia(o);break;case"select":rn("invalid",o);break;case"textarea":rn("invalid",o),aa(o,d.value,d.defaultValue,d.children),ia(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||My(o.textContent,c)?(d.popover!=null&&(rn("beforetoggle",o),rn("toggle",o)),d.onScroll!=null&&rn("scroll",o),d.onScrollEnd!=null&&rn("scrollend",o),d.onClick!=null&&(o.onclick=wp),o=!0):o=!1,o||Sl(s)}function Ka(s){for(Mi=s.return;Mi;)switch(Mi.tag){case 5:case 13:va=!1;return;case 27:case 3:va=!0;return;default:Mi=Mi.return}}function Nr(s){if(s!==Mi)return!1;if(!yn)return Ka(s),yn=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||g1(s.type,s.memoizedProps)),c=!c),c&&hi&&Sl(s),Ka(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){hi=io(s.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}hi=null}}else o===27?(o=hi,Eu(s.type)?(s=b1,b1=null,hi=s):hi=o):hi=Mi?io(s.stateNode.nextSibling):null;return!0}function cs(){hi=Mi=null,yn=!1}function Bd(){var s=Io;return s!==null&&(Ts===null?Ts=s:Ts.push.apply(Ts,s),Io=null),s}function lu(s){Io===null?Io=[s]:Io.push(s)}var ba=vt(null),Yi=null,Qa=null;function Mo(s,o,c){W(ba,o._currentValue),o._currentValue=c}function _a(s){s._currentValue=ba.current,j(ba)}function Kc(s,o,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===c)break;s=s.return}}function Qc(s,o,c,d){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var x=y.dependencies;if(x!==null){var V=y.child;x=x.firstContext;t:for(;x!==null;){var K=x;x=y;for(var dt=0;dt<o.length;dt++)if(K.context===o[dt]){x.lanes|=c,K=x.alternate,K!==null&&(K.lanes|=c),Kc(x.return,c,s),d||(V=null);break t}x=K.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(i(341));V.lanes|=c,x=V.alternate,x!==null&&(x.lanes|=c),Kc(V,c,s),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===s){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function uu(s,o,c,d){s=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var K=y.type;Gi(y.pendingProps.value,V.value)||(s!==null?s.push(K):s=[K])}}else if(y===Tt.current){if(V=y.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Vf):s=[Vf])}y=y.return}s!==null&&Qc(o,s,c,d),o.flags|=262144}function $c(s){for(s=s.firstContext;s!==null;){if(!Gi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function wa(s){Yi=s,Qa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pi(s){return Zc(Yi,s)}function Po(s,o){return Yi===null&&wa(s),Zc(s,o)}function Zc(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Qa===null){if(s===null)throw Error(i(308));Qa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Qa=Qa.next=o;return c}var Am=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},zd=n.unstable_scheduleCallback,Em=n.unstable_NormalPriority,Oi={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new Am,data:new Map,refCount:0}}function oc(s){s.refCount--,s.refCount===0&&zd(Em,function(){s.controller.abort()})}var lc=null,lf=0,Al=0,$a=null;function Tm(s,o){if(lc===null){var c=lc=[];lf=0,Al=a1(),$a={status:"pending",value:void 0,then:function(d){c.push(d)}}}return lf++,o.then(qd,qd),o}function qd(){if(--lf===0&&lc!==null){$a!==null&&($a.status="fulfilled");var s=lc;lc=null,Al=0,$a=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Ud(s,o){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}var p=et.S;et.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Tm(s,o),p!==null&&p(s,o)};var b=vt(null);function A(){var s=b.current;return s!==null?s:ei.pooledCache}function D(s,o){o===null?W(b,b.current):W(b,o.pool)}function B(){var s=A();return s===null?null:{parent:Oi._currentValue,pool:s}}var H=Error(i(460)),G=Error(i(474)),Y=Error(i(542)),Z={then:function(){}};function rt(s){return s=s.status,s==="fulfilled"||s==="rejected"}function mt(){}function Rt(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(mt,mt),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Ht(s),s;default:if(typeof o.status=="string")o.then(mt,mt);else{if(s=ei,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Ht(s),s}throw Ct=o,H}}var Ct=null;function At(){if(Ct===null)throw Error(i(459));var s=Ct;return Ct=null,s}function Ht(s){if(s===H||s===Y)throw Error(i(483))}var kt=!1;function yt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ft(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Gt(s,o,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(kn&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=bl(s),Wc(s,null,c),o}return Lo(s,d,o,c),bl(s)}function qt(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,on(s,c)}}function he(s,o){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var V={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=V:x=x.next=V,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var ne=!1;function _e(){if(ne){var s=$a;if(s!==null)throw s}}function se(s,o,c,d){ne=!1;var y=s.updateQueue;kt=!1;var x=y.firstBaseUpdate,V=y.lastBaseUpdate,K=y.shared.pending;if(K!==null){y.shared.pending=null;var dt=K,It=dt.next;dt.next=null,V===null?x=It:V.next=It,V=dt;var Bt=s.alternate;Bt!==null&&(Bt=Bt.updateQueue,K=Bt.lastBaseUpdate,K!==V&&(K===null?Bt.firstBaseUpdate=It:K.next=It,Bt.lastBaseUpdate=dt))}if(x!==null){var Wt=y.baseState;V=0,Bt=It=dt=null,K=x;do{var Pt=K.lane&-536870913,Ot=Pt!==K.lane;if(Ot?(pn&Pt)===Pt:(d&Pt)===Pt){Pt!==0&&Pt===Al&&(ne=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});t:{var ke=s,Le=K;Pt=o;var Wn=c;switch(Le.tag){case 1:if(ke=Le.payload,typeof ke=="function"){Wt=ke.call(Wn,Wt,Pt);break t}Wt=ke;break t;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Le.payload,Pt=typeof ke=="function"?ke.call(Wn,Wt,Pt):ke,Pt==null)break t;Wt=g({},Wt,Pt);break t;case 2:kt=!0}}Pt=K.callback,Pt!==null&&(s.flags|=64,Ot&&(s.flags|=8192),Ot=y.callbacks,Ot===null?y.callbacks=[Pt]:Ot.push(Pt))}else Ot={lane:Pt,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Bt===null?(It=Bt=Ot,dt=Wt):Bt=Bt.next=Ot,V|=Pt;if(K=K.next,K===null){if(K=y.shared.pending,K===null)break;Ot=K,K=Ot.next,Ot.next=null,y.lastBaseUpdate=Ot,y.shared.pending=null}}while(!0);Bt===null&&(dt=Wt),y.baseState=dt,y.firstBaseUpdate=It,y.lastBaseUpdate=Bt,x===null&&(y.shared.lanes=0),wu|=V,s.lanes=V,s.memoizedState=Wt}}function fn(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Sn(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)fn(c[s],o)}var Ke=vt(null),We=vt(0);function In(s,o){s=Pl,W(We,s),W(Ke,o),Pl=s|o.baseLanes}function An(){W(We,Pl),W(Ke,Ke.current)}function Fe(){Pl=We.current,j(Ke),j(We)}var On=0,Te=null,Me=null,hn=null,dn=!1,Xi=!1,ki=!1,gi=0,mi=0,Ai=null,As=0;function En(){throw Error(i(321))}function Ei(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Gi(s[c],o[c]))return!1;return!0}function Xs(s,o,c,d,y,x){return On=x,Te=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,et.H=s===null||s.memoizedState===null?d5:p5,ki=!1,x=c(d,y),ki=!1,Xi&&(x=El(o,c,d,y)),Oo(s),x}function Oo(s){et.H=ep;var o=Me!==null&&Me.next!==null;if(On=0,hn=Me=Te=null,dn=!1,mi=0,Ai=null,o)throw Error(i(300));s===null||br||(s=s.dependencies,s!==null&&$c(s)&&(br=!0))}function El(s,o,c,d){Te=s;var y=0;do{if(Xi&&(Ai=null),mi=0,Xi=!1,25<=y)throw Error(i(301));if(y+=1,hn=Me=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}et.H=N6,x=o(c,d)}while(Xi);return x}function ko(){var s=et.H,o=s.useState()[0];return o=typeof o.then=="function"?jo(o):o,s=s.useState()[0],(Me!==null?Me.memoizedState:null)!==s&&(Te.flags|=1024),o}function ti(){var s=gi!==0;return gi=0,s}function uc(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function Jc(s){if(dn){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}dn=!1}On=0,hn=Me=Te=null,Xi=!1,mi=gi=0,Ai=null}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Te.memoizedState=hn=s:hn=hn.next=s,hn}function ii(){if(Me===null){var s=Te.alternate;s=s!==null?s.memoizedState:null}else s=Me.next;var o=hn===null?Te.memoizedState:hn.next;if(o!==null)hn=o,Me=s;else{if(s===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Me=s,s={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},hn===null?Te.memoizedState=hn=s:hn=hn.next=s}return hn}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(s){var o=mi;return mi+=1,Ai===null&&(Ai=[]),s=Rt(Ai,s,o),o=Te,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,et.H=o===null||o.memoizedState===null?d5:p5),s}function Gr(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return jo(s);if(s.$$typeof===J)return Pi(s)}throw Error(i(438,String(s)))}function Vo(s){var o=null,c=Te.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Te.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Tl(),Te.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),d=0;d<s;d++)c[d]=U;return o.index++,c}function Wr(s,o){return typeof o=="function"?o(s):o}function cc(s){var o=ii();return cu(o,Me,s)}function cu(s,o,c){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var y=s.baseQueue,x=d.pending;if(x!==null){if(y!==null){var V=y.next;y.next=x.next,x.next=V}o.baseQueue=y=x,d.pending=null}if(x=s.baseState,y===null)s.memoizedState=x;else{o=y.next;var K=V=null,dt=null,It=o,Bt=!1;do{var Wt=It.lane&-536870913;if(Wt!==It.lane?(pn&Wt)===Wt:(On&Wt)===Wt){var Pt=It.revertLane;if(Pt===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),Wt===Al&&(Bt=!0);else if((On&Pt)===Pt){It=It.next,Pt===Al&&(Bt=!0);continue}else Wt={lane:0,revertLane:It.revertLane,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},dt===null?(K=dt=Wt,V=x):dt=dt.next=Wt,Te.lanes|=Pt,wu|=Pt;Wt=It.action,ki&&c(x,Wt),x=It.hasEagerState?It.eagerState:c(x,Wt)}else Pt={lane:Wt,revertLane:It.revertLane,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},dt===null?(K=dt=Pt,V=x):dt=dt.next=Pt,Te.lanes|=Wt,wu|=Wt;It=It.next}while(It!==null&&It!==o);if(dt===null?V=x:dt.next=K,!Gi(x,s.memoizedState)&&(br=!0,Bt&&(c=$a,c!==null)))throw c;s.memoizedState=x,s.baseState=V,s.baseQueue=dt,d.lastRenderedState=x}return y===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function th(s){var o=ii(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var d=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var V=y=y.next;do x=s(x,V.action),V=V.next;while(V!==y);Gi(x,o.memoizedState)||(br=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,d]}function hc(s,o,c){var d=Te,y=ii(),x=yn;if(x){if(c===void 0)throw Error(i(407));c=c()}else c=o();var V=!Gi((Me||y).memoizedState,c);V&&(y.memoizedState=c,br=!0),y=y.queue;var K=hu.bind(null,d,y,s);if(pu(2048,8,K,[s]),y.getSnapshot!==o||V||hn!==null&&hn.memoizedState.tag&1){if(d.flags|=2048,Ja(9,gc(),fc.bind(null,d,y,c,o),null),ei===null)throw Error(i(349));x||(On&124)!==0||eh(d,o,c)}return c}function eh(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Te.updateQueue,o===null?(o=Tl(),Te.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function fc(s,o,c,d){o.value=c,o.getSnapshot=d,Hd(o)&&Gd(s)}function hu(s,o,c){return c(function(){Hd(o)&&Gd(s)})}function Hd(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Gi(s,c)}catch{return!0}}function Gd(s){var o=Ha(s,2);o!==null&&ta(o,s,2)}function dc(s){var o=Cr();if(typeof s=="function"){var c=s;if(s=c(),ki){He(!0);try{c()}finally{He(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:s},o}function Za(s,o,c,d){return s.baseState=c,cu(s,Me,typeof d=="function"?d:Wr)}function Nm(s,o,c,d,y){if(tp(s))throw Error(i(485));if(s=o.action,s!==null){var x={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){x.listeners.push(V)}};et.T!==null?c(!0):x.isTransition=!1,d(x),c=o.pending,c===null?(x.next=o.pending=x,Wd(o,x)):(x.next=c.next,o.pending=c.next=x)}}function Wd(s,o){var c=o.action,d=o.payload,y=s.state;if(o.isTransition){var x=et.T,V={};et.T=V;try{var K=c(y,d),dt=et.S;dt!==null&&dt(V,K),Yd(s,o,K)}catch(It){fu(s,o,It)}finally{et.T=x}}else try{x=c(y,d),Yd(s,o,x)}catch(It){fu(s,o,It)}}function Yd(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){uf(s,o,d)},function(d){return fu(s,o,d)}):uf(s,o,c)}function uf(s,o,c){o.status="fulfilled",o.value=c,cf(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,Wd(s,c)))}function fu(s,o,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,cf(o),o=o.next;while(o!==d)}s.action=null}function cf(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function hf(s,o){return o}function pc(s,o){if(yn){var c=ei.formState;if(c!==null){t:{var d=Te;if(yn){if(hi){e:{for(var y=hi,x=va;y.nodeType!==8;){if(!x){y=null;break e}if(y=io(y.nextSibling),y===null){y=null;break e}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){hi=io(y.nextSibling),d=y.data==="F!";break t}}Sl(d)}d=!1}d&&(o=c[0])}}return c=Cr(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:o},c.queue=d,c=c5.bind(null,Te,d),d.dispatch=c,d=dc(!1),x=Cm.bind(null,Te,!1,d.queue),d=Cr(),y={state:o,dispatch:null,action:s,pending:null},d.queue=y,c=Nm.bind(null,Te,y,x,c),y.dispatch=c,d.memoizedState=s,[o,c,!1]}function nh(s){var o=ii();return du(o,Me,s)}function du(s,o,c){if(o=cu(s,o,hf)[0],s=cc(Wr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=jo(o)}catch(V){throw V===H?Y:V}else d=o;o=ii();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Te.flags|=2048,Ja(9,gc(),Xd.bind(null,y,c),null)),[d,x,s]}function Xd(s,o){s.action=o}function Kd(s){var o=ii(),c=Me;if(c!==null)return du(o,c,s);ii(),o=o.memoizedState,c=ii();var d=c.queue.dispatch;return c.memoizedState=s,[o,d,!1]}function Ja(s,o,c,d){return s={tag:s,create:c,deps:d,inst:o,next:null},o=Te.updateQueue,o===null&&(o=Tl(),Te.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,o.lastEffect=s),s}function gc(){return{destroy:void 0,resource:void 0}}function ih(){return ii().memoizedState}function Ks(s,o,c,d){var y=Cr();d=d===void 0?null:d,Te.flags|=s,y.memoizedState=Ja(1|o,gc(),c,d)}function pu(s,o,c,d){var y=ii();d=d===void 0?null:d;var x=y.memoizedState.inst;Me!==null&&d!==null&&Ei(d,Me.memoizedState.deps)?y.memoizedState=Ja(o,x,c,d):(Te.flags|=s,y.memoizedState=Ja(1|o,x,c,d))}function ff(s,o){Ks(8390656,8,s,o)}function Qd(s,o){pu(2048,8,s,o)}function df(s,o){return pu(4,2,s,o)}function Nl(s,o){return pu(4,4,s,o)}function $d(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function pf(s,o,c){c=c!=null?c.concat([s]):null,pu(4,4,$d.bind(null,o,s),c)}function gf(){}function mf(s,o){var c=ii();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&Ei(o,d[1])?d[0]:(c.memoizedState=[s,o],s)}function Zd(s,o){var c=ii();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&Ei(o,d[1]))return d[0];if(d=s(),ki){He(!0);try{s()}finally{He(!1)}}return c.memoizedState=[d,o],d}function Cl(s,o,c){return c===void 0||(On&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=ay(),Te.lanes|=s,wu|=s,c)}function rh(s,o,c,d){return Gi(c,o)?c:Ke.current!==null?(s=Cl(s,c,d),Gi(s,o)||(br=!0),s):(On&42)===0?(br=!0,s.memoizedState=c):(s=ay(),Te.lanes|=s,wu|=s,o)}function mc(s,o,c,d,y){var x=ht.p;ht.p=x!==0&&8>x?x:8;var V=et.T,K={};et.T=K,Cm(s,!1,o,c);try{var dt=y(),It=et.S;if(It!==null&&It(K,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var Bt=Ud(dt,d);_f(s,o,Bt,Js(s))}else _f(s,o,d,Js(s))}catch(Wt){_f(s,o,{then:function(){},status:"rejected",reason:Wt},Js())}finally{ht.p=x,et.T=V}}function to(){}function xa(s,o,c,d){if(s.tag!==5)throw Error(i(476));var y=eo(s).queue;mc(s,y,o,lt,c===null?to:function(){return yc(s),c(d)})}function eo(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:lt},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function yc(s){var o=eo(s).next.queue;_f(s,o,{},Js())}function vc(){return Pi(Vf)}function yf(){return ii().memoizedState}function Jd(){return ii().memoizedState}function vf(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=Js();s=Ft(c);var d=Gt(o,s,c);d!==null&&(ta(d,o,c),qt(d,o,c)),o={cache:of()},s.payload=o;return}o=o.return}}function bf(s,o,c){var d=Js();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},tp(s)?h5(o,c):(c=Ro(s,o,c,d),c!==null&&(ta(c,s,d),f5(c,o,d)))}function c5(s,o,c){var d=Js();_f(s,o,c,d)}function _f(s,o,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(tp(s))h5(o,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var V=o.lastRenderedState,K=x(V,c);if(y.hasEagerState=!0,y.eagerState=K,Gi(K,V))return Lo(s,o,y,0),ei===null&&ws(),!1}catch{}finally{}if(c=Ro(s,o,y,d),c!==null)return ta(c,s,d),f5(c,o,d),!0}return!1}function Cm(s,o,c,d){if(d={lane:2,revertLane:a1(),action:d,hasEagerState:!1,eagerState:null,next:null},tp(s)){if(o)throw Error(i(479))}else o=Ro(s,c,d,2),o!==null&&ta(o,s,2)}function tp(s){var o=s.alternate;return s===Te||o!==null&&o===Te}function h5(s,o){Xi=dn=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function f5(s,o,c){if((c&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,c|=d,o.lanes=c,on(s,c)}}var ep={readContext:Pi,use:Gr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En},d5={readContext:Pi,use:Gr,useCallback:function(s,o){return Cr().memoizedState=[s,o===void 0?null:o],s},useContext:Pi,useEffect:ff,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Ks(4194308,4,$d.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Ks(4194308,4,s,o)},useInsertionEffect:function(s,o){Ks(4,2,s,o)},useMemo:function(s,o){var c=Cr();o=o===void 0?null:o;var d=s();if(ki){He(!0);try{s()}finally{He(!1)}}return c.memoizedState=[d,o],d},useReducer:function(s,o,c){var d=Cr();if(c!==void 0){var y=c(o);if(ki){He(!0);try{c(o)}finally{He(!1)}}}else y=o;return d.memoizedState=d.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},d.queue=s,s=s.dispatch=bf.bind(null,Te,s),[d.memoizedState,s]},useRef:function(s){var o=Cr();return s={current:s},o.memoizedState=s},useState:function(s){s=dc(s);var o=s.queue,c=c5.bind(null,Te,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:gf,useDeferredValue:function(s,o){var c=Cr();return Cl(c,s,o)},useTransition:function(){var s=dc(!1);return s=mc.bind(null,Te,s.queue,!0,!1),Cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var d=Te,y=Cr();if(yn){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),ei===null)throw Error(i(349));(pn&124)!==0||eh(d,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,ff(hu.bind(null,d,x,s),[s]),d.flags|=2048,Ja(9,gc(),fc.bind(null,d,x,c,o),null),c},useId:function(){var s=Cr(),o=ei.identifierPrefix;if(yn){var c=Xa,d=Ya;c=(d&~(1<<32-pe(d)-1)).toString(32)+c,o=""+o+"R"+c,c=gi++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=As++,o=""+o+"r"+c.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:vc,useFormState:pc,useActionState:pc,useOptimistic:function(s){var o=Cr();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Cm.bind(null,Te,!0,c),c.dispatch=o,[s,o]},useMemoCache:Vo,useCacheRefresh:function(){return Cr().memoizedState=vf.bind(null,Te)}},p5={readContext:Pi,use:Gr,useCallback:mf,useContext:Pi,useEffect:Qd,useImperativeHandle:pf,useInsertionEffect:df,useLayoutEffect:Nl,useMemo:Zd,useReducer:cc,useRef:ih,useState:function(){return cc(Wr)},useDebugValue:gf,useDeferredValue:function(s,o){var c=ii();return rh(c,Me.memoizedState,s,o)},useTransition:function(){var s=cc(Wr)[0],o=ii().memoizedState;return[typeof s=="boolean"?s:jo(s),o]},useSyncExternalStore:hc,useId:yf,useHostTransitionStatus:vc,useFormState:nh,useActionState:nh,useOptimistic:function(s,o){var c=ii();return Za(c,Me,s,o)},useMemoCache:Vo,useCacheRefresh:Jd},N6={readContext:Pi,use:Gr,useCallback:mf,useContext:Pi,useEffect:Qd,useImperativeHandle:pf,useInsertionEffect:df,useLayoutEffect:Nl,useMemo:Zd,useReducer:th,useRef:ih,useState:function(){return th(Wr)},useDebugValue:gf,useDeferredValue:function(s,o){var c=ii();return Me===null?Cl(c,s,o):rh(c,Me.memoizedState,s,o)},useTransition:function(){var s=th(Wr)[0],o=ii().memoizedState;return[typeof s=="boolean"?s:jo(s),o]},useSyncExternalStore:hc,useId:yf,useHostTransitionStatus:vc,useFormState:Kd,useActionState:Kd,useOptimistic:function(s,o){var c=ii();return Me!==null?Za(c,Me,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:Jd},sh=null,wf=0;function np(s){var o=wf;return wf+=1,sh===null&&(sh=[]),Rt(sh,s,o)}function xf(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function ip(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function g5(s){var o=s._init;return o(s._payload)}function m5(s){function o(Et,bt){if(s){var Lt=Et.deletions;Lt===null?(Et.deletions=[bt],Et.flags|=16):Lt.push(bt)}}function c(Et,bt){if(!s)return null;for(;bt!==null;)o(Et,bt),bt=bt.sibling;return null}function d(Et){for(var bt=new Map;Et!==null;)Et.key!==null?bt.set(Et.key,Et):bt.set(Et.index,Et),Et=Et.sibling;return bt}function y(Et,bt){return Et=ya(Et,bt),Et.index=0,Et.sibling=null,Et}function x(Et,bt,Lt){return Et.index=Lt,s?(Lt=Et.alternate,Lt!==null?(Lt=Lt.index,Lt<bt?(Et.flags|=67108866,bt):Lt):(Et.flags|=67108866,bt)):(Et.flags|=1048576,bt)}function V(Et){return s&&Et.alternate===null&&(Et.flags|=67108866),Et}function K(Et,bt,Lt,Ut){return bt===null||bt.tag!==6?(bt=Yc(Lt,Et.mode,Ut),bt.return=Et,bt):(bt=y(bt,Lt),bt.return=Et,bt)}function dt(Et,bt,Lt,Ut){var ge=Lt.type;return ge===T?Bt(Et,bt,Lt.props.children,Ut,Lt.key):bt!==null&&(bt.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&g5(ge)===bt.type)?(bt=y(bt,Lt.props),xf(bt,Lt),bt.return=Et,bt):(bt=_l(Lt.type,Lt.key,Lt.props,null,Et.mode,Ut),xf(bt,Lt),bt.return=Et,bt)}function It(Et,bt,Lt,Ut){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Lt.containerInfo||bt.stateNode.implementation!==Lt.implementation?(bt=rc(Lt,Et.mode,Ut),bt.return=Et,bt):(bt=y(bt,Lt.children||[]),bt.return=Et,bt)}function Bt(Et,bt,Lt,Ut,ge){return bt===null||bt.tag!==7?(bt=Ga(Lt,Et.mode,Ut,ge),bt.return=Et,bt):(bt=y(bt,Lt),bt.return=Et,bt)}function Wt(Et,bt,Lt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=Yc(""+bt,Et.mode,Lt),bt.return=Et,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case w:return Lt=_l(bt.type,bt.key,bt.props,null,Et.mode,Lt),xf(Lt,bt),Lt.return=Et,Lt;case _:return bt=rc(bt,Et.mode,Lt),bt.return=Et,bt;case C:var Ut=bt._init;return bt=Ut(bt._payload),Wt(Et,bt,Lt)}if(pt(bt)||L(bt))return bt=Ga(bt,Et.mode,Lt,null),bt.return=Et,bt;if(typeof bt.then=="function")return Wt(Et,np(bt),Lt);if(bt.$$typeof===J)return Wt(Et,Po(Et,bt),Lt);ip(Et,bt)}return null}function Pt(Et,bt,Lt,Ut){var ge=bt!==null?bt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return ge!==null?null:K(Et,bt,""+Lt,Ut);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:return Lt.key===ge?dt(Et,bt,Lt,Ut):null;case _:return Lt.key===ge?It(Et,bt,Lt,Ut):null;case C:return ge=Lt._init,Lt=ge(Lt._payload),Pt(Et,bt,Lt,Ut)}if(pt(Lt)||L(Lt))return ge!==null?null:Bt(Et,bt,Lt,Ut,null);if(typeof Lt.then=="function")return Pt(Et,bt,np(Lt),Ut);if(Lt.$$typeof===J)return Pt(Et,bt,Po(Et,Lt),Ut);ip(Et,Lt)}return null}function Ot(Et,bt,Lt,Ut,ge){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return Et=Et.get(Lt)||null,K(bt,Et,""+Ut,ge);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case w:return Et=Et.get(Ut.key===null?Lt:Ut.key)||null,dt(bt,Et,Ut,ge);case _:return Et=Et.get(Ut.key===null?Lt:Ut.key)||null,It(bt,Et,Ut,ge);case C:var en=Ut._init;return Ut=en(Ut._payload),Ot(Et,bt,Lt,Ut,ge)}if(pt(Ut)||L(Ut))return Et=Et.get(Lt)||null,Bt(bt,Et,Ut,ge,null);if(typeof Ut.then=="function")return Ot(Et,bt,Lt,np(Ut),ge);if(Ut.$$typeof===J)return Ot(Et,bt,Lt,Po(bt,Ut),ge);ip(bt,Ut)}return null}function ke(Et,bt,Lt,Ut){for(var ge=null,en=null,xe=bt,Ie=bt=0,wr=null;xe!==null&&Ie<Lt.length;Ie++){xe.index>Ie?(wr=xe,xe=null):wr=xe.sibling;var Tn=Pt(Et,xe,Lt[Ie],Ut);if(Tn===null){xe===null&&(xe=wr);break}s&&xe&&Tn.alternate===null&&o(Et,xe),bt=x(Tn,bt,Ie),en===null?ge=Tn:en.sibling=Tn,en=Tn,xe=wr}if(Ie===Lt.length)return c(Et,xe),yn&&xl(Et,Ie),ge;if(xe===null){for(;Ie<Lt.length;Ie++)xe=Wt(Et,Lt[Ie],Ut),xe!==null&&(bt=x(xe,bt,Ie),en===null?ge=xe:en.sibling=xe,en=xe);return yn&&xl(Et,Ie),ge}for(xe=d(xe);Ie<Lt.length;Ie++)wr=Ot(xe,Et,Ie,Lt[Ie],Ut),wr!==null&&(s&&wr.alternate!==null&&xe.delete(wr.key===null?Ie:wr.key),bt=x(wr,bt,Ie),en===null?ge=wr:en.sibling=wr,en=wr);return s&&xe.forEach(function(Ru){return o(Et,Ru)}),yn&&xl(Et,Ie),ge}function Le(Et,bt,Lt,Ut){if(Lt==null)throw Error(i(151));for(var ge=null,en=null,xe=bt,Ie=bt=0,wr=null,Tn=Lt.next();xe!==null&&!Tn.done;Ie++,Tn=Lt.next()){xe.index>Ie?(wr=xe,xe=null):wr=xe.sibling;var Ru=Pt(Et,xe,Tn.value,Ut);if(Ru===null){xe===null&&(xe=wr);break}s&&xe&&Ru.alternate===null&&o(Et,xe),bt=x(Ru,bt,Ie),en===null?ge=Ru:en.sibling=Ru,en=Ru,xe=wr}if(Tn.done)return c(Et,xe),yn&&xl(Et,Ie),ge;if(xe===null){for(;!Tn.done;Ie++,Tn=Lt.next())Tn=Wt(Et,Tn.value,Ut),Tn!==null&&(bt=x(Tn,bt,Ie),en===null?ge=Tn:en.sibling=Tn,en=Tn);return yn&&xl(Et,Ie),ge}for(xe=d(xe);!Tn.done;Ie++,Tn=Lt.next())Tn=Ot(xe,Et,Ie,Tn.value,Ut),Tn!==null&&(s&&Tn.alternate!==null&&xe.delete(Tn.key===null?Ie:Tn.key),bt=x(Tn,bt,Ie),en===null?ge=Tn:en.sibling=Tn,en=Tn);return s&&xe.forEach(function(Cx){return o(Et,Cx)}),yn&&xl(Et,Ie),ge}function Wn(Et,bt,Lt,Ut){if(typeof Lt=="object"&&Lt!==null&&Lt.type===T&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:t:{for(var ge=Lt.key;bt!==null;){if(bt.key===ge){if(ge=Lt.type,ge===T){if(bt.tag===7){c(Et,bt.sibling),Ut=y(bt,Lt.props.children),Ut.return=Et,Et=Ut;break t}}else if(bt.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&g5(ge)===bt.type){c(Et,bt.sibling),Ut=y(bt,Lt.props),xf(Ut,Lt),Ut.return=Et,Et=Ut;break t}c(Et,bt);break}else o(Et,bt);bt=bt.sibling}Lt.type===T?(Ut=Ga(Lt.props.children,Et.mode,Ut,Lt.key),Ut.return=Et,Et=Ut):(Ut=_l(Lt.type,Lt.key,Lt.props,null,Et.mode,Ut),xf(Ut,Lt),Ut.return=Et,Et=Ut)}return V(Et);case _:t:{for(ge=Lt.key;bt!==null;){if(bt.key===ge)if(bt.tag===4&&bt.stateNode.containerInfo===Lt.containerInfo&&bt.stateNode.implementation===Lt.implementation){c(Et,bt.sibling),Ut=y(bt,Lt.children||[]),Ut.return=Et,Et=Ut;break t}else{c(Et,bt);break}else o(Et,bt);bt=bt.sibling}Ut=rc(Lt,Et.mode,Ut),Ut.return=Et,Et=Ut}return V(Et);case C:return ge=Lt._init,Lt=ge(Lt._payload),Wn(Et,bt,Lt,Ut)}if(pt(Lt))return ke(Et,bt,Lt,Ut);if(L(Lt)){if(ge=L(Lt),typeof ge!="function")throw Error(i(150));return Lt=ge.call(Lt),Le(Et,bt,Lt,Ut)}if(typeof Lt.then=="function")return Wn(Et,bt,np(Lt),Ut);if(Lt.$$typeof===J)return Wn(Et,bt,Po(Et,Lt),Ut);ip(Et,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint"?(Lt=""+Lt,bt!==null&&bt.tag===6?(c(Et,bt.sibling),Ut=y(bt,Lt),Ut.return=Et,Et=Ut):(c(Et,bt),Ut=Yc(Lt,Et.mode,Ut),Ut.return=Et,Et=Ut),V(Et)):c(Et,bt)}return function(Et,bt,Lt,Ut){try{wf=0;var ge=Wn(Et,bt,Lt,Ut);return sh=null,ge}catch(xe){if(xe===H||xe===Y)throw xe;var en=vr(29,xe,null,Et.mode);return en.lanes=Ut,en.return=Et,en}finally{}}}var ah=m5(!0),y5=m5(!1),Sa=vt(null),Fo=null;function gu(s){var o=s.alternate;W(ar,ar.current&1),W(Sa,s),Fo===null&&(o===null||Ke.current!==null||o.memoizedState!==null)&&(Fo=s)}function v5(s){if(s.tag===22){if(W(ar,ar.current),W(Sa,s),Fo===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(Fo=s)}}else mu()}function mu(){W(ar,ar.current),W(Sa,Sa.current)}function Ll(s){j(Sa),Fo===s&&(Fo=null),j(ar)}var ar=vt(0);function rp(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||v1(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Lm(s,o,c,d){o=s.memoizedState,c=c(d,o),c=c==null?o:g({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Rm={enqueueSetState:function(s,o,c){s=s._reactInternals;var d=Js(),y=Ft(d);y.payload=o,c!=null&&(y.callback=c),o=Gt(s,y,d),o!==null&&(ta(o,s,d),qt(o,s,d))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var d=Js(),y=Ft(d);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Gt(s,y,d),o!==null&&(ta(o,s,d),qt(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Js(),d=Ft(c);d.tag=2,o!=null&&(d.callback=o),o=Gt(s,d,c),o!==null&&(ta(o,s,c),qt(o,s,c))}};function b5(s,o,c,d,y,x,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,V):o.prototype&&o.prototype.isPureReactComponent?!xo(c,d)||!xo(y,x):!0}function _5(s,o,c,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==s&&Rm.enqueueReplaceState(o,o.state,null)}function bc(s,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(s=s.defaultProps){c===o&&(c=g({},c));for(var y in s)c[y]===void 0&&(c[y]=s[y])}return c}var sp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function w5(s){sp(s)}function x5(s){console.error(s)}function S5(s){sp(s)}function ap(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function A5(s,o,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Dm(s,o,c){return c=Ft(c),c.tag=3,c.payload={element:null},c.callback=function(){ap(s,o)},c}function E5(s){return s=Ft(s),s.tag=3,s}function T5(s,o,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=d.value;s.payload=function(){return y(x)},s.callback=function(){A5(o,c,d)}}var V=c.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(s.callback=function(){A5(o,c,d),typeof y!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var K=d.stack;this.componentDidCatch(d.value,{componentStack:K!==null?K:""})})}function C6(s,o,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&uu(o,c,y,!0),c=Sa.current,c!==null){switch(c.tag){case 13:return Fo===null?e1():c.alternate===null&&Ti===0&&(Ti=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===Z?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),i1(s,d,y)),!1;case 22:return c.flags|=65536,d===Z?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),i1(s,d,y)),!1}throw Error(i(435,c.tag))}return i1(s,d,y),e1(),!1}if(yn)return o=Sa.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==af&&(s=Error(i(422),{cause:d}),lu($e(s,c)))):(d!==af&&(o=Error(i(423),{cause:d}),lu($e(o,c))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,d=$e(d,c),y=Dm(s.stateNode,d,y),he(s,y),Ti!==4&&(Ti=2)),!1;var x=Error(i(520),{cause:d});if(x=$e(x,c),Lf===null?Lf=[x]:Lf.push(x),Ti!==4&&(Ti=2),o===null)return!0;d=$e(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=y&-y,c.lanes|=s,s=Dm(c.stateNode,d,s),he(c,s),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xu===null||!xu.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=E5(y),T5(y,s,c,d),he(c,y),!1}c=c.return}while(c!==null);return!1}var N5=Error(i(461)),br=!1;function Lr(s,o,c,d){o.child=s===null?y5(o,null,c,d):ah(o,s.child,c,d)}function C5(s,o,c,d,y){c=c.render;var x=o.ref;if("ref"in d){var V={};for(var K in d)K!=="ref"&&(V[K]=d[K])}else V=d;return wa(o),d=Xs(s,o,c,V,x,y),K=ti(),s!==null&&!br?(uc(s,o,y),Rl(s,o,y)):(yn&&K&&sc(o),o.flags|=1,Lr(s,o,d,y),o.child)}function L5(s,o,c,d,y){if(s===null){var x=c.type;return typeof x=="function"&&!au(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,R5(s,o,x,d,y)):(s=_l(c.type,null,d,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!Fm(s,y)){var V=x.memoizedProps;if(c=c.compare,c=c!==null?c:xo,c(V,d)&&s.ref===o.ref)return Rl(s,o,y)}return o.flags|=1,s=ya(x,d),s.ref=o.ref,s.return=o,o.child=s}function R5(s,o,c,d,y){if(s!==null){var x=s.memoizedProps;if(xo(x,d)&&s.ref===o.ref)if(br=!1,o.pendingProps=d=x,Fm(s,y))(s.flags&131072)!==0&&(br=!0);else return o.lanes=s.lanes,Rl(s,o,y)}return Im(s,o,c,d,y)}function D5(s,o,c){var d=o.pendingProps,y=d.children,x=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=x!==null?x.baseLanes|c:c,s!==null){for(y=o.child=s.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;o.childLanes=x&~d}else o.childLanes=0,o.child=null;return I5(s,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&D(o,x!==null?x.cachePool:null),x!==null?In(o,x):An(),v5(o);else return o.lanes=o.childLanes=536870912,I5(s,o,x!==null?x.baseLanes|c:c,c)}else x!==null?(D(o,x.cachePool),In(o,x),mu(),o.memoizedState=null):(s!==null&&D(o,null),An(),mu());return Lr(s,o,y,c),o.child}function I5(s,o,c,d){var y=A();return y=y===null?null:{parent:Oi._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},s!==null&&D(o,null),An(),v5(o),s!==null&&uu(s,o,d,!0),null}function op(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function Im(s,o,c,d,y){return wa(o),c=Xs(s,o,c,d,void 0,y),d=ti(),s!==null&&!br?(uc(s,o,y),Rl(s,o,y)):(yn&&d&&sc(o),o.flags|=1,Lr(s,o,c,y),o.child)}function M5(s,o,c,d,y,x){return wa(o),o.updateQueue=null,c=El(o,d,c,y),Oo(s),d=ti(),s!==null&&!br?(uc(s,o,x),Rl(s,o,x)):(yn&&d&&sc(o),o.flags|=1,Lr(s,o,c,x),o.child)}function P5(s,o,c,d,y){if(wa(o),o.stateNode===null){var x=Wi,V=c.contextType;typeof V=="object"&&V!==null&&(x=Pi(V)),x=new c(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Rm,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},yt(o),V=c.contextType,x.context=typeof V=="object"&&V!==null?Pi(V):Wi,x.state=o.memoizedState,V=c.getDerivedStateFromProps,typeof V=="function"&&(Lm(o,c,V,d),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(V=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),V!==x.state&&Rm.enqueueReplaceState(x,x.state,null),se(o,d,x,y),_e(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){x=o.stateNode;var K=o.memoizedProps,dt=bc(c,K);x.props=dt;var It=x.context,Bt=c.contextType;V=Wi,typeof Bt=="object"&&Bt!==null&&(V=Pi(Bt));var Wt=c.getDerivedStateFromProps;Bt=typeof Wt=="function"||typeof x.getSnapshotBeforeUpdate=="function",K=o.pendingProps!==K,Bt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(K||It!==V)&&_5(o,x,d,V),kt=!1;var Pt=o.memoizedState;x.state=Pt,se(o,d,x,y),_e(),It=o.memoizedState,K||Pt!==It||kt?(typeof Wt=="function"&&(Lm(o,c,Wt,d),It=o.memoizedState),(dt=kt||b5(o,c,dt,d,Pt,It,V))?(Bt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=It),x.props=d,x.state=It,x.context=V,d=dt):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,wt(s,o),V=o.memoizedProps,Bt=bc(c,V),x.props=Bt,Wt=o.pendingProps,Pt=x.context,It=c.contextType,dt=Wi,typeof It=="object"&&It!==null&&(dt=Pi(It)),K=c.getDerivedStateFromProps,(It=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V!==Wt||Pt!==dt)&&_5(o,x,d,dt),kt=!1,Pt=o.memoizedState,x.state=Pt,se(o,d,x,y),_e();var Ot=o.memoizedState;V!==Wt||Pt!==Ot||kt||s!==null&&s.dependencies!==null&&$c(s.dependencies)?(typeof K=="function"&&(Lm(o,c,K,d),Ot=o.memoizedState),(Bt=kt||b5(o,c,Bt,d,Pt,Ot,dt)||s!==null&&s.dependencies!==null&&$c(s.dependencies))?(It||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,Ot,dt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,Ot,dt)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||V===s.memoizedProps&&Pt===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&Pt===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Ot),x.props=d,x.state=Ot,x.context=dt,d=Bt):(typeof x.componentDidUpdate!="function"||V===s.memoizedProps&&Pt===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&Pt===s.memoizedState||(o.flags|=1024),d=!1)}return x=d,op(s,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&d?(o.child=ah(o,s.child,null,y),o.child=ah(o,null,c,y)):Lr(s,o,c,y),o.memoizedState=x.state,s=o.child):s=Rl(s,o,y),s}function O5(s,o,c,d){return cs(),o.flags|=256,Lr(s,o,c,d),o.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(s){return{baseLanes:s,cachePool:B()}}function Om(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Aa),s}function k5(s,o,c){var d=o.pendingProps,y=!1,x=(o.flags&128)!==0,V;if((V=x)||(V=s!==null&&s.memoizedState===null?!1:(ar.current&2)!==0),V&&(y=!0,o.flags&=-129),V=(o.flags&32)!==0,o.flags&=-33,s===null){if(yn){if(y?gu(o):mu(),yn){var K=hi,dt;if(dt=K){t:{for(dt=K,K=va;dt.nodeType!==8;){if(!K){K=null;break t}if(dt=io(dt.nextSibling),dt===null){K=null;break t}}K=dt}K!==null?(o.memoizedState={dehydrated:K,treeContext:wl!==null?{id:Ya,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},dt=vr(18,null,null,0),dt.stateNode=K,dt.return=o,o.child=dt,Mi=o,hi=null,dt=!0):dt=!1}dt||Sl(o)}if(K=o.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return v1(K)?o.lanes=32:o.lanes=536870912,null;Ll(o)}return K=d.children,d=d.fallback,y?(mu(),y=o.mode,K=lp({mode:"hidden",children:K},y),d=Ga(d,y,c,null),K.return=o,d.return=o,K.sibling=d,o.child=K,y=o.child,y.memoizedState=Pm(c),y.childLanes=Om(s,V,c),o.memoizedState=Mm,d):(gu(o),km(o,K))}if(dt=s.memoizedState,dt!==null&&(K=dt.dehydrated,K!==null)){if(x)o.flags&256?(gu(o),o.flags&=-257,o=jm(s,o,c)):o.memoizedState!==null?(mu(),o.child=s.child,o.flags|=128,o=null):(mu(),y=d.fallback,K=o.mode,d=lp({mode:"visible",children:d.children},K),y=Ga(y,K,c,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,ah(o,s.child,null,c),d=o.child,d.memoizedState=Pm(c),d.childLanes=Om(s,V,c),o.memoizedState=Mm,o=y);else if(gu(o),v1(K)){if(V=K.nextSibling&&K.nextSibling.dataset,V)var It=V.dgst;V=It,d=Error(i(419)),d.stack="",d.digest=V,lu({value:d,source:null,stack:null}),o=jm(s,o,c)}else if(br||uu(s,o,c,!1),V=(c&s.childLanes)!==0,br||V){if(V=ei,V!==null&&(d=c&-c,d=(d&42)!==0?1:Or(d),d=(d&(V.suspendedLanes|c))!==0?0:d,d!==0&&d!==dt.retryLane))throw dt.retryLane=d,Ha(s,d),ta(V,s,d),N5;K.data==="$?"||e1(),o=jm(s,o,c)}else K.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=dt.treeContext,hi=io(K.nextSibling),Mi=o,yn=!0,Io=null,va=!1,s!==null&&(Ss[us++]=Ya,Ss[us++]=Xa,Ss[us++]=wl,Ya=s.id,Xa=s.overflow,wl=o),o=km(o,d.children),o.flags|=4096);return o}return y?(mu(),y=d.fallback,K=o.mode,dt=s.child,It=dt.sibling,d=ya(dt,{mode:"hidden",children:d.children}),d.subtreeFlags=dt.subtreeFlags&65011712,It!==null?y=ya(It,y):(y=Ga(y,K,c,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,K=s.child.memoizedState,K===null?K=Pm(c):(dt=K.cachePool,dt!==null?(It=Oi._currentValue,dt=dt.parent!==It?{parent:It,pool:It}:dt):dt=B(),K={baseLanes:K.baseLanes|c,cachePool:dt}),y.memoizedState=K,y.childLanes=Om(s,V,c),o.memoizedState=Mm,d):(gu(o),c=s.child,s=c.sibling,c=ya(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,s!==null&&(V=o.deletions,V===null?(o.deletions=[s],o.flags|=16):V.push(s)),o.child=c,o.memoizedState=null,c)}function km(s,o){return o=lp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function lp(s,o){return s=vr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function jm(s,o,c){return ah(o,s.child,null,c),s=km(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function j5(s,o,c){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Kc(s.return,o,c)}function Vm(s,o,c,d,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=c,x.tailMode=y)}function V5(s,o,c){var d=o.pendingProps,y=d.revealOrder,x=d.tail;if(Lr(s,o,d.children,c),d=ar.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&j5(s,c,o);else if(s.tag===19)j5(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(W(ar,d),y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&rp(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Vm(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&rp(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Vm(o,!0,c,null,x);break;case"together":Vm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rl(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),wu|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(uu(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=ya(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ya(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function Fm(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&$c(s)))}function L6(s,o,c){switch(o.tag){case 3:Nt(o,o.stateNode.containerInfo),Mo(o,Oi,s.memoizedState.cache),cs();break;case 27:case 5:Zt(o);break;case 4:Nt(o,o.stateNode.containerInfo);break;case 10:Mo(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(gu(o),o.flags|=128,null):(c&o.child.childLanes)!==0?k5(s,o,c):(gu(o),s=Rl(s,o,c),s!==null?s.sibling:null);gu(o);break;case 19:var y=(s.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(uu(s,o,c,!1),d=(c&o.childLanes)!==0),y){if(d)return V5(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(ar,ar.current),d)break;return null;case 22:case 23:return o.lanes=0,D5(s,o,c);case 24:Mo(o,Oi,s.memoizedState.cache)}return Rl(s,o,c)}function F5(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)br=!0;else{if(!Fm(s,c)&&(o.flags&128)===0)return br=!1,L6(s,o,c);br=(s.flags&131072)!==0}else br=!1,yn&&(o.flags&1048576)!==0&&Vd(o,Xc,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")au(d)?(s=bc(d,s),o.tag=1,o=P5(null,o,d,s,c)):(o.tag=0,o=Im(null,o,d,s,c));else{if(d!=null){if(y=d.$$typeof,y===ot){o.tag=11,o=C5(null,o,d,s,c);break t}else if(y===F){o.tag=14,o=L5(null,o,d,s,c);break t}}throw o=nt(d)||d,Error(i(306,o,""))}}return o;case 0:return Im(s,o,o.type,o.pendingProps,c);case 1:return d=o.type,y=bc(d,o.pendingProps),P5(s,o,d,y,c);case 3:t:{if(Nt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;y=x.element,wt(s,o),se(o,d,null,c);var V=o.memoizedState;if(d=V.cache,Mo(o,Oi,d),d!==x.cache&&Qc(o,[Oi],c,!0),_e(),d=V.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:V.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=O5(s,o,d,c);break t}else if(d!==y){y=$e(Error(i(424)),o),lu(y),o=O5(s,o,d,c);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(hi=io(s.firstChild),Mi=o,yn=!0,Io=null,va=!0,c=y5(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cs(),d===y){o=Rl(s,o,c);break t}Lr(s,o,d,c)}o=o.child}return o;case 26:return op(s,o),s===null?(c=Uy(o.type,null,o.pendingProps,null))?o.memoizedState=c:yn||(c=o.type,s=o.pendingProps,d=xp(ft.current).createElement(c),d[Cn]=o,d[Ln]=s,Dr(d,c,s),_n(d),o.stateNode=d):o.memoizedState=Uy(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Zt(o),s===null&&yn&&(d=o.stateNode=By(o.type,o.pendingProps,ft.current),Mi=o,va=!0,y=hi,Eu(o.type)?(b1=y,hi=io(d.firstChild)):hi=y),Lr(s,o,o.pendingProps.children,c),op(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&yn&&((y=d=hi)&&(d=ix(d,o.type,o.pendingProps,va),d!==null?(o.stateNode=d,Mi=o,hi=io(d.firstChild),va=!1,y=!0):y=!1),y||Sl(o)),Zt(o),y=o.type,x=o.pendingProps,V=s!==null?s.memoizedProps:null,d=x.children,g1(y,x)?d=null:V!==null&&g1(y,V)&&(o.flags|=32),o.memoizedState!==null&&(y=Xs(s,o,ko,null,null,c),Vf._currentValue=y),op(s,o),Lr(s,o,d,c),o.child;case 6:return s===null&&yn&&((s=c=hi)&&(c=rx(c,o.pendingProps,va),c!==null?(o.stateNode=c,Mi=o,hi=null,s=!0):s=!1),s||Sl(o)),null;case 13:return k5(s,o,c);case 4:return Nt(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=ah(o,null,d,c):Lr(s,o,d,c),o.child;case 11:return C5(s,o,o.type,o.pendingProps,c);case 7:return Lr(s,o,o.pendingProps,c),o.child;case 8:return Lr(s,o,o.pendingProps.children,c),o.child;case 12:return Lr(s,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Mo(o,o.type,d.value),Lr(s,o,d.children,c),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,wa(o),y=Pi(y),d=d(y),o.flags|=1,Lr(s,o,d,c),o.child;case 14:return L5(s,o,o.type,o.pendingProps,c);case 15:return R5(s,o,o.type,o.pendingProps,c);case 19:return V5(s,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},s===null?(c=lp(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=ya(s.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return D5(s,o,c);case 24:return wa(o),d=Pi(Oi),s===null?(y=A(),y===null&&(y=ei,x=of(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:d,cache:y},yt(o),Mo(o,Oi,y)):((s.lanes&c)!==0&&(wt(s,o),se(o,null,null,c),_e()),y=s.memoizedState,x=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Mo(o,Oi,d)):(d=x.cache,Mo(o,Oi,d),d!==y.cache&&Qc(o,[Oi],c,!0))),Lr(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Dl(s){s.flags|=4}function B5(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Xy(o)){if(o=Sa.current,o!==null&&((pn&4194048)===pn?Fo!==null:(pn&62914560)!==pn&&(pn&536870912)===0||o!==Fo))throw Ct=Z,G;s.flags|=8192}}function up(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Bn():536870912,s.lanes|=o,ch|=o)}function Sf(s,o){if(!yn)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function yi(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=d,s.childLanes=c,o}function R6(s,o,c){var d=o.pendingProps;switch(ac(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(o),null;case 1:return yi(o),null;case 3:return c=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),_a(Oi),Mt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Nr(o)?Dl(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bd())),yi(o),null;case 26:return c=o.memoizedState,s===null?(Dl(o),c!==null?(yi(o),B5(o,c)):(yi(o),o.flags&=-16777217)):c?c!==s.memoizedState?(Dl(o),yi(o),B5(o,c)):(yi(o),o.flags&=-16777217):(s.memoizedProps!==d&&Dl(o),yi(o),o.flags&=-16777217),null;case 27:Qt(o),c=ft.current;var y=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Dl(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return yi(o),null}s=tt.current,Nr(o)?Fd(o):(s=By(y,d,c),o.stateNode=s,Dl(o))}return yi(o),null;case 5:if(Qt(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Dl(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return yi(o),null}if(s=tt.current,Nr(o))Fd(o);else{switch(y=xp(ft.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?y.createElement(c,{is:d.is}):y.createElement(c)}}s[Cn]=o,s[Ln]=d;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=s;t:switch(Dr(s,c,d),c){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Dl(o)}}return yi(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Dl(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(s=ft.current,Nr(o)){if(s=o.stateNode,c=o.memoizedProps,d=null,y=Mi,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}s[Cn]=o,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||My(s.nodeValue,c)),s||Sl(o)}else s=xp(s).createTextNode(d),s[Cn]=o,o.stateNode=s}return yi(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Nr(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Cn]=o}else cs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yi(o),y=!1}else y=Bd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ll(o),o):(Ll(o),null)}if(Ll(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,s=s!==null&&s.memoizedState!==null,c){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==y&&(d.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),up(o,o.updateQueue),yi(o),null;case 4:return Mt(),s===null&&c1(o.stateNode.containerInfo),yi(o),null;case 10:return _a(o.type),yi(o),null;case 19:if(j(ar),y=o.memoizedState,y===null)return yi(o),null;if(d=(o.flags&128)!==0,x=y.rendering,x===null)if(d)Sf(y,!1);else{if(Ti!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=rp(s),x!==null){for(o.flags|=128,Sf(y,!1),s=x.updateQueue,o.updateQueue=s,up(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)ic(c,s),c=c.sibling;return W(ar,ar.current&1|2),o.child}s=s.sibling}y.tail!==null&&Ae()>fp&&(o.flags|=128,d=!0,Sf(y,!1),o.lanes=4194304)}else{if(!d)if(s=rp(x),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,up(o,s),Sf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!yn)return yi(o),null}else 2*Ae()-y.renderingStartTime>fp&&c!==536870912&&(o.flags|=128,d=!0,Sf(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(s=y.last,s!==null?s.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ae(),o.sibling=null,s=ar.current,W(ar,d?s&1|2:s&1),o):(yi(o),null);case 22:case 23:return Ll(o),Fe(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(yi(o),o.subtreeFlags&6&&(o.flags|=8192)):yi(o),c=o.updateQueue,c!==null&&up(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),s!==null&&j(b),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),_a(Oi),yi(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function D6(s,o){switch(ac(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return _a(Oi),Mt(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Qt(o),null;case 13:if(Ll(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));cs()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return j(ar),null;case 4:return Mt(),null;case 10:return _a(o.type),null;case 22:case 23:return Ll(o),Fe(),s!==null&&j(b),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return _a(Oi),null;case 25:return null;default:return null}}function z5(s,o){switch(ac(o),o.tag){case 3:_a(Oi),Mt();break;case 26:case 27:case 5:Qt(o);break;case 4:Mt();break;case 13:Ll(o);break;case 19:j(ar);break;case 10:_a(o.type);break;case 22:case 23:Ll(o),Fe(),s!==null&&j(b);break;case 24:_a(Oi)}}function Af(s,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&s)===s){d=void 0;var x=c.create,V=c.inst;d=x(),V.destroy=d}c=c.next}while(c!==y)}}catch(K){Kn(o,o.return,K)}}function yu(s,o,c){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var x=y.next;d=x;do{if((d.tag&s)===s){var V=d.inst,K=V.destroy;if(K!==void 0){V.destroy=void 0,y=o;var dt=c,It=K;try{It()}catch(Bt){Kn(y,dt,Bt)}}}d=d.next}while(d!==x)}}catch(Bt){Kn(o,o.return,Bt)}}function q5(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{Sn(o,c)}catch(d){Kn(s,s.return,d)}}}function U5(s,o,c){c.props=bc(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){Kn(s,o,d)}}function Ef(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(y){Kn(s,o,y)}}function Bo(s,o){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){Kn(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Kn(s,o,y)}else c.current=null}function H5(s){var o=s.type,c=s.memoizedProps,d=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(y){Kn(s,s.return,y)}}function Bm(s,o,c){try{var d=s.stateNode;Z6(d,s.type,c,o),d[Ln]=o}catch(y){Kn(s,s.return,y)}}function G5(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Eu(s.type)||s.tag===4}function zm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||G5(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Eu(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qm(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=wp));else if(d!==4&&(d===27&&Eu(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(qm(s,o,c),s=s.sibling;s!==null;)qm(s,o,c),s=s.sibling}function cp(s,o,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(d!==4&&(d===27&&Eu(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(cp(s,o,c),s=s.sibling;s!==null;)cp(s,o,c),s=s.sibling}function W5(s){var o=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Dr(o,d,c),o[Cn]=s,o[Ln]=c}catch(x){Kn(s,s.return,x)}}var Il=!1,ji=!1,Um=!1,Y5=typeof WeakSet=="function"?WeakSet:Set,_r=null;function I6(s,o){if(s=s.containerInfo,d1=Cp,s=Tr(s),sr(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break t}var V=0,K=-1,dt=-1,It=0,Bt=0,Wt=s,Pt=null;e:for(;;){for(var Ot;Wt!==c||y!==0&&Wt.nodeType!==3||(K=V+y),Wt!==x||d!==0&&Wt.nodeType!==3||(dt=V+d),Wt.nodeType===3&&(V+=Wt.nodeValue.length),(Ot=Wt.firstChild)!==null;)Pt=Wt,Wt=Ot;for(;;){if(Wt===s)break e;if(Pt===c&&++It===y&&(K=V),Pt===x&&++Bt===d&&(dt=V),(Ot=Wt.nextSibling)!==null)break;Wt=Pt,Pt=Wt.parentNode}Wt=Ot}c=K===-1||dt===-1?null:{start:K,end:dt}}else c=null}c=c||{start:0,end:0}}else c=null;for(p1={focusedElem:s,selectionRange:c},Cp=!1,_r=o;_r!==null;)if(o=_r,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,_r=s;else for(;_r!==null;){switch(o=_r,x=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var ke=bc(c.type,y,c.elementType===c.type);s=d.getSnapshotBeforeUpdate(ke,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(Le){Kn(c,c.return,Le)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)y1(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":y1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,_r=s;break}_r=o.return}}function X5(s,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:vu(s,c),d&4&&Af(5,c);break;case 1:if(vu(s,c),d&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(V){Kn(c,c.return,V)}else{var y=bc(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(V){Kn(c,c.return,V)}}d&64&&q5(c),d&512&&Ef(c,c.return);break;case 3:if(vu(s,c),d&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Sn(s,o)}catch(V){Kn(c,c.return,V)}}break;case 27:o===null&&d&4&&W5(c);case 26:case 5:vu(s,c),o===null&&d&4&&H5(c),d&512&&Ef(c,c.return);break;case 12:vu(s,c);break;case 13:vu(s,c),d&4&&$5(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=z6.bind(null,c),sx(s,c))));break;case 22:if(d=c.memoizedState!==null||Il,!d){o=o!==null&&o.memoizedState!==null||ji,y=Il;var x=ji;Il=d,(ji=o)&&!x?bu(s,c,(c.subtreeFlags&8772)!==0):vu(s,c),Il=y,ji=x}break;case 30:break;default:vu(s,c)}}function K5(s){var o=s.alternate;o!==null&&(s.alternate=null,K5(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ui(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fi=null,Es=!1;function Ml(s,o,c){for(c=c.child;c!==null;)Q5(s,o,c),c=c.sibling}function Q5(s,o,c){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(be,c)}catch{}switch(c.tag){case 26:ji||Bo(c,o),Ml(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ji||Bo(c,o);var d=fi,y=Es;Eu(c.type)&&(fi=c.stateNode,Es=!1),Ml(s,o,c),Pf(c.stateNode),fi=d,Es=y;break;case 5:ji||Bo(c,o);case 6:if(d=fi,y=Es,fi=null,Ml(s,o,c),fi=d,Es=y,fi!==null)if(Es)try{(fi.nodeType===9?fi.body:fi.nodeName==="HTML"?fi.ownerDocument.body:fi).removeChild(c.stateNode)}catch(x){Kn(c,o,x)}else try{fi.removeChild(c.stateNode)}catch(x){Kn(c,o,x)}break;case 18:fi!==null&&(Es?(s=fi,Vy(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),qf(s)):Vy(fi,c.stateNode));break;case 4:d=fi,y=Es,fi=c.stateNode.containerInfo,Es=!0,Ml(s,o,c),fi=d,Es=y;break;case 0:case 11:case 14:case 15:ji||yu(2,c,o),ji||yu(4,c,o),Ml(s,o,c);break;case 1:ji||(Bo(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&U5(c,o,d)),Ml(s,o,c);break;case 21:Ml(s,o,c);break;case 22:ji=(d=ji)||c.memoizedState!==null,Ml(s,o,c),ji=d;break;default:Ml(s,o,c)}}function $5(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{qf(s)}catch(c){Kn(o,o.return,c)}}function M6(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Y5),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Y5),o;default:throw Error(i(435,s.tag))}}function Hm(s,o){var c=M6(s);o.forEach(function(d){var y=q6.bind(null,s,d);c.has(d)||(c.add(d),d.then(y,y))})}function Qs(s,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],x=s,V=o,K=V;t:for(;K!==null;){switch(K.tag){case 27:if(Eu(K.type)){fi=K.stateNode,Es=!1;break t}break;case 5:fi=K.stateNode,Es=!1;break t;case 3:case 4:fi=K.stateNode.containerInfo,Es=!0;break t}K=K.return}if(fi===null)throw Error(i(160));Q5(x,V,y),fi=null,Es=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Z5(o,s),o=o.sibling}var no=null;function Z5(s,o){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qs(o,s),$s(s),d&4&&(yu(3,s,s.return),Af(3,s),yu(5,s,s.return));break;case 1:Qs(o,s),$s(s),d&512&&(ji||c===null||Bo(c,c.return)),d&64&&Il&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var y=no;if(Qs(o,s),$s(s),d&512&&(ji||c===null||Bo(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){t:{d=s.type,c=s.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Ar]||x[Cn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(d),y.head.insertBefore(x,y.querySelector("head > title"))),Dr(x,d,c),x[Cn]=s,_n(x),d=x;break t;case"link":var V=Wy("link","href",y).get(d+(c.href||""));if(V){for(var K=0;K<V.length;K++)if(x=V[K],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){V.splice(K,1);break e}}x=y.createElement(d),Dr(x,d,c),y.head.appendChild(x);break;case"meta":if(V=Wy("meta","content",y).get(d+(c.content||""))){for(K=0;K<V.length;K++)if(x=V[K],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){V.splice(K,1);break e}}x=y.createElement(d),Dr(x,d,c),y.head.appendChild(x);break;default:throw Error(i(468,d))}x[Cn]=s,_n(x),d=x}s.stateNode=d}else Yy(y,s.type,s.stateNode);else s.stateNode=Gy(y,d,s.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?Yy(y,s.type,s.stateNode):Gy(y,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Bm(s,s.memoizedProps,c.memoizedProps)}break;case 27:Qs(o,s),$s(s),d&512&&(ji||c===null||Bo(c,c.return)),c!==null&&d&4&&Bm(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Qs(o,s),$s(s),d&512&&(ji||c===null||Bo(c,c.return)),s.flags&32){y=s.stateNode;try{jr(y,"")}catch(Ot){Kn(s,s.return,Ot)}}d&4&&s.stateNode!=null&&(y=s.memoizedProps,Bm(s,y,c!==null?c.memoizedProps:y)),d&1024&&(Um=!0);break;case 6:if(Qs(o,s),$s(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(Ot){Kn(s,s.return,Ot)}}break;case 3:if(Ep=null,y=no,no=Sp(o.containerInfo),Qs(o,s),no=y,$s(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{qf(o.containerInfo)}catch(Ot){Kn(s,s.return,Ot)}Um&&(Um=!1,J5(s));break;case 4:d=no,no=Sp(s.stateNode.containerInfo),Qs(o,s),$s(s),no=d;break;case 12:Qs(o,s),$s(s);break;case 13:Qs(o,s),$s(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Qm=Ae()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Hm(s,d)));break;case 22:y=s.memoizedState!==null;var dt=c!==null&&c.memoizedState!==null,It=Il,Bt=ji;if(Il=It||y,ji=Bt||dt,Qs(o,s),ji=Bt,Il=It,$s(s),d&8192)t:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||dt||Il||ji||_c(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){dt=c=o;try{if(x=dt.stateNode,y)V=x.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{K=dt.stateNode;var Wt=dt.memoizedProps.style,Pt=Wt!=null&&Wt.hasOwnProperty("display")?Wt.display:null;K.style.display=Pt==null||typeof Pt=="boolean"?"":(""+Pt).trim()}}catch(Ot){Kn(dt,dt.return,Ot)}}}else if(o.tag===6){if(c===null){dt=o;try{dt.stateNode.nodeValue=y?"":dt.memoizedProps}catch(Ot){Kn(dt,dt.return,Ot)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Hm(s,c))));break;case 19:Qs(o,s),$s(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Hm(s,d)));break;case 30:break;case 21:break;default:Qs(o,s),$s(s)}}function $s(s){var o=s.flags;if(o&2){try{for(var c,d=s.return;d!==null;){if(G5(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,x=zm(s);cp(s,x,y);break;case 5:var V=c.stateNode;c.flags&32&&(jr(V,""),c.flags&=-33);var K=zm(s);cp(s,K,V);break;case 3:case 4:var dt=c.stateNode.containerInfo,It=zm(s);qm(s,It,dt);break;default:throw Error(i(161))}}catch(Bt){Kn(s,s.return,Bt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function J5(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;J5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function vu(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)X5(s,o.alternate,o),o=o.sibling}function _c(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:yu(4,o,o.return),_c(o);break;case 1:Bo(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&U5(o,o.return,c),_c(o);break;case 27:Pf(o.stateNode);case 26:case 5:Bo(o,o.return),_c(o);break;case 22:o.memoizedState===null&&_c(o);break;case 30:_c(o);break;default:_c(o)}s=s.sibling}}function bu(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=s,x=o,V=x.flags;switch(x.tag){case 0:case 11:case 15:bu(y,x,c),Af(4,x);break;case 1:if(bu(y,x,c),d=x,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(It){Kn(d,d.return,It)}if(d=x,y=d.updateQueue,y!==null){var K=d.stateNode;try{var dt=y.shared.hiddenCallbacks;if(dt!==null)for(y.shared.hiddenCallbacks=null,y=0;y<dt.length;y++)fn(dt[y],K)}catch(It){Kn(d,d.return,It)}}c&&V&64&&q5(x),Ef(x,x.return);break;case 27:W5(x);case 26:case 5:bu(y,x,c),c&&d===null&&V&4&&H5(x),Ef(x,x.return);break;case 12:bu(y,x,c);break;case 13:bu(y,x,c),c&&V&4&&$5(y,x);break;case 22:x.memoizedState===null&&bu(y,x,c),Ef(x,x.return);break;case 30:break;default:bu(y,x,c)}o=o.sibling}}function Gm(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&oc(c))}function Wm(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&oc(s))}function zo(s,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ty(s,o,c,d),o=o.sibling}function ty(s,o,c,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:zo(s,o,c,d),y&2048&&Af(9,o);break;case 1:zo(s,o,c,d);break;case 3:zo(s,o,c,d),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&oc(s)));break;case 12:if(y&2048){zo(s,o,c,d),s=o.stateNode;try{var x=o.memoizedProps,V=x.id,K=x.onPostCommit;typeof K=="function"&&K(V,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(dt){Kn(o,o.return,dt)}}else zo(s,o,c,d);break;case 13:zo(s,o,c,d);break;case 23:break;case 22:x=o.stateNode,V=o.alternate,o.memoizedState!==null?x._visibility&2?zo(s,o,c,d):Tf(s,o):x._visibility&2?zo(s,o,c,d):(x._visibility|=2,oh(s,o,c,d,(o.subtreeFlags&10256)!==0)),y&2048&&Gm(V,o);break;case 24:zo(s,o,c,d),y&2048&&Wm(o.alternate,o);break;default:zo(s,o,c,d)}}function oh(s,o,c,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=s,V=o,K=c,dt=d,It=V.flags;switch(V.tag){case 0:case 11:case 15:oh(x,V,K,dt,y),Af(8,V);break;case 23:break;case 22:var Bt=V.stateNode;V.memoizedState!==null?Bt._visibility&2?oh(x,V,K,dt,y):Tf(x,V):(Bt._visibility|=2,oh(x,V,K,dt,y)),y&&It&2048&&Gm(V.alternate,V);break;case 24:oh(x,V,K,dt,y),y&&It&2048&&Wm(V.alternate,V);break;default:oh(x,V,K,dt,y)}o=o.sibling}}function Tf(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,d=o,y=d.flags;switch(d.tag){case 22:Tf(c,d),y&2048&&Gm(d.alternate,d);break;case 24:Tf(c,d),y&2048&&Wm(d.alternate,d);break;default:Tf(c,d)}o=o.sibling}}var Nf=8192;function lh(s){if(s.subtreeFlags&Nf)for(s=s.child;s!==null;)ey(s),s=s.sibling}function ey(s){switch(s.tag){case 26:lh(s),s.flags&Nf&&s.memoizedState!==null&&vx(no,s.memoizedState,s.memoizedProps);break;case 5:lh(s);break;case 3:case 4:var o=no;no=Sp(s.stateNode.containerInfo),lh(s),no=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Nf,Nf=16777216,lh(s),Nf=o):lh(s));break;default:lh(s)}}function ny(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Cf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];_r=d,ry(d,s)}ny(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)iy(s),s=s.sibling}function iy(s){switch(s.tag){case 0:case 11:case 15:Cf(s),s.flags&2048&&yu(9,s,s.return);break;case 3:Cf(s);break;case 12:Cf(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,hp(s)):Cf(s);break;default:Cf(s)}}function hp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];_r=d,ry(d,s)}ny(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:yu(8,o,o.return),hp(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,hp(o));break;default:hp(o)}s=s.sibling}}function ry(s,o){for(;_r!==null;){var c=_r;switch(c.tag){case 0:case 11:case 15:yu(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:oc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,_r=d;else t:for(c=s;_r!==null;){d=_r;var y=d.sibling,x=d.return;if(K5(d),d===c){_r=null;break t}if(y!==null){y.return=x,_r=y;break t}_r=x}}}var P6={getCacheForType:function(s){var o=Pi(Oi),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},O6=typeof WeakMap=="function"?WeakMap:Map,kn=0,ei=null,nn=null,pn=0,jn=0,Zs=null,_u=!1,uh=!1,Ym=!1,Pl=0,Ti=0,wu=0,wc=0,Xm=0,Aa=0,ch=0,Lf=null,Ts=null,Km=!1,Qm=0,fp=1/0,dp=null,xu=null,Rr=0,Su=null,hh=null,fh=0,$m=0,Zm=null,sy=null,Rf=0,Jm=null;function Js(){if((kn&2)!==0&&pn!==0)return pn&-pn;if(et.T!==null){var s=Al;return s!==0?s:a1()}return er()}function ay(){Aa===0&&(Aa=(pn&536870912)===0||yn?Ms():536870912);var s=Sa.current;return s!==null&&(s.flags|=32),Aa}function ta(s,o,c){(s===ei&&(jn===2||jn===9)||s.cancelPendingCommit!==null)&&(dh(s,0),Au(s,pn,Aa,!1)),tr(s,c),((kn&2)===0||s!==ei)&&(s===ei&&((kn&2)===0&&(wc|=c),Ti===4&&Au(s,pn,Aa,!1)),qo(s))}function oy(s,o,c){if((kn&6)!==0)throw Error(i(327));var d=!c&&(o&124)===0&&(o&s.expiredLanes)===0||fr(s,o),y=d?V6(s,o):n1(s,o,!0),x=d;do{if(y===0){uh&&!d&&Au(s,o,0,!1);break}else{if(c=s.current.alternate,x&&!k6(c)){y=n1(s,o,!1),x=!1;continue}if(y===2){if(x=o,s.errorRecoveryDisabledLanes&x)var V=0;else V=s.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){o=V;t:{var K=s;y=Lf;var dt=K.current.memoizedState.isDehydrated;if(dt&&(dh(K,V).flags|=256),V=n1(K,V,!1),V!==2){if(Ym&&!dt){K.errorRecoveryDisabledLanes|=x,wc|=x,y=4;break t}x=Ts,Ts=y,x!==null&&(Ts===null?Ts=x:Ts.push.apply(Ts,x))}y=V}if(x=!1,y!==2)continue}}if(y===1){dh(s,0),Au(s,o,0,!0);break}t:{switch(d=s,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Au(d,o,Aa,!_u);break t;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Qm+300-Ae(),10<y)){if(Au(d,o,Aa,!_u),Nn(d,0,!0)!==0)break t;d.timeoutHandle=ky(ly.bind(null,d,c,Ts,dp,Km,o,Aa,wc,ch,_u,x,2,-0,0),y);break t}ly(d,c,Ts,dp,Km,o,Aa,wc,ch,_u,x,0,-0,0)}}break}while(!0);qo(s)}function ly(s,o,c,d,y,x,V,K,dt,It,Bt,Wt,Pt,Ot){if(s.timeoutHandle=-1,Wt=o.subtreeFlags,(Wt&8192||(Wt&16785408)===16785408)&&(jf={stylesheets:null,count:0,unsuspend:yx},ey(o),Wt=bx(),Wt!==null)){s.cancelPendingCommit=Wt(gy.bind(null,s,o,x,c,d,y,V,K,dt,Bt,1,Pt,Ot)),Au(s,x,V,!It);return}gy(s,o,x,c,d,y,V,K,dt)}function k6(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],x=y.getSnapshot;y=y.value;try{if(!Gi(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Au(s,o,c,d){o&=~Xm,o&=~wc,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var y=o;0<y;){var x=31-pe(y),V=1<<x;d[x]=-1,y&=~V}c!==0&&Ee(s,c,o)}function pp(){return(kn&6)===0?(Df(0),!1):!0}function t1(){if(nn!==null){if(jn===0)var s=nn.return;else s=nn,Qa=Yi=null,Jc(s),sh=null,wf=0,s=nn;for(;s!==null;)z5(s.alternate,s),s=s.return;nn=null}}function dh(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,tx(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),t1(),ei=s,nn=c=ya(s.current,null),pn=o,jn=0,Zs=null,_u=!1,uh=fr(s,o),Ym=!1,ch=Aa=Xm=wc=wu=Ti=0,Ts=Lf=null,Km=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var y=31-pe(d),x=1<<y;o|=s[y],d&=~x}return Pl=o,ws(),c}function uy(s,o){Te=null,et.H=ep,o===H||o===Y?(o=At(),jn=3):o===G?(o=At(),jn=4):jn=o===N5?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zs=o,nn===null&&(Ti=1,ap(s,$e(o,s.current)))}function cy(){var s=et.H;return et.H=ep,s===null?ep:s}function hy(){var s=et.A;return et.A=P6,s}function e1(){Ti=4,_u||(pn&4194048)!==pn&&Sa.current!==null||(uh=!0),(wu&134217727)===0&&(wc&134217727)===0||ei===null||Au(ei,pn,Aa,!1)}function n1(s,o,c){var d=kn;kn|=2;var y=cy(),x=hy();(ei!==s||pn!==o)&&(dp=null,dh(s,o)),o=!1;var V=Ti;t:do try{if(jn!==0&&nn!==null){var K=nn,dt=Zs;switch(jn){case 8:t1(),V=6;break t;case 3:case 2:case 9:case 6:Sa.current===null&&(o=!0);var It=jn;if(jn=0,Zs=null,ph(s,K,dt,It),c&&uh){V=0;break t}break;default:It=jn,jn=0,Zs=null,ph(s,K,dt,It)}}j6(),V=Ti;break}catch(Bt){uy(s,Bt)}while(!0);return o&&s.shellSuspendCounter++,Qa=Yi=null,kn=d,et.H=y,et.A=x,nn===null&&(ei=null,pn=0,ws()),V}function j6(){for(;nn!==null;)fy(nn)}function V6(s,o){var c=kn;kn|=2;var d=cy(),y=hy();ei!==s||pn!==o?(dp=null,fp=Ae()+500,dh(s,o)):uh=fr(s,o);t:do try{if(jn!==0&&nn!==null){o=nn;var x=Zs;e:switch(jn){case 1:jn=0,Zs=null,ph(s,o,x,1);break;case 2:case 9:if(rt(x)){jn=0,Zs=null,dy(o);break}o=function(){jn!==2&&jn!==9||ei!==s||(jn=7),qo(s)},x.then(o,o);break t;case 3:jn=7;break t;case 4:jn=5;break t;case 7:rt(x)?(jn=0,Zs=null,dy(o)):(jn=0,Zs=null,ph(s,o,x,7));break;case 5:var V=null;switch(nn.tag){case 26:V=nn.memoizedState;case 5:case 27:var K=nn;if(!V||Xy(V)){jn=0,Zs=null;var dt=K.sibling;if(dt!==null)nn=dt;else{var It=K.return;It!==null?(nn=It,gp(It)):nn=null}break e}}jn=0,Zs=null,ph(s,o,x,5);break;case 6:jn=0,Zs=null,ph(s,o,x,6);break;case 8:t1(),Ti=6;break t;default:throw Error(i(462))}}F6();break}catch(Bt){uy(s,Bt)}while(!0);return Qa=Yi=null,et.H=d,et.A=y,kn=c,nn!==null?0:(ei=null,pn=0,ws(),Ti)}function F6(){for(;nn!==null&&!Vt();)fy(nn)}function fy(s){var o=F5(s.alternate,s,Pl);s.memoizedProps=s.pendingProps,o===null?gp(s):nn=o}function dy(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=M5(c,o,o.pendingProps,o.type,void 0,pn);break;case 11:o=M5(c,o,o.pendingProps,o.type.render,o.ref,pn);break;case 5:Jc(o);default:z5(c,o),o=nn=ic(o,Pl),o=F5(c,o,Pl)}s.memoizedProps=s.pendingProps,o===null?gp(s):nn=o}function ph(s,o,c,d){Qa=Yi=null,Jc(o),sh=null,wf=0;var y=o.return;try{if(C6(s,y,o,c,pn)){Ti=1,ap(s,$e(c,s.current)),nn=null;return}}catch(x){if(y!==null)throw nn=y,x;Ti=1,ap(s,$e(c,s.current)),nn=null;return}o.flags&32768?(yn||d===1?s=!0:uh||(pn&536870912)!==0?s=!1:(_u=s=!0,(d===2||d===9||d===3||d===6)&&(d=Sa.current,d!==null&&d.tag===13&&(d.flags|=16384))),py(o,s)):gp(o)}function gp(s){var o=s;do{if((o.flags&32768)!==0){py(o,_u);return}s=o.return;var c=R6(o.alternate,o,Pl);if(c!==null){nn=c;return}if(o=o.sibling,o!==null){nn=o;return}nn=o=s}while(o!==null);Ti===0&&(Ti=5)}function py(s,o){do{var c=D6(s.alternate,s);if(c!==null){c.flags&=32767,nn=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){nn=s;return}nn=s=c}while(s!==null);Ti=6,nn=null}function gy(s,o,c,d,y,x,V,K,dt){s.cancelPendingCommit=null;do mp();while(Rr!==0);if((kn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=pi,zn(s,c,x,V,K,dt),s===ei&&(nn=ei=null,pn=0),hh=o,Su=s,fh=c,$m=x,Zm=y,sy=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,U6(ae,function(){return _y(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=et.T,et.T=null,y=ht.p,ht.p=2,V=kn,kn|=4;try{I6(s,o,c)}finally{kn=V,ht.p=y,et.T=d}}Rr=1,my(),yy(),vy()}}function my(){if(Rr===1){Rr=0;var s=Su,o=hh,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=et.T,et.T=null;var d=ht.p;ht.p=2;var y=kn;kn|=4;try{Z5(o,s);var x=p1,V=Tr(s.containerInfo),K=x.focusedElem,dt=x.selectionRange;if(V!==K&&K&&K.ownerDocument&&So(K.ownerDocument.documentElement,K)){if(dt!==null&&sr(K)){var It=dt.start,Bt=dt.end;if(Bt===void 0&&(Bt=It),"selectionStart"in K)K.selectionStart=It,K.selectionEnd=Math.min(Bt,K.value.length);else{var Wt=K.ownerDocument||document,Pt=Wt&&Wt.defaultView||window;if(Pt.getSelection){var Ot=Pt.getSelection(),ke=K.textContent.length,Le=Math.min(dt.start,ke),Wn=dt.end===void 0?Le:Math.min(dt.end,ke);!Ot.extend&&Le>Wn&&(V=Wn,Wn=Le,Le=V);var Et=qa(K,Le),bt=qa(K,Wn);if(Et&&bt&&(Ot.rangeCount!==1||Ot.anchorNode!==Et.node||Ot.anchorOffset!==Et.offset||Ot.focusNode!==bt.node||Ot.focusOffset!==bt.offset)){var Lt=Wt.createRange();Lt.setStart(Et.node,Et.offset),Ot.removeAllRanges(),Le>Wn?(Ot.addRange(Lt),Ot.extend(bt.node,bt.offset)):(Lt.setEnd(bt.node,bt.offset),Ot.addRange(Lt))}}}}for(Wt=[],Ot=K;Ot=Ot.parentNode;)Ot.nodeType===1&&Wt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Wt.length;K++){var Ut=Wt[K];Ut.element.scrollLeft=Ut.left,Ut.element.scrollTop=Ut.top}}Cp=!!d1,p1=d1=null}finally{kn=y,ht.p=d,et.T=c}}s.current=o,Rr=2}}function yy(){if(Rr===2){Rr=0;var s=Su,o=hh,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=et.T,et.T=null;var d=ht.p;ht.p=2;var y=kn;kn|=4;try{X5(s,o.alternate,o)}finally{kn=y,ht.p=d,et.T=c}}Rr=3}}function vy(){if(Rr===4||Rr===3){Rr=0,ct();var s=Su,o=hh,c=fh,d=sy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Rr=5:(Rr=0,hh=Su=null,by(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(xu=null),oi(c),o=o.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(be,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=et.T,y=ht.p,ht.p=2,et.T=null;try{for(var x=s.onRecoverableError,V=0;V<d.length;V++){var K=d[V];x(K.value,{componentStack:K.stack})}}finally{et.T=o,ht.p=y}}(fh&3)!==0&&mp(),qo(s),y=s.pendingLanes,(c&4194090)!==0&&(y&42)!==0?s===Jm?Rf++:(Rf=0,Jm=s):Rf=0,Df(0)}}function by(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,oc(o)))}function mp(s){return my(),yy(),vy(),_y()}function _y(){if(Rr!==5)return!1;var s=Su,o=$m;$m=0;var c=oi(fh),d=et.T,y=ht.p;try{ht.p=32>c?32:c,et.T=null,c=Zm,Zm=null;var x=Su,V=fh;if(Rr=0,hh=Su=null,fh=0,(kn&6)!==0)throw Error(i(331));var K=kn;if(kn|=4,iy(x.current),ty(x,x.current,V,c),kn=K,Df(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(be,x)}catch{}return!0}finally{ht.p=y,et.T=d,by(s,o)}}function wy(s,o,c){o=$e(c,o),o=Dm(s.stateNode,o,2),s=Gt(s,o,2),s!==null&&(tr(s,2),qo(s))}function Kn(s,o,c){if(s.tag===3)wy(s,s,c);else for(;o!==null;){if(o.tag===3){wy(o,s,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xu===null||!xu.has(d))){s=$e(c,s),c=E5(2),d=Gt(o,c,2),d!==null&&(T5(c,d,o,s),tr(d,2),qo(d));break}}o=o.return}}function i1(s,o,c){var d=s.pingCache;if(d===null){d=s.pingCache=new O6;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(c)||(Ym=!0,y.add(c),s=B6.bind(null,s,o,c),o.then(s,s))}function B6(s,o,c){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ei===s&&(pn&c)===c&&(Ti===4||Ti===3&&(pn&62914560)===pn&&300>Ae()-Qm?(kn&2)===0&&dh(s,0):Xm|=c,ch===pn&&(ch=0)),qo(s)}function xy(s,o){o===0&&(o=Bn()),s=Ha(s,o),s!==null&&(tr(s,o),qo(s))}function z6(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),xy(s,c)}function q6(s,o){var c=0;switch(s.tag){case 13:var d=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),xy(s,c)}function U6(s,o){return ee(s,o)}var yp=null,gh=null,r1=!1,vp=!1,s1=!1,xc=0;function qo(s){s!==gh&&s.next===null&&(gh===null?yp=gh=s:gh=gh.next=s),vp=!0,r1||(r1=!0,G6())}function Df(s,o){if(!s1&&vp){s1=!0;do for(var c=!1,d=yp;d!==null;){if(s!==0){var y=d.pendingLanes;if(y===0)var x=0;else{var V=d.suspendedLanes,K=d.pingedLanes;x=(1<<31-pe(42|s)+1)-1,x&=y&~(V&~K),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,Ty(d,x))}else x=pn,x=Nn(d,d===ei?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||fr(d,x)||(c=!0,Ty(d,x));d=d.next}while(c);s1=!1}}function H6(){Sy()}function Sy(){vp=r1=!1;var s=0;xc!==0&&(J6()&&(s=xc),xc=0);for(var o=Ae(),c=null,d=yp;d!==null;){var y=d.next,x=Ay(d,o);x===0?(d.next=null,c===null?yp=y:c.next=y,y===null&&(gh=c)):(c=d,(s!==0||(x&3)!==0)&&(vp=!0)),d=y}Df(s)}function Ay(s,o){for(var c=s.suspendedLanes,d=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var V=31-pe(x),K=1<<V,dt=y[V];dt===-1?((K&c)===0||(K&d)!==0)&&(y[V]=an(K,o)):dt<=o&&(s.expiredLanes|=K),x&=~K}if(o=ei,c=pn,c=Nn(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===o&&(jn===2||jn===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&we(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||fr(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(d!==null&&we(d),oi(c)){case 2:case 8:c=te;break;case 32:c=ae;break;case 268435456:c=ve;break;default:c=ae}return d=Ey.bind(null,s),c=ee(c,d),s.callbackPriority=o,s.callbackNode=c,o}return d!==null&&d!==null&&we(d),s.callbackPriority=2,s.callbackNode=null,2}function Ey(s,o){if(Rr!==0&&Rr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(mp()&&s.callbackNode!==c)return null;var d=pn;return d=Nn(s,s===ei?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(oy(s,d,o),Ay(s,Ae()),s.callbackNode!=null&&s.callbackNode===c?Ey.bind(null,s):null)}function Ty(s,o){if(mp())return null;oy(s,o,!0)}function G6(){ex(function(){(kn&6)!==0?ee($t,H6):Sy()})}function a1(){return xc===0&&(xc=Ms()),xc}function Ny(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Bs(""+s)}function Cy(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function W6(s,o,c,d,y){if(o==="submit"&&c&&c.stateNode===y){var x=Ny((y[Ln]||null).action),V=d.submitter;V&&(o=(o=V[Ln]||null)?Ny(o.formAction):V.getAttribute("formAction"),o!==null&&(x=o,V=null));var K=new la("action","action",null,d,y);s.push({event:K,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(xc!==0){var dt=V?Cy(y,V):new FormData(y);xa(c,{pending:!0,data:dt,method:y.method,action:x},null,dt)}}else typeof x=="function"&&(K.preventDefault(),dt=V?Cy(y,V):new FormData(y),xa(c,{pending:!0,data:dt,method:y.method,action:x},x,dt))},currentTarget:y}]})}}for(var o1=0;o1<vl.length;o1++){var l1=vl[o1],Y6=l1.toLowerCase(),X6=l1[0].toUpperCase()+l1.slice(1);ci(Y6,"on"+X6)}ci(ru,"onAnimationEnd"),ci(Eo,"onAnimationIteration"),ci(To,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(No,"onTransitionRun"),ci(yl,"onTransitionStart"),ci(su,"onTransitionCancel"),ci(Co,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(If));function Ly(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],y=d.event;d=d.listeners;t:{var x=void 0;if(o)for(var V=d.length-1;0<=V;V--){var K=d[V],dt=K.instance,It=K.currentTarget;if(K=K.listener,dt!==x&&y.isPropagationStopped())break t;x=K,y.currentTarget=It;try{x(y)}catch(Bt){sp(Bt)}y.currentTarget=null,x=dt}else for(V=0;V<d.length;V++){if(K=d[V],dt=K.instance,It=K.currentTarget,K=K.listener,dt!==x&&y.isPropagationStopped())break t;x=K,y.currentTarget=It;try{x(y)}catch(Bt){sp(Bt)}y.currentTarget=null,x=dt}}}}function rn(s,o){var c=o[ni];c===void 0&&(c=o[ni]=new Set);var d=s+"__bubble";c.has(d)||(Ry(o,s,2,!1),c.add(d))}function u1(s,o,c){var d=0;o&&(d|=4),Ry(c,s,d,o)}var bp="_reactListening"+Math.random().toString(36).slice(2);function c1(s){if(!s[bp]){s[bp]=!0,Ps.forEach(function(c){c!=="selectionchange"&&(K6.has(c)||u1(c,!1,s),u1(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[bp]||(o[bp]=!0,u1("selectionchange",!1,o))}}function Ry(s,o,c,d){switch(tv(o)){case 2:var y=xx;break;case 8:y=Sx;break;default:y=A1}c=y.bind(null,o,c,s),y=void 0,!Er||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function h1(s,o,c,d,y){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var V=d.tag;if(V===3||V===4){var K=d.stateNode.containerInfo;if(K===y)break;if(V===4)for(V=d.return;V!==null;){var dt=V.tag;if((dt===3||dt===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;K!==null;){if(V=Li(K),V===null)return;if(dt=V.tag,dt===5||dt===6||dt===26||dt===27){d=x=V;continue t}K=K.parentNode}}d=d.return}Jl(function(){var It=x,Bt=Pn(c),Wt=[];t:{var Pt=Ua.get(s);if(Pt!==void 0){var Ot=la,ke=s;switch(s){case"keypress":if(Br(c)===0)break t;case"keydown":case"keyup":Ot=Hs;break;case"focusin":ke="focus",Ot=ca;break;case"focusout":ke="blur",Ot=ca;break;case"beforeblur":case"afterblur":Ot=ca;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=ua;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=bo;break;case ru:case Eo:case To:Ot=mo;break;case Co:Ot=z;break;case"scroll":case"scrollend":Ot=hl;break;case"wheel":Ot=gt;break;case"copy":case"cut":case"paste":Ot=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=za;break;case"toggle":case"beforetoggle":Ot=jt}var Le=(o&4)!==0,Wn=!Le&&(s==="scroll"||s==="scrollend"),Et=Le?Pt!==null?Pt+"Capture":null:Pt;Le=[];for(var bt=It,Lt;bt!==null;){var Ut=bt;if(Lt=Ut.stateNode,Ut=Ut.tag,Ut!==5&&Ut!==26&&Ut!==27||Lt===null||Et===null||(Ut=pr(bt,Et),Ut!=null&&Le.push(Mf(bt,Ut,Lt))),Wn)break;bt=bt.return}0<Le.length&&(Pt=new Ot(Pt,ke,null,c,Bt),Wt.push({event:Pt,listeners:Le}))}}if((o&7)===0){t:{if(Pt=s==="mouseover"||s==="pointerover",Ot=s==="mouseout"||s==="pointerout",Pt&&c!==ds&&(ke=c.relatedTarget||c.fromElement)&&(Li(ke)||ke[Xn]))break t;if((Ot||Pt)&&(Pt=Bt.window===Bt?Bt:(Pt=Bt.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,Ot?(ke=c.relatedTarget||c.toElement,Ot=It,ke=ke?Li(ke):null,ke!==null&&(Wn=a(ke),Le=ke.tag,ke!==Wn||Le!==5&&Le!==27&&Le!==6)&&(ke=null)):(Ot=null,ke=It),Ot!==ke)){if(Le=xi,Ut="onMouseLeave",Et="onMouseEnter",bt="mouse",(s==="pointerout"||s==="pointerover")&&(Le=za,Ut="onPointerLeave",Et="onPointerEnter",bt="pointer"),Wn=Ot==null?Pt:Ri(Ot),Lt=ke==null?Pt:Ri(ke),Pt=new Le(Ut,bt+"leave",Ot,c,Bt),Pt.target=Wn,Pt.relatedTarget=Lt,Ut=null,Li(Bt)===It&&(Le=new Le(Et,bt+"enter",ke,c,Bt),Le.target=Lt,Le.relatedTarget=Wn,Ut=Le),Wn=Ut,Ot&&ke)e:{for(Le=Ot,Et=ke,bt=0,Lt=Le;Lt;Lt=mh(Lt))bt++;for(Lt=0,Ut=Et;Ut;Ut=mh(Ut))Lt++;for(;0<bt-Lt;)Le=mh(Le),bt--;for(;0<Lt-bt;)Et=mh(Et),Lt--;for(;bt--;){if(Le===Et||Et!==null&&Le===Et.alternate)break e;Le=mh(Le),Et=mh(Et)}Le=null}else Le=null;Ot!==null&&Dy(Wt,Pt,Ot,Le,!1),ke!==null&&Wn!==null&&Dy(Wt,Wn,ke,Le,!0)}}t:{if(Pt=It?Ri(It):window,Ot=Pt.nodeName&&Pt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&Pt.type==="file")var ge=nu;else if(Dn(Pt))if(dl)ge=Gc;else{ge=sf;var en=qr}else Ot=Pt.nodeName,!Ot||Ot.toLowerCase()!=="input"||Pt.type!=="checkbox"&&Pt.type!=="radio"?It&&ul(It.elementType)&&(ge=nu):ge=ec;if(ge&&(ge=ge(s,It))){bs(Wt,ge,c,Bt);break t}en&&en(s,Pt,It),s==="focusout"&&It&&Pt.type==="number"&&It.memoizedProps.value!=null&&sa(Pt,"number",Pt.value)}switch(en=It?Ri(It):window,s){case"focusin":(Dn(en)||en.contentEditable==="true")&&(Ur=en,Gs=It,ga=null);break;case"focusout":ga=Gs=Ur=null;break;case"mousedown":Ws=!0;break;case"contextmenu":case"mouseup":case"dragend":Ws=!1,ui(Wt,c,Bt);break;case"selectionchange":if(Ao)break;case"keydown":case"keyup":ui(Wt,c,Bt)}var xe;if(re)t:{switch(s){case"compositionstart":var Ie="onCompositionStart";break t;case"compositionend":Ie="onCompositionEnd";break t;case"compositionupdate":Ie="onCompositionUpdate";break t}Ie=void 0}else Ce?Dt(s,c)&&(Ie="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(P&&c.locale!=="ko"&&(Ce||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ce&&(xe=cl()):(Fr=Bt,oa="value"in Fr?Fr.value:Fr.textContent,Ce=!0)),en=_p(It,Ie),0<en.length&&(Ie=new Va(Ie,s,null,c,Bt),Wt.push({event:Ie,listeners:en}),xe?Ie.data=xe:(xe=Kt(c),xe!==null&&(Ie.data=xe)))),(xe=E?tn(s,c):Ve(s,c))&&(Ie=_p(It,"onBeforeInput"),0<Ie.length&&(en=new Va("onBeforeInput","beforeinput",null,c,Bt),Wt.push({event:en,listeners:Ie}),en.data=xe)),W6(Wt,s,It,c,Bt)}Ly(Wt,o)})}function Mf(s,o,c){return{instance:s,listener:o,currentTarget:c}}function _p(s,o){for(var c=o+"Capture",d=[];s!==null;){var y=s,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=pr(s,c),y!=null&&d.unshift(Mf(s,y,x)),y=pr(s,o),y!=null&&d.push(Mf(s,y,x))),s.tag===3)return d;s=s.return}return[]}function mh(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Dy(s,o,c,d,y){for(var x=o._reactName,V=[];c!==null&&c!==d;){var K=c,dt=K.alternate,It=K.stateNode;if(K=K.tag,dt!==null&&dt===d)break;K!==5&&K!==26&&K!==27||It===null||(dt=It,y?(It=pr(c,x),It!=null&&V.unshift(Mf(c,It,dt))):y||(It=pr(c,x),It!=null&&V.push(Mf(c,It,dt)))),c=c.return}V.length!==0&&s.push({event:o,listeners:V})}var Q6=/\r\n?/g,$6=/\u0000|\uFFFD/g;function Iy(s){return(typeof s=="string"?s:""+s).replace(Q6,`
`).replace($6,"")}function My(s,o){return o=Iy(o),Iy(s)===o}function wp(){}function Gn(s,o,c,d,y,x){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||jr(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&jr(s,""+d);break;case"className":as(s,"class",d);break;case"tabIndex":as(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":as(s,c,d);break;case"style":ll(s,d,x);break;case"data":if(o!=="object"){as(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Bs(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Gn(s,o,"name",y.name,y,null),Gn(s,o,"formEncType",y.formEncType,y,null),Gn(s,o,"formMethod",y.formMethod,y,null),Gn(s,o,"formTarget",y.formTarget,y,null)):(Gn(s,o,"encType",y.encType,y,null),Gn(s,o,"method",y.method,y,null),Gn(s,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Bs(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=wp);break;case"onScroll":d!=null&&rn("scroll",s);break;case"onScrollEnd":d!=null&&rn("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=Bs(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":rn("beforetoggle",s),rn("toggle",s),ss(s,"popover",d);break;case"xlinkActuate":Di(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Di(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Di(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Di(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Di(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Di(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Di(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Di(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Di(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ss(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Fs.get(c)||c,ss(s,c,d))}}function f1(s,o,c,d,y,x){switch(c){case"style":ll(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof d=="string"?jr(s,d):(typeof d=="number"||typeof d=="bigint")&&jr(s,""+d);break;case"onScroll":d!=null&&rn("scroll",s);break;case"onScrollEnd":d!=null&&rn("scrollend",s);break;case"onClick":d!=null&&(s.onclick=wp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=s[Ln]||null,x=x!=null?x[c]:null,typeof x=="function"&&s.removeEventListener(o,x,y),typeof d=="function")){typeof x!="function"&&x!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,d,y);break t}c in s?s[c]=d:d===!0?s.setAttribute(c,""):ss(s,c,d)}}}function Dr(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",s),rn("load",s);var d=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var V=c[x];if(V!=null)switch(x){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Gn(s,o,x,V,c,null)}}y&&Gn(s,o,"srcSet",c.srcSet,c,null),d&&Gn(s,o,"src",c.src,c,null);return;case"input":rn("invalid",s);var K=x=V=y=null,dt=null,It=null;for(d in c)if(c.hasOwnProperty(d)){var Bt=c[d];if(Bt!=null)switch(d){case"name":y=Bt;break;case"type":V=Bt;break;case"checked":dt=Bt;break;case"defaultChecked":It=Bt;break;case"value":x=Bt;break;case"defaultValue":K=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,o));break;default:Gn(s,o,d,Bt,c,null)}}ra(s,x,K,dt,It,V,y,!1),ia(s);return;case"select":rn("invalid",s),d=V=x=null;for(y in c)if(c.hasOwnProperty(y)&&(K=c[y],K!=null))switch(y){case"value":x=K;break;case"defaultValue":V=K;break;case"multiple":d=K;default:Gn(s,o,y,K,c,null)}o=x,c=V,s.multiple=!!d,o!=null?fs(s,!!d,o,!1):c!=null&&fs(s,!!d,c,!0);return;case"textarea":rn("invalid",s),x=y=d=null;for(V in c)if(c.hasOwnProperty(V)&&(K=c[V],K!=null))switch(V){case"value":d=K;break;case"defaultValue":y=K;break;case"children":x=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:Gn(s,o,V,K,c,null)}aa(s,d,y,x),ia(s);return;case"option":for(dt in c)if(c.hasOwnProperty(dt)&&(d=c[dt],d!=null))switch(dt){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Gn(s,o,dt,d,c,null)}return;case"dialog":rn("beforetoggle",s),rn("toggle",s),rn("cancel",s),rn("close",s);break;case"iframe":case"object":rn("load",s);break;case"video":case"audio":for(d=0;d<If.length;d++)rn(If[d],s);break;case"image":rn("error",s),rn("load",s);break;case"details":rn("toggle",s);break;case"embed":case"source":case"link":rn("error",s),rn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(It in c)if(c.hasOwnProperty(It)&&(d=c[It],d!=null))switch(It){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Gn(s,o,It,d,c,null)}return;default:if(ul(o)){for(Bt in c)c.hasOwnProperty(Bt)&&(d=c[Bt],d!==void 0&&f1(s,o,Bt,d,c,void 0));return}}for(K in c)c.hasOwnProperty(K)&&(d=c[K],d!=null&&Gn(s,o,K,d,c,null))}function Z6(s,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,V=null,K=null,dt=null,It=null,Bt=null;for(Ot in c){var Wt=c[Ot];if(c.hasOwnProperty(Ot)&&Wt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":dt=Wt;default:d.hasOwnProperty(Ot)||Gn(s,o,Ot,null,d,Wt)}}for(var Pt in d){var Ot=d[Pt];if(Wt=c[Pt],d.hasOwnProperty(Pt)&&(Ot!=null||Wt!=null))switch(Pt){case"type":x=Ot;break;case"name":y=Ot;break;case"checked":It=Ot;break;case"defaultChecked":Bt=Ot;break;case"value":V=Ot;break;case"defaultValue":K=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,o));break;default:Ot!==Wt&&Gn(s,o,Pt,Ot,d,Wt)}}ir(s,V,K,dt,It,Bt,x,y);return;case"select":Ot=V=K=Pt=null;for(x in c)if(dt=c[x],c.hasOwnProperty(x)&&dt!=null)switch(x){case"value":break;case"multiple":Ot=dt;default:d.hasOwnProperty(x)||Gn(s,o,x,null,d,dt)}for(y in d)if(x=d[y],dt=c[y],d.hasOwnProperty(y)&&(x!=null||dt!=null))switch(y){case"value":Pt=x;break;case"defaultValue":K=x;break;case"multiple":V=x;default:x!==dt&&Gn(s,o,y,x,d,dt)}o=K,c=V,d=Ot,Pt!=null?fs(s,!!c,Pt,!1):!!d!=!!c&&(o!=null?fs(s,!!c,o,!0):fs(s,!!c,c?[]:"",!1));return;case"textarea":Ot=Pt=null;for(K in c)if(y=c[K],c.hasOwnProperty(K)&&y!=null&&!d.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Gn(s,o,K,null,d,y)}for(V in d)if(y=d[V],x=c[V],d.hasOwnProperty(V)&&(y!=null||x!=null))switch(V){case"value":Pt=y;break;case"defaultValue":Ot=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&Gn(s,o,V,y,d,x)}wn(s,Pt,Ot);return;case"option":for(var ke in c)if(Pt=c[ke],c.hasOwnProperty(ke)&&Pt!=null&&!d.hasOwnProperty(ke))switch(ke){case"selected":s.selected=!1;break;default:Gn(s,o,ke,null,d,Pt)}for(dt in d)if(Pt=d[dt],Ot=c[dt],d.hasOwnProperty(dt)&&Pt!==Ot&&(Pt!=null||Ot!=null))switch(dt){case"selected":s.selected=Pt&&typeof Pt!="function"&&typeof Pt!="symbol";break;default:Gn(s,o,dt,Pt,d,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)Pt=c[Le],c.hasOwnProperty(Le)&&Pt!=null&&!d.hasOwnProperty(Le)&&Gn(s,o,Le,null,d,Pt);for(It in d)if(Pt=d[It],Ot=c[It],d.hasOwnProperty(It)&&Pt!==Ot&&(Pt!=null||Ot!=null))switch(It){case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(i(137,o));break;default:Gn(s,o,It,Pt,d,Ot)}return;default:if(ul(o)){for(var Wn in c)Pt=c[Wn],c.hasOwnProperty(Wn)&&Pt!==void 0&&!d.hasOwnProperty(Wn)&&f1(s,o,Wn,void 0,d,Pt);for(Bt in d)Pt=d[Bt],Ot=c[Bt],!d.hasOwnProperty(Bt)||Pt===Ot||Pt===void 0&&Ot===void 0||f1(s,o,Bt,Pt,d,Ot);return}}for(var Et in c)Pt=c[Et],c.hasOwnProperty(Et)&&Pt!=null&&!d.hasOwnProperty(Et)&&Gn(s,o,Et,null,d,Pt);for(Wt in d)Pt=d[Wt],Ot=c[Wt],!d.hasOwnProperty(Wt)||Pt===Ot||Pt==null&&Ot==null||Gn(s,o,Wt,Pt,d,Ot)}var d1=null,p1=null;function xp(s){return s.nodeType===9?s:s.ownerDocument}function Py(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function g1(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var m1=null;function J6(){var s=window.event;return s&&s.type==="popstate"?s===m1?!1:(m1=s,!0):(m1=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(s){return jy.resolve(null).then(s).catch(nx)}:ky;function nx(s){setTimeout(function(){throw s})}function Eu(s){return s==="head"}function Vy(s,o){var c=o,d=0,y=0;do{var x=c.nextSibling;if(s.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<d&&8>d){c=d;var V=s.ownerDocument;if(c&1&&Pf(V.documentElement),c&2&&Pf(V.body),c&4)for(c=V.head,Pf(c),V=c.firstChild;V;){var K=V.nextSibling,dt=V.nodeName;V[Ar]||dt==="SCRIPT"||dt==="STYLE"||dt==="LINK"&&V.rel.toLowerCase()==="stylesheet"||c.removeChild(V),V=K}}if(y===0){s.removeChild(x),qf(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:d=c.charCodeAt(0)-48;else d=0;c=x}while(c);qf(o)}function y1(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":y1(c),Ui(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function ix(s,o,c,d){for(;s.nodeType===1;){var y=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Ar])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=io(s.nextSibling),s===null)break}return null}function rx(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=io(s.nextSibling),s===null))return null;return s}function v1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function sx(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function io(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var b1=null;function Fy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function By(s,o,c){switch(o=xp(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Pf(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ui(s)}var Ea=new Map,zy=new Set;function Sp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ol=ht.d;ht.d={f:ax,r:ox,D:lx,C:ux,L:cx,m:hx,X:dx,S:fx,M:px};function ax(){var s=Ol.f(),o=pp();return s||o}function ox(s){var o=_i(s);o!==null&&o.tag===5&&o.type==="form"?yc(o):Ol.r(s)}var yh=typeof document>"u"?null:document;function qy(s,o,c){var d=yh;if(d&&typeof o=="string"&&o){var y=cn(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),zy.has(y)||(zy.add(y),s={rel:s,crossOrigin:c,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Dr(o,"link",s),_n(o),d.head.appendChild(o)))}}function lx(s){Ol.D(s),qy("dns-prefetch",s,null)}function ux(s,o){Ol.C(s,o),qy("preconnect",s,o)}function cx(s,o,c){Ol.L(s,o,c);var d=yh;if(d&&s&&o){var y='link[rel="preload"][as="'+cn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+cn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+cn(c.imageSizes)+'"]')):y+='[href="'+cn(s)+'"]';var x=y;switch(o){case"style":x=vh(s);break;case"script":x=bh(s)}Ea.has(x)||(s=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),Ea.set(x,s),d.querySelector(y)!==null||o==="style"&&d.querySelector(Of(x))||o==="script"&&d.querySelector(kf(x))||(o=d.createElement("link"),Dr(o,"link",s),_n(o),d.head.appendChild(o)))}}function hx(s,o){Ol.m(s,o);var c=yh;if(c&&s){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+cn(d)+'"][href="'+cn(s)+'"]',x=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=bh(s)}if(!Ea.has(x)&&(s=g({rel:"modulepreload",href:s},o),Ea.set(x,s),c.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(kf(x)))return}d=c.createElement("link"),Dr(d,"link",s),_n(d),c.head.appendChild(d)}}}function fx(s,o,c){Ol.S(s,o,c);var d=yh;if(d&&s){var y=qn(d).hoistableStyles,x=vh(s);o=o||"default";var V=y.get(x);if(!V){var K={loading:0,preload:null};if(V=d.querySelector(Of(x)))K.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},c),(c=Ea.get(x))&&_1(s,c);var dt=V=d.createElement("link");_n(dt),Dr(dt,"link",s),dt._p=new Promise(function(It,Bt){dt.onload=It,dt.onerror=Bt}),dt.addEventListener("load",function(){K.loading|=1}),dt.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Ap(V,o,d)}V={type:"stylesheet",instance:V,count:1,state:K},y.set(x,V)}}}function dx(s,o){Ol.X(s,o);var c=yh;if(c&&s){var d=qn(c).hoistableScripts,y=bh(s),x=d.get(y);x||(x=c.querySelector(kf(y)),x||(s=g({src:s,async:!0},o),(o=Ea.get(y))&&w1(s,o),x=c.createElement("script"),_n(x),Dr(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function px(s,o){Ol.M(s,o);var c=yh;if(c&&s){var d=qn(c).hoistableScripts,y=bh(s),x=d.get(y);x||(x=c.querySelector(kf(y)),x||(s=g({src:s,async:!0,type:"module"},o),(o=Ea.get(y))&&w1(s,o),x=c.createElement("script"),_n(x),Dr(x,"link",s),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function Uy(s,o,c,d){var y=(y=ft.current)?Sp(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=vh(c.href),c=qn(y).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=vh(c.href);var x=qn(y).hoistableStyles,V=x.get(s);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,V),(x=y.querySelector(Of(s)))&&!x._p&&(V.instance=x,V.state.loading=5),Ea.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ea.set(s,c),x||gx(y,s,c,V.state))),o&&d===null)throw Error(i(528,""));return V}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=bh(c),c=qn(y).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function vh(s){return'href="'+cn(s)+'"'}function Of(s){return'link[rel="stylesheet"]['+s+"]"}function Hy(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function gx(s,o,c,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Dr(o,"link",c),_n(o),s.head.appendChild(o))}function bh(s){return'[src="'+cn(s)+'"]'}function kf(s){return"script[async]"+s}function Gy(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+cn(c.href)+'"]');if(d)return o.instance=d,_n(d),d;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),_n(d),Dr(d,"style",y),Ap(d,c.precedence,s),o.instance=d;case"stylesheet":y=vh(c.href);var x=s.querySelector(Of(y));if(x)return o.state.loading|=4,o.instance=x,_n(x),x;d=Hy(c),(y=Ea.get(y))&&_1(d,y),x=(s.ownerDocument||s).createElement("link"),_n(x);var V=x;return V._p=new Promise(function(K,dt){V.onload=K,V.onerror=dt}),Dr(x,"link",d),o.state.loading|=4,Ap(x,c.precedence,s),o.instance=x;case"script":return x=bh(c.src),(y=s.querySelector(kf(x)))?(o.instance=y,_n(y),y):(d=c,(y=Ea.get(x))&&(d=g({},c),w1(d,y)),s=s.ownerDocument||s,y=s.createElement("script"),_n(y),Dr(y,"link",d),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Ap(d,c.precedence,s));return o.instance}function Ap(s,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,x=y,V=0;V<d.length;V++){var K=d[V];if(K.dataset.precedence===o)x=K;else if(x!==y)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function _1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function w1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Ep=null;function Wy(s,o,c){if(Ep===null){var d=new Map,y=Ep=new Map;y.set(c,d)}else y=Ep,d=y.get(c),d||(d=new Map,y.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),y=0;y<c.length;y++){var x=c[y];if(!(x[Ar]||x[Cn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var V=x.getAttribute(o)||"";V=s+V;var K=d.get(V);K?K.push(x):d.set(V,[x])}}return d}function Yy(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function mx(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Xy(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jf=null;function yx(){}function vx(s,o,c){if(jf===null)throw Error(i(475));var d=jf;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=vh(c.href),x=s.querySelector(Of(y));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Tp.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=x,_n(x);return}x=s.ownerDocument||s,c=Hy(c),(y=Ea.get(y))&&_1(c,y),x=x.createElement("link"),_n(x);var V=x;V._p=new Promise(function(K,dt){V.onload=K,V.onerror=dt}),Dr(x,"link",c),o.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Tp.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function bx(){if(jf===null)throw Error(i(475));var s=jf;return s.stylesheets&&s.count===0&&x1(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&x1(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function Tp(){if(this.count--,this.count===0){if(this.stylesheets)x1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Np=null;function x1(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Np=new Map,o.forEach(_x,s),Np=null,Tp.call(s))}function _x(s,o){if(!(o.state.loading&4)){var c=Np.get(s);if(c)var d=c.get(null);else{c=new Map,Np.set(s,c);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var V=y[x];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(c.set(V.dataset.precedence,V),d=V)}d&&c.set(null,d)}y=o.instance,V=y.getAttribute("data-precedence"),x=c.get(V)||d,x===d&&c.set(null,y),c.set(V,y),this.count++,d=Tp.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),x?x.parentNode.insertBefore(y,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var Vf={$$typeof:J,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function wx(s,o,c,d,y,x,V,K){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function Ky(s,o,c,d,y,x,V,K,dt,It,Bt,Wt){return s=new wx(s,o,c,V,K,dt,It,Wt),o=1,x===!0&&(o|=24),x=vr(3,null,null,o),s.current=x,x.stateNode=s,o=of(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:o},yt(x),s}function Qy(s){return s?(s=Wi,s):Wi}function $y(s,o,c,d,y,x){y=Qy(y),d.context===null?d.context=y:d.pendingContext=y,d=Ft(o),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=Gt(s,d,o),c!==null&&(ta(c,s,o),qt(c,s,o))}function Zy(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function S1(s,o){Zy(s,o),(s=s.alternate)&&Zy(s,o)}function Jy(s){if(s.tag===13){var o=Ha(s,67108864);o!==null&&ta(o,s,67108864),S1(s,67108864)}}var Cp=!0;function xx(s,o,c,d){var y=et.T;et.T=null;var x=ht.p;try{ht.p=2,A1(s,o,c,d)}finally{ht.p=x,et.T=y}}function Sx(s,o,c,d){var y=et.T;et.T=null;var x=ht.p;try{ht.p=8,A1(s,o,c,d)}finally{ht.p=x,et.T=y}}function A1(s,o,c,d){if(Cp){var y=E1(d);if(y===null)h1(s,o,d,Lp,c),ev(s,d);else if(Ex(y,s,o,c,d))d.stopPropagation();else if(ev(s,d),o&4&&-1<Ax.indexOf(s)){for(;y!==null;){var x=_i(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var V=Qe(x.pendingLanes);if(V!==0){var K=x;for(K.pendingLanes|=2,K.entangledLanes|=2;V;){var dt=1<<31-pe(V);K.entanglements[1]|=dt,V&=~dt}qo(x),(kn&6)===0&&(fp=Ae()+500,Df(0))}}break;case 13:K=Ha(x,2),K!==null&&ta(K,x,2),pp(),S1(x,2)}if(x=E1(d),x===null&&h1(s,o,d,Lp,c),x===y)break;y=x}y!==null&&d.stopPropagation()}else h1(s,o,d,null,c)}}function E1(s){return s=Pn(s),T1(s)}var Lp=null;function T1(s){if(Lp=null,s=Li(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Lp=s,null}function tv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case $t:return 2;case te:return 8;case ae:case oe:return 32;case ve:return 268435456;default:return 32}default:return 32}}var N1=!1,Tu=null,Nu=null,Cu=null,Ff=new Map,Bf=new Map,Lu=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(s,o){switch(s){case"focusin":case"focusout":Tu=null;break;case"dragenter":case"dragleave":Nu=null;break;case"mouseover":case"mouseout":Cu=null;break;case"pointerover":case"pointerout":Ff.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(o.pointerId)}}function zf(s,o,c,d,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},o!==null&&(o=_i(o),o!==null&&Jy(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function Ex(s,o,c,d,y){switch(o){case"focusin":return Tu=zf(Tu,s,o,c,d,y),!0;case"dragenter":return Nu=zf(Nu,s,o,c,d,y),!0;case"mouseover":return Cu=zf(Cu,s,o,c,d,y),!0;case"pointerover":var x=y.pointerId;return Ff.set(x,zf(Ff.get(x)||null,s,o,c,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Bf.set(x,zf(Bf.get(x)||null,s,o,c,d,y)),!0}return!1}function nv(s){var o=Li(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,rs(s.priority,function(){if(c.tag===13){var d=Js();d=Or(d);var y=Ha(c,d);y!==null&&ta(y,c,d),S1(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rp(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=E1(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);ds=d,c.target.dispatchEvent(d),ds=null}else return o=_i(c),o!==null&&Jy(o),s.blockedOn=c,!1;o.shift()}return!0}function iv(s,o,c){Rp(s)&&c.delete(o)}function Tx(){N1=!1,Tu!==null&&Rp(Tu)&&(Tu=null),Nu!==null&&Rp(Nu)&&(Nu=null),Cu!==null&&Rp(Cu)&&(Cu=null),Ff.forEach(iv),Bf.forEach(iv)}function Dp(s,o){s.blockedOn===o&&(s.blockedOn=null,N1||(N1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Tx)))}var Ip=null;function rv(s){Ip!==s&&(Ip=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ip===s&&(Ip=null);for(var o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],y=s[o+2];if(typeof d!="function"){if(T1(d||c)===null)continue;break}var x=_i(c);x!==null&&(s.splice(o,3),o-=3,xa(x,{pending:!0,data:y,method:c.method,action:d},d,y))}}))}function qf(s){function o(dt){return Dp(dt,s)}Tu!==null&&Dp(Tu,s),Nu!==null&&Dp(Nu,s),Cu!==null&&Dp(Cu,s),Ff.forEach(o),Bf.forEach(o);for(var c=0;c<Lu.length;c++){var d=Lu[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Lu.length&&(c=Lu[0],c.blockedOn===null);)nv(c),c.blockedOn===null&&Lu.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var y=c[d],x=c[d+1],V=y[Ln]||null;if(typeof x=="function")V||rv(c);else if(V){var K=null;if(x&&x.hasAttribute("formAction")){if(y=x,V=x[Ln]||null)K=V.formAction;else if(T1(y)!==null)continue}else K=V.action;typeof K=="function"?c[d+1]=K:(c.splice(d,3),d-=3),rv(c)}}}function C1(s){this._internalRoot=s}Mp.prototype.render=C1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,d=Js();$y(c,d,s,o,null,null)},Mp.prototype.unmount=C1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;$y(s.current,2,null,s,null,null),pp(),o[Xn]=null}};function Mp(s){this._internalRoot=s}Mp.prototype.unstable_scheduleHydration=function(s){if(s){var o=er();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Lu.length&&o!==0&&o<Lu[c].priority;c++);Lu.splice(c,0,s),c===0&&nv(s)}};var sv=t.version;if(sv!=="19.1.1")throw Error(i(527,sv,"19.1.1"));ht.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var Nx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{be=Pp.inject(Nx),ye=Pp}catch{}}return Hf.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,d="",y=w5,x=x5,V=S5,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(K=o.unstable_transitionCallbacks)),o=Ky(s,1,!1,null,null,c,d,y,x,V,K,null),s[Xn]=o.current,c1(s),new C1(o)},Hf.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var d=!1,y="",x=w5,V=x5,K=S5,dt=null,It=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(V=c.onCaughtError),c.onRecoverableError!==void 0&&(K=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(dt=c.unstable_transitionCallbacks),c.formState!==void 0&&(It=c.formState)),o=Ky(s,1,!0,o,c??null,d,y,x,V,K,dt,It),o.context=Qy(null),c=o.current,d=Js(),d=Or(d),y=Ft(d),y.callback=null,Gt(c,y,d),c=d,o.current.lanes=c,tr(o,c),qo(o),s[Xn]=o.current,c1(s),new Mp(o)},Hf.version="19.1.1",Hf}var gv;function Vx(){if(gv)return D1.exports;gv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),D1.exports=jx(),D1.exports}var Fx=Vx();const Bx=()=>{};var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},zx=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[e++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[e++],l=n[e++],u=n[e++],h=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},_4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,u=l?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let w=(u&15)<<2|f>>6,_=f&63;h||(_=64,l||(w=64)),i.push(e[g],e[v],e[w],e[_])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(b4(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):zx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,a==null||u==null||f==null||v==null)throw new qx;const w=a<<2|u>>4;if(i.push(w),f!==64){const _=u<<4&240|f>>2;if(i.push(_),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ux=function(n){const t=b4(n);return _4.encodeByteArray(t,!0)},vg=function(n){return Ux(n).replace(/\./g,"")},Hx=function(n){try{return _4.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=()=>Gx().__FIREBASE_DEFAULTS__,Yx=()=>{if(typeof process>"u"||typeof mv>"u")return;const n=mv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Xx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Hx(n[1]);return t&&JSON.parse(t)},s2=()=>{try{return Bx()||Wx()||Yx()||Xx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Kx=n=>s2()?.emulatorHosts?.[n],Qx=n=>{const t=Kx(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},w4=()=>s2()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vg(JSON.stringify(e)),vg(JSON.stringify(l)),""].join(".")}const rd={};function tS(){const n={prod:[],emulator:[]};for(const t of Object.keys(rd))rd[t]?n.emulator.push(t):n.prod.push(t);return n}function eS(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let yv=!1;function nS(n,t){if(typeof window>"u"||typeof document>"u"||!a2(window.location.host)||rd[n]===t||rd[n]||yv)return;rd[n]=t;function e(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=tS().prod.length>0;function l(){const w=document.getElementById(i);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{yv=!0,l()},w}function g(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=eS(i),_=e("text"),T=document.getElementById(_)||document.createElement("span"),N=e("learnmore"),I=document.getElementById(N)||document.createElement("a"),O=e("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const J=w.element;u(J),g(I,N);const ot=f();h(q,O),J.append(q,T,I,ot),document.body.appendChild(J)}a?(T.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){const n=s2()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="FirebaseError";class $h extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=lS,Object.setPrototypeOf(this,$h.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x4.prototype.create)}}class x4{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?uS(a,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new $h(r,u,i)}}function uS(n,t){return n.replace(cS,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const cS=/\{\$([^}]+)}/g;function bg(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const a=n[r],l=t[r];if(vv(a)&&vv(l)){if(!bg(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function vv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){return n&&n._delegate?n._delegate:n}class dd{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new $x;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:Tc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=Tc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tc){return this.instances.has(t)}getOptions(t=Tc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&t(a,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Tc){return this.component?this.component.multipleInstances?t:Tc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(n){return n===Tc?void 0:n}function dS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mn||(mn={}));const gS={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},mS=mn.INFO,yS={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},vS=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=yS[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class S4{constructor(t){this.name=t,this._logLevel=mS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in mn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...t),this._logHandler(this,mn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...t),this._logHandler(this,mn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...t),this._logHandler(this,mn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...t),this._logHandler(this,mn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...t),this._logHandler(this,mn.ERROR,...t)}}const bS=(n,t)=>t.some(e=>n instanceof e);let bv,_v;function _S(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A4=new WeakMap,g0=new WeakMap,E4=new WeakMap,O1=new WeakMap,o2=new WeakMap;function xS(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(ju(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&A4.set(e,n)}).catch(()=>{}),o2.set(t,n),t}function SS(n){if(g0.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});g0.set(n,t)}let m0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return g0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||E4.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ju(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function AS(n){m0=n(m0)}function ES(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(k1(this),t,...e);return E4.set(i,t.sort?t.sort():[t]),ju(i)}:wS().includes(n)?function(...t){return n.apply(k1(this),t),ju(A4.get(this))}:function(...t){return ju(n.apply(k1(this),t))}}function TS(n){return typeof n=="function"?ES(n):(n instanceof IDBTransaction&&SS(n),bS(n,_S())?new Proxy(n,m0):n)}function ju(n){if(n instanceof IDBRequest)return xS(n);if(O1.has(n))return O1.get(n);const t=TS(n);return t!==n&&(O1.set(n,t),o2.set(t,n)),t}const k1=n=>o2.get(n);function NS(n,t,{blocked:e,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,t),u=ju(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ju(l.result),h.oldVersion,h.newVersion,ju(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const CS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],j1=new Map;function wv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(j1.get(t))return j1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=LS.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CS.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&h.done]))[0]};return j1.set(t,a),a}AS(n=>({...n,get:(t,e,i)=>wv(t,e)||n.get(t,e,i),has:(t,e)=>!!wv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DS(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function DS(n){return n.getComponent()?.type==="VERSION"}const y0="@firebase/app",xv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new S4("@firebase/app"),IS="@firebase/app-compat",MS="@firebase/analytics-compat",PS="@firebase/analytics",OS="@firebase/app-check-compat",kS="@firebase/app-check",jS="@firebase/auth",VS="@firebase/auth-compat",FS="@firebase/database",BS="@firebase/data-connect",zS="@firebase/database-compat",qS="@firebase/functions",US="@firebase/functions-compat",HS="@firebase/installations",GS="@firebase/installations-compat",WS="@firebase/messaging",YS="@firebase/messaging-compat",XS="@firebase/performance",KS="@firebase/performance-compat",QS="@firebase/remote-config",$S="@firebase/remote-config-compat",ZS="@firebase/storage",JS="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",rA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="[DEFAULT]",sA={[y0]:"fire-core",[IS]:"fire-core-compat",[PS]:"fire-analytics",[MS]:"fire-analytics-compat",[kS]:"fire-app-check",[OS]:"fire-app-check-compat",[jS]:"fire-auth",[VS]:"fire-auth-compat",[FS]:"fire-rtdb",[BS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[qS]:"fire-fn",[US]:"fire-fn-compat",[HS]:"fire-iid",[GS]:"fire-iid-compat",[WS]:"fire-fcm",[YS]:"fire-fcm-compat",[XS]:"fire-perf",[KS]:"fire-perf-compat",[QS]:"fire-rc",[$S]:"fire-rc-compat",[ZS]:"fire-gcs",[JS]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new Map,aA=new Map,b0=new Map;function Sv(n,t){try{n.container.addComponent(t)}catch(e){Hl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function wg(n){const t=n.name;if(b0.has(t))return Hl.debug(`There were multiple attempts to register component ${t}.`),!1;b0.set(t,n);for(const e of _g.values())Sv(e,n);for(const e of aA.values())Sv(e,n);return!0}function oA(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function lA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vu=new x4("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=rA;function T4(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:v0,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Vu.create("bad-app-name",{appName:String(r)});if(e||(e=w4()),!e)throw Vu.create("no-options");const a=_g.get(r);if(a){if(bg(e,a.options)&&bg(i,a.config))return a;throw Vu.create("duplicate-app",{appName:r})}const l=new pS(r);for(const h of b0.values())l.addComponent(h);const u=new cA(e,i,l);return _g.set(r,u),u}function fA(n=v0){const t=_g.get(n);if(!t&&n===v0&&w4())return T4();if(!t)throw Vu.create("no-app",{appName:n});return t}function Dh(n,t,e){let i=sA[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hl.warn(l.join(" "));return}wg(new dd(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firebase-heartbeat-database",pA=1,pd="firebase-heartbeat-store";let V1=null;function N4(){return V1||(V1=NS(dA,pA,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(pd)}catch(e){console.warn(e)}}}}).catch(n=>{throw Vu.create("idb-open",{originalErrorMessage:n.message})})),V1}async function gA(n){try{const e=(await N4()).transaction(pd),i=await e.objectStore(pd).get(C4(n));return await e.done,i}catch(t){if(t instanceof $h)Hl.warn(t.message);else{const e=Vu.create("idb-get",{originalErrorMessage:t?.message});Hl.warn(e.message)}}}async function Av(n,t){try{const i=(await N4()).transaction(pd,"readwrite");await i.objectStore(pd).put(t,C4(n)),await i.done}catch(e){if(e instanceof $h)Hl.warn(e.message);else{const i=Vu.create("idb-set",{originalErrorMessage:e?.message});Hl.warn(i.message)}}}function C4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=1024,yA=30;class vA{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _A(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>yA){const r=wA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:e,unsentEntries:i}=bA(this._heartbeatsCache.heartbeats),r=vg(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Hl.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function bA(n,t=mA){const e=[];let i=n.slice();for(const r of n){const a=e.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Tv(e)>t){a.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Tv(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class _A{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await gA(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Tv(n){return vg(JSON.stringify({version:2,heartbeats:n})).length}function wA(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){wg(new dd("platform-logger",t=>new RS(t),"PRIVATE")),wg(new dd("heartbeat",t=>new vA(t),"PRIVATE")),Dh(y0,xv,n),Dh(y0,xv,"esm2020"),Dh("fire-js","")}xA("");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fu,L4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(F,C){function k(){}k.prototype=C.prototype,F.D=C.prototype,F.prototype=new k,F.prototype.constructor=F,F.C=function(U,R,L){for(var M=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)M[nt-2]=arguments[nt];return C.prototype[R].apply(U,M)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(F,C,k){k||(k=0);var U=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)U[R]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(R=0;16>R;++R)U[R]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=F.g[0],k=F.g[1],R=F.g[2];var L=F.g[3],M=C+(L^k&(R^L))+U[0]+3614090360&4294967295;C=k+(M<<7&4294967295|M>>>25),M=L+(R^C&(k^R))+U[1]+3905402710&4294967295,L=C+(M<<12&4294967295|M>>>20),M=R+(k^L&(C^k))+U[2]+606105819&4294967295,R=L+(M<<17&4294967295|M>>>15),M=k+(C^R&(L^C))+U[3]+3250441966&4294967295,k=R+(M<<22&4294967295|M>>>10),M=C+(L^k&(R^L))+U[4]+4118548399&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(R^C&(k^R))+U[5]+1200080426&4294967295,L=C+(M<<12&4294967295|M>>>20),M=R+(k^L&(C^k))+U[6]+2821735955&4294967295,R=L+(M<<17&4294967295|M>>>15),M=k+(C^R&(L^C))+U[7]+4249261313&4294967295,k=R+(M<<22&4294967295|M>>>10),M=C+(L^k&(R^L))+U[8]+1770035416&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(R^C&(k^R))+U[9]+2336552879&4294967295,L=C+(M<<12&4294967295|M>>>20),M=R+(k^L&(C^k))+U[10]+4294925233&4294967295,R=L+(M<<17&4294967295|M>>>15),M=k+(C^R&(L^C))+U[11]+2304563134&4294967295,k=R+(M<<22&4294967295|M>>>10),M=C+(L^k&(R^L))+U[12]+1804603682&4294967295,C=k+(M<<7&4294967295|M>>>25),M=L+(R^C&(k^R))+U[13]+4254626195&4294967295,L=C+(M<<12&4294967295|M>>>20),M=R+(k^L&(C^k))+U[14]+2792965006&4294967295,R=L+(M<<17&4294967295|M>>>15),M=k+(C^R&(L^C))+U[15]+1236535329&4294967295,k=R+(M<<22&4294967295|M>>>10),M=C+(R^L&(k^R))+U[1]+4129170786&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^R&(C^k))+U[6]+3225465664&4294967295,L=C+(M<<9&4294967295|M>>>23),M=R+(C^k&(L^C))+U[11]+643717713&4294967295,R=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(R^L))+U[0]+3921069994&4294967295,k=R+(M<<20&4294967295|M>>>12),M=C+(R^L&(k^R))+U[5]+3593408605&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^R&(C^k))+U[10]+38016083&4294967295,L=C+(M<<9&4294967295|M>>>23),M=R+(C^k&(L^C))+U[15]+3634488961&4294967295,R=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(R^L))+U[4]+3889429448&4294967295,k=R+(M<<20&4294967295|M>>>12),M=C+(R^L&(k^R))+U[9]+568446438&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^R&(C^k))+U[14]+3275163606&4294967295,L=C+(M<<9&4294967295|M>>>23),M=R+(C^k&(L^C))+U[3]+4107603335&4294967295,R=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(R^L))+U[8]+1163531501&4294967295,k=R+(M<<20&4294967295|M>>>12),M=C+(R^L&(k^R))+U[13]+2850285829&4294967295,C=k+(M<<5&4294967295|M>>>27),M=L+(k^R&(C^k))+U[2]+4243563512&4294967295,L=C+(M<<9&4294967295|M>>>23),M=R+(C^k&(L^C))+U[7]+1735328473&4294967295,R=L+(M<<14&4294967295|M>>>18),M=k+(L^C&(R^L))+U[12]+2368359562&4294967295,k=R+(M<<20&4294967295|M>>>12),M=C+(k^R^L)+U[5]+4294588738&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^R)+U[8]+2272392833&4294967295,L=C+(M<<11&4294967295|M>>>21),M=R+(L^C^k)+U[11]+1839030562&4294967295,R=L+(M<<16&4294967295|M>>>16),M=k+(R^L^C)+U[14]+4259657740&4294967295,k=R+(M<<23&4294967295|M>>>9),M=C+(k^R^L)+U[1]+2763975236&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^R)+U[4]+1272893353&4294967295,L=C+(M<<11&4294967295|M>>>21),M=R+(L^C^k)+U[7]+4139469664&4294967295,R=L+(M<<16&4294967295|M>>>16),M=k+(R^L^C)+U[10]+3200236656&4294967295,k=R+(M<<23&4294967295|M>>>9),M=C+(k^R^L)+U[13]+681279174&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^R)+U[0]+3936430074&4294967295,L=C+(M<<11&4294967295|M>>>21),M=R+(L^C^k)+U[3]+3572445317&4294967295,R=L+(M<<16&4294967295|M>>>16),M=k+(R^L^C)+U[6]+76029189&4294967295,k=R+(M<<23&4294967295|M>>>9),M=C+(k^R^L)+U[9]+3654602809&4294967295,C=k+(M<<4&4294967295|M>>>28),M=L+(C^k^R)+U[12]+3873151461&4294967295,L=C+(M<<11&4294967295|M>>>21),M=R+(L^C^k)+U[15]+530742520&4294967295,R=L+(M<<16&4294967295|M>>>16),M=k+(R^L^C)+U[2]+3299628645&4294967295,k=R+(M<<23&4294967295|M>>>9),M=C+(R^(k|~L))+U[0]+4096336452&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~R))+U[7]+1126891415&4294967295,L=C+(M<<10&4294967295|M>>>22),M=R+(C^(L|~k))+U[14]+2878612391&4294967295,R=L+(M<<15&4294967295|M>>>17),M=k+(L^(R|~C))+U[5]+4237533241&4294967295,k=R+(M<<21&4294967295|M>>>11),M=C+(R^(k|~L))+U[12]+1700485571&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~R))+U[3]+2399980690&4294967295,L=C+(M<<10&4294967295|M>>>22),M=R+(C^(L|~k))+U[10]+4293915773&4294967295,R=L+(M<<15&4294967295|M>>>17),M=k+(L^(R|~C))+U[1]+2240044497&4294967295,k=R+(M<<21&4294967295|M>>>11),M=C+(R^(k|~L))+U[8]+1873313359&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~R))+U[15]+4264355552&4294967295,L=C+(M<<10&4294967295|M>>>22),M=R+(C^(L|~k))+U[6]+2734768916&4294967295,R=L+(M<<15&4294967295|M>>>17),M=k+(L^(R|~C))+U[13]+1309151649&4294967295,k=R+(M<<21&4294967295|M>>>11),M=C+(R^(k|~L))+U[4]+4149444226&4294967295,C=k+(M<<6&4294967295|M>>>26),M=L+(k^(C|~R))+U[11]+3174756917&4294967295,L=C+(M<<10&4294967295|M>>>22),M=R+(C^(L|~k))+U[2]+718787259&4294967295,R=L+(M<<15&4294967295|M>>>17),M=k+(L^(R|~C))+U[9]+3951481745&4294967295,F.g[0]=F.g[0]+C&4294967295,F.g[1]=F.g[1]+(R+(M<<21&4294967295|M>>>11))&4294967295,F.g[2]=F.g[2]+R&4294967295,F.g[3]=F.g[3]+L&4294967295}i.prototype.u=function(F,C){C===void 0&&(C=F.length);for(var k=C-this.blockSize,U=this.B,R=this.h,L=0;L<C;){if(R==0)for(;L<=k;)r(this,F,L),L+=this.blockSize;if(typeof F=="string"){for(;L<C;)if(U[R++]=F.charCodeAt(L++),R==this.blockSize){r(this,U),R=0;break}}else for(;L<C;)if(U[R++]=F[L++],R==this.blockSize){r(this,U),R=0;break}}this.h=R,this.o+=C},i.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var C=1;C<F.length-8;++C)F[C]=0;var k=8*this.o;for(C=F.length-8;C<F.length;++C)F[C]=k&255,k/=256;for(this.u(F),F=Array(16),C=k=0;4>C;++C)for(var U=0;32>U;U+=8)F[k++]=this.g[C]>>>U&255;return F};function a(F,C){var k=u;return Object.prototype.hasOwnProperty.call(k,F)?k[F]:k[F]=C(F)}function l(F,C){this.h=C;for(var k=[],U=!0,R=F.length-1;0<=R;R--){var L=F[R]|0;U&&L==C||(k[R]=L,U=!1)}this.g=k}var u={};function h(F){return-128<=F&&128>F?a(F,function(C){return new l([C|0],0>C?-1:0)}):new l([F|0],0>F?-1:0)}function f(F){if(isNaN(F)||!isFinite(F))return v;if(0>F)return I(f(-F));for(var C=[],k=1,U=0;F>=k;U++)C[U]=F/k|0,k*=4294967296;return new l(C,0)}function g(F,C){if(F.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(F.charAt(0)=="-")return I(g(F.substring(1),C));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(C,8)),U=v,R=0;R<F.length;R+=8){var L=Math.min(8,F.length-R),M=parseInt(F.substring(R,R+L),C);8>L?(L=f(Math.pow(C,L)),U=U.j(L).add(f(M))):(U=U.j(k),U=U.add(f(M)))}return U}var v=h(0),w=h(1),_=h(16777216);n=l.prototype,n.m=function(){if(N(this))return-I(this).m();for(var F=0,C=1,k=0;k<this.g.length;k++){var U=this.i(k);F+=(0<=U?U:4294967296+U)*C,C*=4294967296}return F},n.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(T(this))return"0";if(N(this))return"-"+I(this).toString(F);for(var C=f(Math.pow(F,6)),k=this,U="";;){var R=ot(k,C).g;k=O(k,R.j(C));var L=((0<k.g.length?k.g[0]:k.h)>>>0).toString(F);if(k=R,T(k))return L+U;for(;6>L.length;)L="0"+L;U=L+U}},n.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function T(F){if(F.h!=0)return!1;for(var C=0;C<F.g.length;C++)if(F.g[C]!=0)return!1;return!0}function N(F){return F.h==-1}n.l=function(F){return F=O(this,F),N(F)?-1:T(F)?0:1};function I(F){for(var C=F.g.length,k=[],U=0;U<C;U++)k[U]=~F.g[U];return new l(k,~F.h).add(w)}n.abs=function(){return N(this)?I(this):this},n.add=function(F){for(var C=Math.max(this.g.length,F.g.length),k=[],U=0,R=0;R<=C;R++){var L=U+(this.i(R)&65535)+(F.i(R)&65535),M=(L>>>16)+(this.i(R)>>>16)+(F.i(R)>>>16);U=M>>>16,L&=65535,M&=65535,k[R]=M<<16|L}return new l(k,k[k.length-1]&-2147483648?-1:0)};function O(F,C){return F.add(I(C))}n.j=function(F){if(T(this)||T(F))return v;if(N(this))return N(F)?I(this).j(I(F)):I(I(this).j(F));if(N(F))return I(this.j(I(F)));if(0>this.l(_)&&0>F.l(_))return f(this.m()*F.m());for(var C=this.g.length+F.g.length,k=[],U=0;U<2*C;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var R=0;R<F.g.length;R++){var L=this.i(U)>>>16,M=this.i(U)&65535,nt=F.i(R)>>>16,pt=F.i(R)&65535;k[2*U+2*R]+=M*pt,q(k,2*U+2*R),k[2*U+2*R+1]+=L*pt,q(k,2*U+2*R+1),k[2*U+2*R+1]+=M*nt,q(k,2*U+2*R+1),k[2*U+2*R+2]+=L*nt,q(k,2*U+2*R+2)}for(U=0;U<C;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=C;U<2*C;U++)k[U]=0;return new l(k,0)};function q(F,C){for(;(F[C]&65535)!=F[C];)F[C+1]+=F[C]>>>16,F[C]&=65535,C++}function J(F,C){this.g=F,this.h=C}function ot(F,C){if(T(C))throw Error("division by zero");if(T(F))return new J(v,v);if(N(F))return C=ot(I(F),C),new J(I(C.g),I(C.h));if(N(C))return C=ot(F,I(C)),new J(I(C.g),C.h);if(30<F.g.length){if(N(F)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var k=w,U=C;0>=U.l(F);)k=$(k),U=$(U);var R=ut(k,1),L=ut(U,1);for(U=ut(U,2),k=ut(k,2);!T(U);){var M=L.add(U);0>=M.l(F)&&(R=R.add(k),L=M),U=ut(U,1),k=ut(k,1)}return C=O(F,R.j(C)),new J(R,C)}for(R=v;0<=F.l(C);){for(k=Math.max(1,Math.floor(F.m()/C.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),L=f(k),M=L.j(C);N(M)||0<M.l(F);)k-=U,L=f(k),M=L.j(C);T(L)&&(L=w),R=R.add(L),F=O(F,M)}return new J(R,F)}n.A=function(F){return ot(this,F).h},n.and=function(F){for(var C=Math.max(this.g.length,F.g.length),k=[],U=0;U<C;U++)k[U]=this.i(U)&F.i(U);return new l(k,this.h&F.h)},n.or=function(F){for(var C=Math.max(this.g.length,F.g.length),k=[],U=0;U<C;U++)k[U]=this.i(U)|F.i(U);return new l(k,this.h|F.h)},n.xor=function(F){for(var C=Math.max(this.g.length,F.g.length),k=[],U=0;U<C;U++)k[U]=this.i(U)^F.i(U);return new l(k,this.h^F.h)};function $(F){for(var C=F.g.length+1,k=[],U=0;U<C;U++)k[U]=F.i(U)<<1|F.i(U-1)>>>31;return new l(k,F.h)}function ut(F,C){var k=C>>5;C%=32;for(var U=F.g.length-k,R=[],L=0;L<U;L++)R[L]=0<C?F.i(L+k)>>>C|F.i(L+k+1)<<32-C:F.i(L+k);return new l(R,F.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,L4=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Fu=l}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R4,Zf,D4,rg,_0,I4,M4,P4;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,P){return m==Array.prototype||m==Object.prototype||(m[E]=P.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Op=="object"&&Op];for(var E=0;E<m.length;++E){var P=m[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var i=e(this);function r(m,E){if(E)t:{var P=i;m=m.split(".");for(var X=0;X<m.length-1;X++){var xt=m[X];if(!(xt in P))break t;P=P[xt]}m=m[m.length-1],X=P[m],E=E(X),E!=X&&E!=null&&t(P,m,{configurable:!0,writable:!0,value:E})}}function a(m,E){m instanceof String&&(m+="");var P=0,X=!1,xt={next:function(){if(!X&&P<m.length){var Dt=P++;return{value:E(Dt,m[Dt]),done:!1}}return X=!0,{done:!0,value:void 0}}};return xt[Symbol.iterator]=function(){return xt},xt}r("Array.prototype.values",function(m){return m||function(){return a(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function g(m,E,P){return m.call.apply(m.bind,arguments)}function v(m,E,P){if(!m)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var xt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xt,X),m.apply(E,xt)}}return function(){return m.apply(E,arguments)}}function w(m,E,P){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function _(m,E){var P=Array.prototype.slice.call(arguments,1);return function(){var X=P.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function T(m,E){function P(){}P.prototype=E.prototype,m.aa=E.prototype,m.prototype=new P,m.prototype.constructor=m,m.Qb=function(X,xt,Dt){for(var Kt=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)Kt[Ce-2]=arguments[Ce];return E.prototype[xt].apply(X,Kt)}}function N(m){const E=m.length;if(0<E){const P=Array(E);for(let X=0;X<E;X++)P[X]=m[X];return P}return[]}function I(m,E){for(let P=1;P<arguments.length;P++){const X=arguments[P];if(h(X)){const xt=m.length||0,Dt=X.length||0;m.length=xt+Dt;for(let Kt=0;Kt<Dt;Kt++)m[xt+Kt]=X[Kt]}else m.push(X)}}class O{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function q(m){return/^[\s\xa0]*$/.test(m)}function J(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function ot(m){return ot[" "](m),m}ot[" "]=function(){};var $=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ut(m,E,P){for(const X in m)E.call(P,m[X],X,m)}function F(m,E){for(const P in m)E.call(void 0,m[P],P,m)}function C(m){const E={};for(const P in m)E[P]=m[P];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,E){let P,X;for(let xt=1;xt<arguments.length;xt++){X=arguments[xt];for(P in X)m[P]=X[P];for(let Dt=0;Dt<k.length;Dt++)P=k[Dt],Object.prototype.hasOwnProperty.call(X,P)&&(m[P]=X[P])}}function R(m){var E=1;m=m.split(":");const P=[];for(;0<E&&m.length;)P.push(m.shift()),E--;return m.length&&P.push(m.join(":")),P}function L(m){u.setTimeout(()=>{throw m},0)}function M(){var m=_t;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class nt{constructor(){this.h=this.g=null}add(E,P){const X=pt.get();X.set(E,P),this.h?this.h.next=X:this.g=X,this.h=X}}var pt=new O(()=>new et,m=>m.reset());class et{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,lt=!1,_t=new nt,Q=()=>{const m=u.Promise.resolve(void 0);ht=()=>{m.then(vt)}};var vt=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(P){L(P)}var E=pt;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}lt=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};u.addEventListener("test",P,E),u.removeEventListener("test",P,E)}catch{}return m}();function at(m,E){if(W.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var P=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if($){t:{try{ot(E.nodeName);var xt=!0;break t}catch{}xt=!1}xt||(E=null)}}else P=="mouseover"?E=m.fromElement:P=="mouseout"&&(E=m.toElement);this.relatedTarget=E,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ft[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&at.aa.h.call(this)}}T(at,W);var ft={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Mt(m,E,P,X,xt){this.listener=m,this.proxy=null,this.src=E,this.type=P,this.capture=!!X,this.ha=xt,this.key=++Nt,this.da=this.fa=!1}function Zt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Qt(m){this.src=m,this.g={},this.h=0}Qt.prototype.add=function(m,E,P,X,xt){var Dt=m.toString();m=this.g[Dt],m||(m=this.g[Dt]=[],this.h++);var Kt=ee(m,E,X,xt);return-1<Kt?(E=m[Kt],P||(E.fa=!1)):(E=new Mt(E,this.src,Dt,!!X,xt),E.fa=P,m.push(E)),E};function ie(m,E){var P=E.type;if(P in m.g){var X=m.g[P],xt=Array.prototype.indexOf.call(X,E,void 0),Dt;(Dt=0<=xt)&&Array.prototype.splice.call(X,xt,1),Dt&&(Zt(E),m.g[P].length==0&&(delete m.g[P],m.h--))}}function ee(m,E,P,X){for(var xt=0;xt<m.length;++xt){var Dt=m[xt];if(!Dt.da&&Dt.listener==E&&Dt.capture==!!P&&Dt.ha==X)return xt}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Vt={};function ct(m,E,P,X,xt){if(Array.isArray(E)){for(var Dt=0;Dt<E.length;Dt++)ct(m,E[Dt],P,X,xt);return null}return P=je(P),m&&m[Tt]?m.K(E,P,f(X)?!!X.capture:!1,xt):Ae(m,E,P,!1,X,xt)}function Ae(m,E,P,X,xt,Dt){if(!E)throw Error("Invalid event type");var Kt=f(xt)?!!xt.capture:!!xt,Ce=ve(m);if(Ce||(m[we]=Ce=new Qt(m)),P=Ce.add(E,P,X,Kt,Dt),P.proxy)return P;if(X=de(),P.proxy=X,X.src=m,X.listener=P,m.addEventListener)tt||(xt=Kt),xt===void 0&&(xt=!1),m.addEventListener(E.toString(),X,xt);else if(m.attachEvent)m.attachEvent(ae(E.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return P}function de(){function m(P){return E.call(m.src,m.listener,P)}const E=oe;return m}function $t(m,E,P,X,xt){if(Array.isArray(E))for(var Dt=0;Dt<E.length;Dt++)$t(m,E[Dt],P,X,xt);else X=f(X)?!!X.capture:!!X,P=je(P),m&&m[Tt]?(m=m.i,E=String(E).toString(),E in m.g&&(Dt=m.g[E],P=ee(Dt,P,X,xt),-1<P&&(Zt(Dt[P]),Array.prototype.splice.call(Dt,P,1),Dt.length==0&&(delete m.g[E],m.h--)))):m&&(m=ve(m))&&(E=m.g[E.toString()],m=-1,E&&(m=ee(E,P,X,xt)),(P=-1<m?E[m]:null)&&te(P))}function te(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Tt])ie(E.i,m);else{var P=m.type,X=m.proxy;E.removeEventListener?E.removeEventListener(P,X,m.capture):E.detachEvent?E.detachEvent(ae(P),X):E.addListener&&E.removeListener&&E.removeListener(X),(P=ve(E))?(ie(P,m),P.h==0&&(P.src=null,E[we]=null)):Zt(m)}}}function ae(m){return m in Vt?Vt[m]:Vt[m]="on"+m}function oe(m,E){if(m.da)m=!0;else{E=new at(E,this);var P=m.listener,X=m.ha||m.src;m.fa&&te(m),m=P.call(X,E)}return m}function ve(m){return m=m[we],m instanceof Qt?m:null}var De="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(m){return typeof m=="function"?m:(m[De]||(m[De]=function(E){return m.handleEvent(E)}),m[De])}function be(){j.call(this),this.i=new Qt(this),this.M=this,this.F=null}T(be,j),be.prototype[Tt]=!0,be.prototype.removeEventListener=function(m,E,P,X){$t(this,m,E,P,X)};function ye(m,E){var P,X=m.F;if(X)for(P=[];X;X=X.F)P.push(X);if(m=m.M,X=E.type||E,typeof E=="string")E=new W(E,m);else if(E instanceof W)E.target=E.target||m;else{var xt=E;E=new W(X,m),U(E,xt)}if(xt=!0,P)for(var Dt=P.length-1;0<=Dt;Dt--){var Kt=E.g=P[Dt];xt=He(Kt,X,!0,E)&&xt}if(Kt=E.g=m,xt=He(Kt,X,!0,E)&&xt,xt=He(Kt,X,!1,E)&&xt,P)for(Dt=0;Dt<P.length;Dt++)Kt=E.g=P[Dt],xt=He(Kt,X,!1,E)&&xt}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var P=m.g[E],X=0;X<P.length;X++)Zt(P[X]);delete m.g[E],m.h--}}this.F=null},be.prototype.K=function(m,E,P,X){return this.i.add(String(m),E,!1,P,X)},be.prototype.L=function(m,E,P,X){return this.i.add(String(m),E,!0,P,X)};function He(m,E,P,X){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var xt=!0,Dt=0;Dt<E.length;++Dt){var Kt=E[Dt];if(Kt&&!Kt.da&&Kt.capture==P){var Ce=Kt.listener,tn=Kt.ha||Kt.src;Kt.fa&&ie(m.i,Kt),xt=Ce.call(tn,X)!==!1&&xt}}return xt&&!X.defaultPrevented}function pe(m,E,P){if(typeof m=="function")P&&(m=w(m,P));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(m,E||0)}function Ge(m){m.g=pe(()=>{m.g=null,m.i&&(m.i=!1,Ge(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class ue extends j{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(m){j.call(this),this.h=m,this.g={}}T(ai,j);var Xe=[];function Ji(m){ut(m.g,function(E,P){this.g.hasOwnProperty(P)&&te(E)},m),m.g={}}ai.prototype.N=function(){ai.aa.N.call(this),Ji(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=u.JSON.stringify,Nn=u.JSON.parse,fr=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function an(){}an.prototype.h=null;function Ms(m){return m.h||(m.h=m.i())}function Bn(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){W.call(this,"d")}T(tr,W);function zn(){W.call(this,"c")}T(zn,W);var Ee={},on=null;function Or(){return on=on||new be}Ee.La="serverreachability";function oi(m){W.call(this,Ee.La,m)}T(oi,W);function er(m){const E=Or();ye(E,new oi(E))}Ee.STAT_EVENT="statevent";function rs(m,E){W.call(this,Ee.STAT_EVENT,m),this.stat=E}T(rs,W);function ce(m){const E=Or();ye(E,new rs(E,m))}Ee.Ma="timingevent";function Cn(m,E){W.call(this,Ee.Ma,m),this.size=E}T(Cn,W);function Ln(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function Xn(){this.g=!0}Xn.prototype.xa=function(){this.g=!1};function ni(m,E,P,X,xt,Dt){m.info(function(){if(m.g)if(Dt)for(var Kt="",Ce=Dt.split("&"),tn=0;tn<Ce.length;tn++){var Ve=Ce[tn].split("=");if(1<Ve.length){var xn=Ve[0];Ve=Ve[1];var Dn=xn.split("_");Kt=2<=Dn.length&&Dn[1]=="type"?Kt+(xn+"="+Ve+"&"):Kt+(xn+"=redacted&")}}else Kt=null;else Kt=Dt;return"XMLHTTP REQ ("+X+") [attempt "+xt+"]: "+E+`
`+P+`
`+Kt})}function li(m,E,P,X,xt,Dt,Kt){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+xt+"]: "+E+`
`+P+`
`+Dt+" "+Kt})}function bi(m,E,P,X){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ar(m,P)+(X?" "+X:"")})}function Ia(m,E){m.info(function(){return"TIMEOUT: "+E})}Xn.prototype.info=function(){};function Ar(m,E){if(!m.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(m=0;m<P.length;m++)if(Array.isArray(P[m])){var X=P[m];if(!(2>X.length)){var xt=X[1];if(Array.isArray(xt)&&!(1>xt.length)){var Dt=xt[0];if(Dt!="noop"&&Dt!="stop"&&Dt!="close")for(var Kt=1;Kt<xt.length;Kt++)xt[Kt]=""}}}}return Qe(P)}catch{return E}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function Ri(){}T(Ri,an),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},_i=new Ri;function qn(m,E,P,X){this.j=m,this.i=E,this.l=P,this.R=X||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _n}function _n(){this.i=null,this.g="",this.h=!1}var Ps={},Os={};function dr(m,E,P){m.L=1,m.v=aa(ir(E)),m.m=P,m.P=!0,kr(m,null)}function kr(m,E){m.F=Date.now(),Pa(m),m.A=ir(m.v);var P=m.A,X=m.R;Array.isArray(X)||(X=[String(X)]),Ne(P.i,"t",X),m.C=0,P=m.j.J,m.h=new _n,m.g=z(m.j,P?E:null,!m.m),0<m.O&&(m.M=new ue(w(m.Y,m,m.g),m.O)),E=m.U,P=m.g,X=m.ca;var xt="readystatechange";Array.isArray(xt)||(xt&&(Xe[0]=xt.toString()),xt=Xe);for(var Dt=0;Dt<xt.length;Dt++){var Kt=ct(P,xt[Dt],X||E.handleEvent,!1,E.h||E);if(!Kt)break;E.g[Kt.key]=Kt}E=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),er(),ni(m.i,m.u,m.A,m.l,m.R,m.m)}qn.prototype.ca=function(m){m=m.target;const E=this.M;E&&xi(m)==3?E.j():this.Y(m)},qn.prototype.Y=function(m){try{if(m==this.g)t:{const Dn=xi(this.g);var E=this.g.Ba();const bs=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||tu(this.g)))){this.J||Dn!=4||E==7||(E==8||0>=bs?er(3):er(2)),ss(this);var P=this.g.Z();this.X=P;e:if(Ma(this)){var X=tu(this.g);m="";var xt=X.length,Dt=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),as(this);var Kt="";break e}this.h.i=new u.TextDecoder}for(E=0;E<xt;E++)this.h.h=!0,m+=this.h.i.decode(X[E],{stream:!(Dt&&E==xt-1)});X.length=0,this.h.g+=m,this.C=0,Kt=this.h.g}else Kt=this.g.oa();if(this.o=P==200,li(this.i,this.u,this.A,this.l,this.R,Dn,P),this.o){if(this.T&&!this.K){e:{if(this.g){var Ce,tn=this.g;if((Ce=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ce)){var Ve=Ce;break e}}Ve=null}if(P=Ve)bi(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,P);else{this.o=!1,this.s=3,ce(12),Di(this),as(this);break t}}if(this.P){P=!0;let di;for(;!this.J&&this.C<Kt.length;)if(di=sl(this,Kt),di==Os){Dn==4&&(this.s=4,ce(14),P=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(di==Ps){this.s=4,ce(15),bi(this.i,this.l,Kt,"[Invalid Chunk]"),P=!1;break}else bi(this.i,this.l,di,null),ks(this,di);if(Ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||Kt.length!=0||this.h.h||(this.s=1,ce(16),P=!1),this.o=this.o&&P,!P)bi(this.i,this.l,Kt,"[Invalid Chunked Response]"),Di(this),as(this);else if(0<Kt.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+Kt.length),fa(xn),xn.M=!0,ce(11))}}else bi(this.i,this.l,Kt,null),ks(this,Kt);Dn==4&&Di(this),this.o&&!this.J&&(Dn==4?da(this.j,this):(this.o=!1,Pa(this)))}else ua(this.g),P==400&&0<Kt.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),Di(this),as(this)}}}catch{}finally{}};function Ma(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function sl(m,E){var P=m.C,X=E.indexOf(`
`,P);return X==-1?Os:(P=Number(E.substring(P,X)),isNaN(P)?Ps:(X+=1,X+P>E.length?Os:(E=E.slice(X,X+P),m.C=X+P,E)))}qn.prototype.cancel=function(){this.J=!0,Di(this)};function Pa(m){m.S=Date.now()+m.I,Kl(m,m.I)}function Kl(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ln(w(m.ba,m),E)}function ss(m){m.B&&(u.clearTimeout(m.B),m.B=null)}qn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Ia(this.i,this.A),this.L!=2&&(er(),ce(17)),Di(this),this.s=2,as(this)):Kl(this,this.S-m)};function as(m){m.j.G==0||m.J||da(m.j,m)}function Di(m){ss(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,Ji(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ks(m,E){try{var P=m.j;if(P.G!=0&&(P.g==m||al(P.h,m))){if(!m.K&&al(P.h,m)&&P.G==3){try{var X=P.Da.g.parse(E)}catch{X=null}if(Array.isArray(X)&&X.length==3){var xt=X;if(xt[0]==0){t:if(!P.u){if(P.g)if(P.g.F+3e3<m.F)Hs(P),mo(P);else break t;Ba(P),ce(18)}}else P.za=xt[1],0<P.za-P.T&&37500>xt[2]&&P.F&&P.v==0&&!P.C&&(P.C=Ln(w(P.Za,P),6e3));if(1>=js(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else yr(P,11)}else if((m.K||P.g==m)&&Hs(P),!q(E))for(xt=P.Da.g.parse(E),E=0;E<xt.length;E++){let Ve=xt[E];if(P.T=Ve[0],Ve=Ve[1],P.G==2)if(Ve[0]=="c"){P.K=Ve[1],P.ia=Ve[2];const xn=Ve[3];xn!=null&&(P.la=xn,P.j.info("VER="+P.la));const Dn=Ve[4];Dn!=null&&(P.Aa=Dn,P.j.info("SVER="+P.Aa));const bs=Ve[5];bs!=null&&typeof bs=="number"&&0<bs&&(X=1.5*bs,P.L=X,P.j.info("backChannelRequestTimeoutMs_="+X)),X=P;const di=m.g;if(di){const zr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var Dt=X.h;Dt.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(Dt.j=Dt.l,Dt.g=new Set,Dt.h&&(Un(Dt,Dt.h),Dt.h=null))}if(X.D){const pa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(X.ya=pa,wn(X.I,X.D,pa))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-m.F,P.j.info("Handshake RTT: "+P.R+"ms")),X=P;var Kt=m;if(X.qa=S(X,X.J?X.ia:null,X.W),Kt.K){Hi(X.h,Kt);var Ce=Kt,tn=X.L;tn&&(Ce.I=tn),Ce.B&&(ss(Ce),Pa(Ce)),X.g=Kt}else vo(X);0<P.i.length&&yo(P)}else Ve[0]!="stop"&&Ve[0]!="close"||yr(P,7);else P.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?yr(P,7):Us(P):Ve[0]!="noop"&&P.l&&P.l.ta(Ve),P.v=0)}}er(4)}catch{}}var Ql=class{constructor(m,E){this.g=m,this.map=E}};function hs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function js(m){return m.h?1:m.g?m.g.size:0}function al(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Un(m,E){m.g?m.g.add(E):m.h=E}function Hi(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}hs.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function fo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const P of m.g.values())E=E.concat(P.D);return E}return N(m.i)}function $l(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var E=[],P=m.length,X=0;X<P;X++)E.push(m[X]);return E}E=[],P=0;for(X in m)E[P++]=m[X];return E}function ia(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var E=[];m=m.length;for(var P=0;P<m;P++)E.push(P);return E}E=[],P=0;for(const X in m)E[P++]=X;return E}}}function ol(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var P=ia(m),X=$l(m),xt=X.length,Dt=0;Dt<xt;Dt++)E.call(void 0,X[Dt],P&&P[Dt],m)}var nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(m,E){if(m){m=m.split("&");for(var P=0;P<m.length;P++){var X=m[P].indexOf("="),xt=null;if(0<=X){var Dt=m[P].substring(0,X);xt=m[P].substring(X+1)}else Dt=m[P];E(Dt,xt?decodeURIComponent(xt.replace(/\+/g," ")):"")}}}function cn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof cn){this.h=m.h,ra(this,m.j),this.o=m.o,this.g=m.g,sa(this,m.s),this.l=m.l;var E=m.i,P=new ds;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),fs(this,P),this.m=m.m}else m&&(E=String(m).match(nr))?(this.h=!1,ra(this,E[1]||"",!0),this.o=jr(E[2]||""),this.g=jr(E[3]||"",!0),sa(this,E[4]),this.l=jr(E[5]||"",!0),fs(this,E[6]||"",!0),this.m=jr(E[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}cn.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Vs(E,ll,!0),":");var P=this.g;return(P||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Vs(E,ll,!0),"@"),m.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&m.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(Vs(P,P.charAt(0)=="/"?Fs:ul,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",Vs(P,Bs)),m.join("")};function ir(m){return new cn(m)}function ra(m,E,P){m.j=P?jr(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function sa(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function fs(m,E,P){E instanceof ds?(m.i=E,Jl(m.i,m.h)):(P||(E=Vs(E,go)),m.i=new ds(E,m.h))}function wn(m,E,P){m.i.set(E,P)}function aa(m){return wn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function jr(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Vs(m,E,P){return typeof m=="string"?(m=encodeURI(m).replace(E,Zl),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Zl(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,Fs=/[#\?]/g,go=/[#\?@]/g,Bs=/#/g;function ds(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Pn(m){m.g||(m.g=new Map,m.h=0,m.i&&po(m.i,function(E,P){m.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}n=ds.prototype,n.add=function(m,E){Pn(this),this.i=null,m=gs(this,m);var P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(E),this.h+=1,this};function zs(m,E){Pn(m),E=gs(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function ps(m,E){return Pn(m),E=gs(m,E),m.g.has(E)}n.forEach=function(m,E){Pn(this),this.g.forEach(function(P,X){P.forEach(function(xt){m.call(E,xt,X,this)},this)},this)},n.na=function(){Pn(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let X=0;X<E.length;X++){const xt=m[X];for(let Dt=0;Dt<xt.length;Dt++)P.push(E[X])}return P},n.V=function(m){Pn(this);let E=[];if(typeof m=="string")ps(this,m)&&(E=E.concat(this.g.get(gs(this,m))));else{m=Array.from(this.g.values());for(let P=0;P<m.length;P++)E=E.concat(m[P])}return E},n.set=function(m,E){return Pn(this),this.i=null,m=gs(this,m),ps(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Ne(m,E,P){zs(m,E),0<P.length&&(m.i=null,m.g.set(gs(m,E),N(P)),m.h+=P.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var X=E[P];const Dt=encodeURIComponent(String(X)),Kt=this.V(X);for(X=0;X<Kt.length;X++){var xt=Dt;Kt[X]!==""&&(xt+="="+encodeURIComponent(String(Kt[X]))),m.push(xt)}}return this.i=m.join("&")};function gs(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Jl(m,E){E&&!m.j&&(Pn(m),m.i=null,m.g.forEach(function(P,X){var xt=X.toLowerCase();X!=xt&&(zs(this,X),Ne(this,xt,P))},m)),m.j=E}function pr(m,E){const P=new Xn;if(u.Image){const X=new Image;X.onload=_(Er,P,"TestLoadImage: loaded",!0,E,X),X.onerror=_(Er,P,"TestLoadImage: error",!1,E,X),X.onabort=_(Er,P,"TestLoadImage: abort",!1,E,X),X.ontimeout=_(Er,P,"TestLoadImage: timeout",!1,E,X),u.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else E(!1)}function Vr(m,E){const P=new Xn,X=new AbortController,xt=setTimeout(()=>{X.abort(),Er(P,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:X.signal}).then(Dt=>{clearTimeout(xt),Dt.ok?Er(P,"TestPingServer: ok",!0,E):Er(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(xt),Er(P,"TestPingServer: error",!1,E)})}function Er(m,E,P,X,xt){try{xt&&(xt.onload=null,xt.onerror=null,xt.onabort=null,xt.ontimeout=null),X(P)}catch{}}function ms(){this.g=new fr}function Fr(m,E,P){const X=P||"";try{ol(m,function(xt,Dt){let Kt=xt;f(xt)&&(Kt=Qe(xt)),E.push(X+Dt+"="+encodeURIComponent(Kt))})}catch(xt){throw E.push(X+"type="+encodeURIComponent("_badmap")),xt}}function oa(m){this.l=m.Ub||null,this.j=m.eb||!1}T(oa,an),oa.prototype.g=function(){return new qs(this.l,this.j)},oa.prototype.i=function(m){return function(){return m}}({});function qs(m,E){be.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(qs,be),n=qs.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,gr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Br(this):gr(this),this.readyState==3&&cl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Br(this))},n.Qa=function(m){this.g&&(this.response=m,Br(this))},n.ga=function(){this.g&&Br(this)};function Br(m){m.readyState=4,m.l=null,m.j=null,m.v=null,gr(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=E.next();return m.join(`\r
`)};function gr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ys(m){let E="";return ut(m,function(P,X){E+=X,E+=":",E+=P,E+=`\r
`}),E}function wi(m,E,P){t:{for(X in P){var X=!1;break t}X=!0}X||(P=ys(P),typeof m=="string"?P!=null&&encodeURIComponent(String(P)):wn(m,E,P))}function Je(m){be.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Je,be);var la=/^https?$/i,vs=["POST","PUT"];n=Je.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,P,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Ms(this.o):Ms(_i),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Dt){hl(this,Dt);return}if(m=P||"",P=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var xt in X)P.set(xt,X[xt]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Dt of X.keys())P.set(Dt,X.get(Dt));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(P.keys()).find(Dt=>Dt.toLowerCase()=="content-type"),xt=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(vs,E,void 0))||X||xt||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Dt,Kt]of P)this.g.setRequestHeader(Dt,Kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mr(this),this.u=!0,this.g.send(m),this.u=!1}catch(Dt){hl(this,Dt)}};function hl(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Oa(m),os(m)}function Oa(m){m.A||(m.A=!0,ye(m,"complete"),ye(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ye(this,"complete"),ye(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},n.bb=function(){ka(this)};function ka(m){if(m.h&&typeof l<"u"&&(!m.v[1]||xi(m)!=4||m.Z()!=2)){if(m.u&&xi(m)==4)pe(m.Ea,0,m);else if(ye(m,"readystatechange"),xi(m)==4){m.h=!1;try{const Kt=m.Z();t:switch(Kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var P;if(!(P=E)){var X;if(X=Kt===0){var xt=String(m.D).match(nr)[1]||null;!xt&&u.self&&u.self.location&&(xt=u.self.location.protocol.slice(0,-1)),X=!la.test(xt?xt.toLowerCase():"")}P=X}if(P)ye(m,"complete"),ye(m,"success");else{m.m=6;try{var Dt=2<xi(m)?m.g.statusText:""}catch{Dt=""}m.l=Dt+" ["+m.Z()+"]",Oa(m)}}finally{os(m)}}}}function os(m,E){if(m.g){mr(m);const P=m.g,X=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||ye(m,"ready");try{P.onreadystatechange=X}catch{}}}function mr(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function xi(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Nn(E)}};function tu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(m){const E={};m=(m.g&&2<=xi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(q(m[X]))continue;var P=R(m[X]);const xt=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Dt=E[xt]||[];E[xt]=Dt,Dt.push(P)}F(E,function(X){return X.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(m,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||E}function ca(m){this.Aa=0,this.i=[],this.j=new Xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,m),this.cb=rr("retryDelaySeedMs",1e4,m),this.Wa=rr("forwardChannelMaxRetries",2,m),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new hs(m&&m.concurrentRequestLimit),this.Da=new ms,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ca.prototype,n.la=8,n.G=1,n.connect=function(m,E,P,X){ce(0),this.W=m,this.H=E||{},P&&X!==void 0&&(this.H.OSID=P,this.H.OAID=X),this.F=this.X,this.I=S(this,null,this.W),yo(this)};function Us(m){if(ja(m),m.G==3){var E=m.U++,P=ir(m.I);if(wn(P,"SID",m.K),wn(P,"RID",E),wn(P,"TYPE","terminate"),ha(m,P),E=new qn(m,m.j,E),E.L=2,E.v=aa(ir(P)),P=!1,u.navigator&&u.navigator.sendBeacon)try{P=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&u.Image&&(new Image().src=E.v,P=!0),P||(E.g=z(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pa(E)}bo(m)}function mo(m){m.g&&(fa(m),m.g.cancel(),m.g=null)}function ja(m){mo(m),m.u&&(u.clearTimeout(m.u),m.u=null),Hs(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function yo(m){if(!ho(m.h)&&!m.s){m.s=!0;var E=m.Ga;ht||Q(),lt||(ht(),lt=!0),_t.add(E,m),m.B=0}}function fl(m,E){return js(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ln(w(m.Ga,m,E),za(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const xt=new qn(this,this.j,m);let Dt=this.o;if(this.S&&(Dt?(Dt=C(Dt),U(Dt,this.S)):Dt=this.S),this.m!==null||this.O||(xt.H=Dt,Dt=null),this.P)t:{for(var E=0,P=0;P<this.i.length;P++){e:{var X=this.i[P];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break e}X=void 0}if(X===void 0)break;if(E+=X,4096<E){E=P;break t}if(E===4096||P===this.i.length-1){E=P+1;break t}}E=1e3}else E=1e3;E=Fa(this,xt,E),P=ir(this.I),wn(P,"RID",m),wn(P,"CVER",22),this.D&&wn(P,"X-HTTP-Session-Id",this.D),ha(this,P),Dt&&(this.O?E="headers="+encodeURIComponent(String(ys(Dt)))+"&"+E:this.m&&wi(P,this.m,Dt)),Un(this.h,xt),this.Ua&&wn(P,"TYPE","init"),this.P?(wn(P,"$req",E),wn(P,"SID","null"),xt.T=!0,dr(xt,P,null)):dr(xt,P,E),this.G=2}}else this.G==3&&(m?Va(this,m):this.i.length==0||ho(this.h)||Va(this))};function Va(m,E){var P;E?P=E.l:P=m.U++;const X=ir(m.I);wn(X,"SID",m.K),wn(X,"RID",P),wn(X,"AID",m.T),ha(m,X),m.m&&m.o&&wi(X,m.m,m.o),P=new qn(m,m.j,P,m.B+1),m.m===null&&(P.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Fa(m,P,1e3),P.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Un(m.h,P),dr(P,X,E)}function ha(m,E){m.H&&ut(m.H,function(P,X){wn(E,X,P)}),m.l&&ol({},function(P,X){wn(E,X,P)})}function Fa(m,E,P){P=Math.min(m.i.length,P);var X=m.l?w(m.l.Na,m.l,m):null;t:{var xt=m.i;let Dt=-1;for(;;){const Kt=["count="+P];Dt==-1?0<P?(Dt=xt[0].g,Kt.push("ofs="+Dt)):Dt=0:Kt.push("ofs="+Dt);let Ce=!0;for(let tn=0;tn<P;tn++){let Ve=xt[tn].g;const xn=xt[tn].map;if(Ve-=Dt,0>Ve)Dt=Math.max(0,xt[tn].g-100),Ce=!1;else try{Fr(xn,Kt,"req"+Ve+"_")}catch{X&&X(xn)}}if(Ce){X=Kt.join("&");break t}}}return m=m.i.splice(0,P),E.D=m,X}function vo(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;ht||Q(),lt||(ht(),lt=!0),_t.add(E,m),m.v=0}}function Ba(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ln(w(m.Fa,m),za(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ln(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),mo(this),eu(this))};function fa(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function eu(m){m.g=new qn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=ir(m.qa);wn(E,"RID","rpc"),wn(E,"SID",m.K),wn(E,"AID",m.T),wn(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&wn(E,"TO",m.ja),wn(E,"TYPE","xmlhttp"),ha(m,E),m.m&&m.o&&wi(E,m.m,m.o),m.L&&(m.g.I=m.L);var P=m.g;m=m.ia,P.L=1,P.v=aa(ir(E)),P.m=null,P.P=!0,kr(P,m)}n.Za=function(){this.C!=null&&(this.C=null,mo(this),Ba(this),ce(19))};function Hs(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function da(m,E){var P=null;if(m.g==E){Hs(m),fa(m),m.g=null;var X=2}else if(al(m.h,E))P=E.D,Hi(m.h,E),X=1;else return;if(m.G!=0){if(E.o)if(X==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var xt=m.B;X=Or(),ye(X,new Cn(X,P)),yo(m)}else vo(m);else if(xt=E.s,xt==3||xt==0&&0<E.X||!(X==1&&fl(m,E)||X==2&&Ba(m)))switch(P&&0<P.length&&(E=m.h,E.i=E.i.concat(P)),xt){case 1:yr(m,5);break;case 4:yr(m,10);break;case 3:yr(m,6);break;default:yr(m,2)}}}function za(m,E){let P=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(P*=2),P*E}function yr(m,E){if(m.j.info("Error code "+E),E==2){var P=w(m.fb,m),X=m.Xa;const xt=!X;X=new cn(X||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ra(X,"https"),aa(X),xt?pr(X.toString(),P):Vr(X.toString(),P)}else ce(2);m.G=0,m.l&&m.l.sa(E),bo(m),ja(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function bo(m){if(m.G=0,m.ka=[],m.l){const E=fo(m.h);(E.length!=0||m.i.length!=0)&&(I(m.ka,E),I(m.ka,m.i),m.h.i.length=0,N(m.i),m.i.length=0),m.l.ra()}}function S(m,E,P){var X=P instanceof cn?ir(P):new cn(P);if(X.g!="")E&&(X.g=E+"."+X.g),sa(X,X.s);else{var xt=u.location;X=xt.protocol,E=E?E+"."+xt.hostname:xt.hostname,xt=+xt.port;var Dt=new cn(null);X&&ra(Dt,X),E&&(Dt.g=E),xt&&sa(Dt,xt),P&&(Dt.l=P),X=Dt}return P=m.D,E=m.ya,P&&E&&wn(X,P,E),wn(X,"VER",m.la),ha(m,X),X}function z(m,E,P){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new Je(new oa({eb:P})):new Je(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function st(){}n=st.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gt(){}gt.prototype.g=function(m,E){return new St(m,E)};function St(m,E){be.call(this),this.g=new ca(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!q(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!q(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new re(this)}T(St,be),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Us(this.g)},St.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.u&&(P={},P.__data__=Qe(m),m=P);E.i.push(new Ql(E.Ya++,m)),E.G==3&&yo(E)},St.prototype.N=function(){this.g.l=null,delete this.j,Us(this.g),delete this.g,St.aa.N.call(this)};function jt(m){tr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){t:{for(const P in E){m=P;break t}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}T(jt,tr);function Xt(){zn.call(this),this.status=1}T(Xt,zn);function re(m){this.g=m}T(re,st),re.prototype.ua=function(){ye(this.g,"a")},re.prototype.ta=function(m){ye(this.g,new jt(m))},re.prototype.sa=function(m){ye(this.g,new Xt)},re.prototype.ra=function(){ye(this.g,"b")},gt.prototype.createWebChannel=gt.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,P4=function(){return new gt},M4=function(){return Or()},I4=Ee,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,rg=Ui,Li.COMPLETE="complete",D4=Li,Bn.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",be.prototype.listen=be.prototype.K,Zf=Bn,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,R4=Je}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",Lv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ts.UNAUTHENTICATED=new ts(null),ts.GOOGLE_CREDENTIALS=new ts("google-credentials-uid"),ts.FIRST_PARTY=new ts("first-party-uid"),ts.MOCK_USER=new ts("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new S4("@firebase/firestore");function Ah(){return Pc.logLevel}function fe(n,...t){if(Pc.logLevel<=mn.DEBUG){const e=t.map(l2);Pc.debug(`Firestore (${Zh}): ${n}`,...e)}}function Gl(n,...t){if(Pc.logLevel<=mn.ERROR){const e=t.map(l2);Pc.error(`Firestore (${Zh}): ${n}`,...e)}}function Uh(n,...t){if(Pc.logLevel<=mn.WARN){const e=t.map(l2);Pc.warn(`Firestore (${Zh}): ${n}`,...e)}}function l2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,O4(n,i,e)}function O4(n,t,e){let i=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Gl(i),new Error(i)}function Mn(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||O4(t,r,i)}function qe(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends $h{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ts.UNAUTHENTICATED))}shutdown(){}}class AA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class EA{constructor(t){this.t=t,this.currentUser=ts.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Mn(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new Bu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bu,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bu)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mn(typeof i.accessToken=="string",31837,{l:i}),new k4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mn(t===null||typeof t=="string",2055,{h:t}),new ts(t)}}class TA{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ts.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NA{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new TA(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(ts.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CA{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Mn(this.o===void 0,3512);const i=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Mn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Rv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=LA(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%62))}return i}}function ln(n,t){return n<t?-1:n>t?1:0}function w0(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),a=t.charAt(i);if(r!==a)return F1(r)===F1(a)?ln(r,a):F1(r)?1:-1}return ln(n.length,t.length)}const RA=55296,DA=57343;function F1(n){const t=n.charCodeAt(0);return t>=RA&&t<=DA}function Hh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__name__";class Yo{constructor(t,e,i){e===void 0?e=0:e>t.length&&Oe(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Oe(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Yo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yo?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=Yo.compareSegments(t.get(r),e.get(r));if(a!==0)return a}return ln(t.length,e.length)}static compareSegments(t,e){const i=Yo.isNumericId(t),r=Yo.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Yo.extractNumericId(t).compare(Yo.extractNumericId(e)):w0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fu.fromString(t.substring(4,t.length-2))}}class $n extends Yo{construct(t,e,i){return new $n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new le(zt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new $n(e)}static emptyPath(){return new $n([])}}const IA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Yo{construct(t,e,i){return new Mr(t,e,i)}static isValidIdentifier(t){return IA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Mr([Dv])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(i.length===0)throw new le(zt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new le(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new le(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(a(),r++)}if(a(),l)throw new le(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mr(e)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.path=t}static fromPath(t){return new Se($n.fromString(t))}static fromName(t){return new Se($n.fromString(t).popFirst(5))}static empty(){return new Se($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$n.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return $n.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Se(new $n(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(n,t,e){if(!e)throw new le(zt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function MA(n,t,e,i){if(t===!0&&i===!0)throw new le(zt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Iv(n){if(!Se.isDocumentKey(n))throw new le(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mv(n){if(Se.isDocumentKey(n))throw new le(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Oc(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new le(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qg(n);throw new le(zt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(n,t){const e={typeString:n};return t&&(e.value=t),e}function Cd(n,t){if(!V4(n))throw new le(zt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${i}' field to equal '${a.value}'`;break}}if(e)throw new le(zt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=-62135596800,Ov=1e6;class Yn{static now(){return Yn.fromMillis(Date.now())}static fromDate(t){return Yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ov);return new Yn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new le(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new le(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Pv)throw new le(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new le(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(t){return this.seconds===t.seconds?ln(this.nanoseconds,t.nanoseconds):ln(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Cd(t,Yn._jsonSchema))return new Yn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yn._jsonSchemaVersion="firestore/timestamp/1.0",Yn._jsonSchema={type:$i("string",Yn._jsonSchemaVersion),seconds:$i("number"),nanoseconds:$i("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(t){return new Be(t)}static min(){return new Be(new Yn(0,0))}static max(){return new Be(new Yn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function PA(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Be.fromTimestamp(i===1e9?new Yn(e+1,0):new Yn(e,i));return new Hu(r,Se.empty(),t)}function OA(n){return new Hu(n.readTime,n.key,gd)}class Hu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Hu(Be.min(),Se.empty(),gd)}static max(){return new Hu(Be.max(),Se.empty(),gd)}}function kA(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Se.comparator(n.documentKey,t.documentKey),e!==0?e:ln(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(n){if(n.code!==zt.FAILED_PRECONDITION||n.message!==jA)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Yt((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Yt?e:Yt.resolve(e)}catch(e){return Yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Yt.reject(e)}static resolve(t){return new Yt((e,i)=>{e(t)})}static reject(t){return new Yt((e,i)=>{i(t)})}static waitFor(t){return new Yt((e,i)=>{let r=0,a=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++a,l&&a===r&&e()},h=>i(h))}),l=!0,a===r&&e()})}static or(t){let e=Yt.resolve(!1);for(const i of t)e=e.next(r=>r?Yt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new Yt((i,r)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next(g=>{l[f]=g,++u,u===a&&i(l)},g=>r(g))}})}static doWhile(t,e){return new Yt((i,r)=>{const a=()=>{t()===!0?e().next(()=>{a()},r):i()};a()})}}function FA(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function tf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$g.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=-1;function Zg(n){return n==null}function xg(n){return n===0&&1/n==-1/0}function BA(n){return typeof n=="number"&&Number.isInteger(n)&&!xg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="";function zA(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kv(t)),t=qA(n.get(e),t);return kv(t)}function qA(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="";break;case F4:e+="";break;default:e+=a}}return e}function kv(n){return n+F4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ju(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function B4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e){this.comparator=t,this.root=e||Ir.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kp(this.root,t,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kp(this.root,t,this.comparator,!0)}}class kp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ir{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??Ir.RED,this.left=r??Ir.EMPTY,this.right=a??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new Ir(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):a===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Ir.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Oe(27949);return t+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(t,e,i,r,a){return this}insert(t,e,i){return new Ir(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(t){return new Vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof hr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new hr(this.comparator);return e.data=t,e}}class Vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t){this.fields=t,t.sort(Mr.comparator)}static empty(){return new ea([])}unionWith(t){let e=new hr(Mr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ea(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new z4("Invalid base64 string: "+a):a}}(t);return new Pr(e)}static fromUint8Array(t){const e=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new Pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ln(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(n){if(Mn(!!n,39018),typeof n=="string"){let t=0;const e=UA.exec(n);if(Mn(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vi(n.seconds),nanos:Vi(n.nanos)}}function Vi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wu(n){return typeof n=="string"?Pr.fromBase64String(n):Pr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="server_timestamp",U4="__type__",H4="__previous_value__",G4="__local_write_time__";function Jg(n){return(n?.mapValue?.fields||{})[U4]?.stringValue===q4}function tm(n){const t=n.mapValue.fields[H4];return Jg(t)?tm(t):t}function md(n){const t=Gu(n.mapValue.fields[G4].timestampValue);return new Yn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,e,i,r,a,l,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Sg="(default)";class yd{constructor(t,e){this.projectId=t,this.database=e||Sg}static empty(){return new yd("","")}get isDefaultDatabase(){return this.database===Sg}isEqual(t){return t instanceof yd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="__type__",GA="__max__",jp={mapValue:{}},Y4="__vector__",Ag="value";function Yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:YA(n)?9007199254740991:WA(n)?10:11:Oe(28295,{value:n})}function nl(n,t){if(n===t)return!0;const e=Yu(n);if(e!==Yu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return md(n).isEqual(md(t));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Gu(r.timestampValue),u=Gu(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,a){return Wu(r.bytesValue).isEqual(Wu(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,a){return Vi(r.geoPointValue.latitude)===Vi(a.geoPointValue.latitude)&&Vi(r.geoPointValue.longitude)===Vi(a.geoPointValue.longitude)}(n,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Vi(r.integerValue)===Vi(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=Vi(r.doubleValue),u=Vi(a.doubleValue);return l===u?xg(l)===xg(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Hh(n.arrayValue.values||[],t.arrayValue.values||[],nl);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},u=a.mapValue.fields||{};if(jv(l)!==jv(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!nl(l[h],u[h])))return!1;return!0}(n,t);default:return Oe(52216,{left:n})}}function vd(n,t){return(n.values||[]).find(e=>nl(e,t))!==void 0}function Gh(n,t){if(n===t)return 0;const e=Yu(n),i=Yu(t);if(e!==i)return ln(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ln(n.booleanValue,t.booleanValue);case 2:return function(a,l){const u=Vi(a.integerValue||a.doubleValue),h=Vi(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return Fv(n.timestampValue,t.timestampValue);case 4:return Fv(md(n),md(t));case 5:return w0(n.stringValue,t.stringValue);case 6:return function(a,l){const u=Wu(a),h=Wu(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=ln(u[f],h[f]);if(g!==0)return g}return ln(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const u=ln(Vi(a.latitude),Vi(l.latitude));return u!==0?u:ln(Vi(a.longitude),Vi(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Bv(n.arrayValue,t.arrayValue);case 10:return function(a,l){const u=a.fields||{},h=l.fields||{},f=u[Ag]?.arrayValue,g=h[Ag]?.arrayValue,v=ln(f?.values?.length||0,g?.values?.length||0);return v!==0?v:Bv(f,g)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===jp.mapValue&&l===jp.mapValue)return 0;if(a===jp.mapValue)return 1;if(l===jp.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const w=w0(h[v],g[v]);if(w!==0)return w;const _=Gh(u[h[v]],f[g[v]]);if(_!==0)return _}return ln(h.length,g.length)}(n.mapValue,t.mapValue);default:throw Oe(23264,{he:e})}}function Fv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ln(n,t);const e=Gu(n),i=Gu(t),r=ln(e.seconds,i.seconds);return r!==0?r:ln(e.nanos,i.nanos)}function Bv(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const a=Gh(e[r],i[r]);if(a)return a}return ln(e.length,i.length)}function Wh(n){return x0(n)}function x0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Gu(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Wu(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Se.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const a of e.values||[])r?r=!1:i+=",",i+=x0(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${x0(e.fields[l])}`;return r+"}"}(n.mapValue):Oe(61005,{value:n})}function sg(n){switch(Yu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tm(n);return t?16+sg(t):16;case 5:return 2*n.stringValue.length;case 6:return Wu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+sg(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ju(i.fields,(a,l)=>{r+=a.length+sg(l)}),r}(n.mapValue);default:throw Oe(13486,{value:n})}}function Eg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function S0(n){return!!n&&"integerValue"in n}function h2(n){return!!n&&"arrayValue"in n}function zv(n){return!!n&&"nullValue"in n}function qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ag(n){return!!n&&"mapValue"in n}function WA(n){return(n?.mapValue?.fields||{})[W4]?.stringValue===Y4}function sd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ju(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=sd(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=sd(n.arrayValue.values[e]);return t}return{...n}}function YA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.value=t}static empty(){return new Ls({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ag(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=sd(e)}setAll(t){let e=Mr.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=sd(l):r.push(u.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());ag(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return nl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ag(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ju(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new Ls(sd(this.value))}}function X4(n){const t=[];return Ju(n.fields,(e,i)=>{const r=new Mr([e]);if(ag(i)){const a=X4(i.mapValue).fields;if(a.length===0)t.push(r);else for(const l of a)t.push(r.child(l))}else t.push(r)}),new ea(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,e,i,r,a,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new es(t,0,Be.min(),Be.min(),Be.min(),Ls.empty(),0)}static newFoundDocument(t,e,i,r){return new es(t,1,e,Be.min(),i,r,0)}static newNoDocument(t,e){return new es(t,2,e,Be.min(),Be.min(),Ls.empty(),0)}static newUnknownDocument(t,e){return new es(t,3,e,Be.min(),Be.min(),Ls.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof es&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,e){this.position=t,this.inclusive=e}}function Uv(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],l=n.position[r];if(a.field.isKeyField()?i=Se.comparator(Se.fromName(l.referenceValue),e.key):i=Gh(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!nl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,e="asc"){this.field=t,this.dir=e}}function XA(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{}class Qi extends K4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new QA(t,e,i):e==="array-contains"?new JA(t,i):e==="in"?new tE(t,i):e==="not-in"?new eE(t,i):e==="array-contains-any"?new nE(t,i):new Qi(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new $A(t,i):new ZA(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Gh(e,this.value)):e!==null&&Yu(this.value)===Yu(e)&&this.matchesComparison(Gh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lo extends K4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new lo(t,e)}matches(t){return Q4(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q4(n){return n.op==="and"}function $4(n){return KA(n)&&Q4(n)}function KA(n){for(const t of n.filters)if(t instanceof lo)return!1;return!0}function A0(n){if(n instanceof Qi)return n.field.canonicalString()+n.op.toString()+Wh(n.value);if($4(n))return n.filters.map(t=>A0(t)).join(",");{const t=n.filters.map(e=>A0(e)).join(",");return`${n.op}(${t})`}}function Z4(n,t){return n instanceof Qi?function(i,r){return r instanceof Qi&&i.op===r.op&&i.field.isEqual(r.field)&&nl(i.value,r.value)}(n,t):n instanceof lo?function(i,r){return r instanceof lo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,u)=>a&&Z4(l,r.filters[u]),!0):!1}(n,t):void Oe(19439)}function J4(n){return n instanceof Qi?function(e){return`${e.field.canonicalString()} ${e.op} ${Wh(e.value)}`}(n):n instanceof lo?function(e){return e.op.toString()+" {"+e.getFilters().map(J4).join(" ,")+"}"}(n):"Filter"}class QA extends Qi{constructor(t,e,i){super(t,e,i),this.key=Se.fromName(i.referenceValue)}matches(t){const e=Se.comparator(t.key,this.key);return this.matchesComparison(e)}}class $A extends Qi{constructor(t,e){super(t,"in",e),this.keys=tw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ZA extends Qi{constructor(t,e){super(t,"not-in",e),this.keys=tw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function tw(n,t){return(t.arrayValue?.values||[]).map(e=>Se.fromName(e.referenceValue))}class JA extends Qi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return h2(e)&&vd(e.arrayValue,this.value)}}class tE extends Qi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&vd(this.value.arrayValue,e)}}class eE extends Qi{constructor(t,e){super(t,"not-in",e)}matches(t){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!vd(this.value.arrayValue,e)}}class nE extends Qi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!h2(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>vd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,e=null,i=[],r=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Gv(n,t=null,e=[],i=[],r=null,a=null,l=null){return new iE(n,t,e,i,r,a,l)}function f2(n){const t=qe(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>A0(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Zg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Wh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Wh(i)).join(",")),t.Te=e}return t.Te}function d2(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!XA(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Z4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Hv(n.startAt,t.startAt)&&Hv(n.endAt,t.endAt)}function E0(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,e=null,i=[],r=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rE(n,t,e,i,r,a,l,u){return new Bc(n,t,e,i,r,a,l,u)}function ew(n){return new Bc(n)}function Wv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function p2(n){return n.collectionGroup!==null}function Ih(n){const t=qe(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new hr(Mr.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new bd(a,i))}),e.has(Mr.keyField().canonicalString())||t.Ie.push(new bd(Mr.keyField(),i))}return t.Ie}function Qo(n){const t=qe(n);return t.Ee||(t.Ee=sE(t,Ih(n))),t.Ee}function sE(n,t){if(n.limitType==="F")return Gv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new bd(r.field,a)});const e=n.endAt?new Yh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yh(n.startAt.position,n.startAt.inclusive):null;return Gv(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function T0(n,t){const e=n.filters.concat([t]);return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Tg(n,t,e){return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function em(n,t){return d2(Qo(n),Qo(t))&&n.limitType===t.limitType}function nw(n){return`${f2(Qo(n))}|lt:${n.limitType}`}function Eh(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>J4(r)).join(", ")}]`),Zg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Wh(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Wh(r)).join(",")),`Target(${i})`}(Qo(n))}; limitType=${n.limitType})`}function nm(n,t){return t.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Se.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,r){for(const a of Ih(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=Uv(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,Ih(i),r)||i.endAt&&!function(l,u,h){const f=Uv(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,Ih(i),r))}(n,t)}function aE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iw(n){return(t,e)=>{let i=!1;for(const r of Ih(n)){const a=oE(r,t,e);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function oE(n,t,e){const i=n.field.isKeyField()?Se.comparator(t.key,e.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Gh(h,f):Oe(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ju(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return B4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new vi(Se.comparator);function Wl(){return lE}const rw=new vi(Se.comparator);function Jf(...n){let t=rw;for(const e of n)t=t.insert(e.key,e);return t}function sw(n){let t=rw;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Rc(){return ad()}function aw(){return ad()}function ad(){return new zc(n=>n.toString(),(n,t)=>n.isEqual(t))}const uE=new vi(Se.comparator),cE=new hr(Se.comparator);function un(...n){let t=cE;for(const e of n)t=t.add(e);return t}const hE=new hr(ln);function fE(){return hE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(t)?"-0":t}}function ow(n){return{integerValue:""+n}}function dE(n,t){return BA(t)?ow(t):g2(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function pE(n,t,e){return n instanceof Ng?function(r,a){const l={fields:{[U4]:{stringValue:q4},[G4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Jg(a)&&(a=tm(a)),a&&(l.fields[H4]=a),{mapValue:l}}(e,t):n instanceof _d?uw(n,t):n instanceof wd?cw(n,t):function(r,a){const l=lw(r,a),u=Yv(l)+Yv(r.Ae);return S0(l)&&S0(r.Ae)?ow(u):g2(r.serializer,u)}(n,t)}function gE(n,t,e){return n instanceof _d?uw(n,t):n instanceof wd?cw(n,t):e}function lw(n,t){return n instanceof Cg?function(i){return S0(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class Ng extends im{}class _d extends im{constructor(t){super(),this.elements=t}}function uw(n,t){const e=hw(t);for(const i of n.elements)e.some(r=>nl(r,i))||e.push(i);return{arrayValue:{values:e}}}class wd extends im{constructor(t){super(),this.elements=t}}function cw(n,t){let e=hw(t);for(const i of n.elements)e=e.filter(r=>!nl(r,i));return{arrayValue:{values:e}}}class Cg extends im{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Yv(n){return Vi(n.integerValue||n.doubleValue)}function hw(n){return h2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function mE(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof _d&&r instanceof _d||i instanceof wd&&r instanceof wd?Hh(i.elements,r.elements,nl):i instanceof Cg&&r instanceof Cg?nl(i.Ae,r.Ae):i instanceof Ng&&r instanceof Ng}(n.transform,t.transform)}class yE{constructor(t,e){this.version=t,this.transformResults=e}}class oo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new oo}static exists(t){return new oo(void 0,t)}static updateTime(t){return new oo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function og(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class rm{}function fw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new m2(n.key,oo.none()):new Ld(n.key,n.data,oo.none());{const e=n.data,i=Ls.empty();let r=new hr(Mr.comparator);for(let a of t.fields)if(!r.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new tc(n.key,i,new ea(r.toArray()),oo.none())}}function vE(n,t,e){n instanceof Ld?function(r,a,l){const u=r.value.clone(),h=Kv(r.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof tc?function(r,a,l){if(!og(r.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Kv(r.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(dw(r)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function od(n,t,e,i){return n instanceof Ld?function(a,l,u,h){if(!og(a.precondition,l))return u;const f=a.value.clone(),g=Qv(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof tc?function(a,l,u,h){if(!og(a.precondition,l))return u;const f=Qv(a.fieldTransforms,h,l),g=l.data;return g.setAll(dw(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(a,l,u){return og(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function bE(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=lw(i.transform,r||null);a!=null&&(e===null&&(e=Ls.empty()),e.set(i.field,a))}return e||null}function Xv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Hh(i,r,(a,l)=>mE(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ld extends rm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tc extends rm{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Kv(n,t,e){const i=new Map;Mn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const a=n[r],l=a.transform,u=t.data.field(a.field);i.set(a.field,gE(l,u,e[r]))}return i}function Qv(n,t,e){const i=new Map;for(const r of n){const a=r.transform,l=e.data.field(r.field);i.set(r.field,pE(a,l,t))}return i}class m2 extends rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _E extends rm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&vE(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=od(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=od(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=aw();return this.mutations.forEach(r=>{const a=t.get(r.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(r.key)?null:u;const h=fw(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),un())}isEqual(t){return this.batchId===t.batchId&&Hh(this.mutations,t.mutations,(e,i)=>Xv(e,i))&&Hh(this.baseMutations,t.baseMutations,(e,i)=>Xv(e,i))}}class y2{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Mn(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return uE}();const a=t.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new y2(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki,gn;function AE(n){switch(n){case zt.OK:return Oe(64938);case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function pw(n){if(n===void 0)return Gl("GRPC error has no .code"),zt.UNKNOWN;switch(n){case Ki.OK:return zt.OK;case Ki.CANCELLED:return zt.CANCELLED;case Ki.UNKNOWN:return zt.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return zt.INTERNAL;case Ki.UNAVAILABLE:return zt.UNAVAILABLE;case Ki.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case Ki.NOT_FOUND:return zt.NOT_FOUND;case Ki.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case Ki.ABORTED:return zt.ABORTED;case Ki.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case Ki.DATA_LOSS:return zt.DATA_LOSS;default:return Oe(39323,{code:n})}}(gn=Ki||(Ki={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Fu([4294967295,4294967295],0);function $v(n){const t=EE().encode(n),e=new L4;return e.update(t),new Uint8Array(e.digest())}function Zv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Fu([e,i],0),new Fu([r,a],0)]}class v2{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new td(`Invalid padding: ${e}`);if(i<0)throw new td(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new td(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Fu.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Fu.fromNumber(i)));return r.compare(TE)===1&&(r=new Fu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=$v(t),[i,r]=Zv(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new v2(a,r,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=$v(t),[i,r]=Zv(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Rd.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new sm(Be.min(),r,new vi(ln),Wl(),un())}}class Rd{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Rd(i,e,un(),un(),un())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class gw{constructor(t,e){this.targetId=t,this.Ce=e}}class mw{constructor(t,e,i=Pr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Jv{constructor(){this.ve=0,this.Fe=tb(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=un(),e=un(),i=un();return this.Fe.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Oe(38017,{changeType:a})}}),new Rd(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=tb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NE{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wl(),this.Je=Vp(),this.He=Vp(),this.Ye=new vi(ln)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Oe(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,r)=>{this.rt(r)&&e(r)})}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const a=r.target;if(E0(a))if(i===0){const l=new Se(a.path);this.et(e,l,es.newNoDocument(l,Be.min()))}else Mn(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=e;let l,u;try{l=Wu(i).toUint8Array()}catch(h){if(h instanceof z4)return Uh("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new v2(l,r,a)}catch(h){return Uh(h instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.et(e,a,null),r++)}),r}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&E0(u.target)){const h=new Se(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,es.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let i=un();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const r=new sm(t,e,this.Ye,this.je,i);return this.je=Wl(),this.Je=Vp(),this.He=Vp(),this.Ye=new vi(ln),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Jv,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new hr(ln),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new hr(ln),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||fe("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Jv),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Vp(){return new vi(Se.comparator)}function tb(){return new vi(Se.comparator)}const CE={asc:"ASCENDING",desc:"DESCENDING"},LE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RE={and:"AND",or:"OR"};class DE{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function N0(n,t){return n.useProto3Json||Zg(t)?t:{value:t}}function Lg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function IE(n,t){return Lg(n,t.toTimestamp())}function $o(n){return Mn(!!n,49232),Be.fromTimestamp(function(e){const i=Gu(e);return new Yn(i.seconds,i.nanos)}(n))}function b2(n,t){return C0(n,t).canonicalString()}function C0(n,t){const e=function(r){return new $n(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function vw(n){const t=$n.fromString(n);return Mn(Sw(t),10190,{key:t.toString()}),t}function L0(n,t){return b2(n.databaseId,t.path)}function B1(n,t){const e=vw(t);if(e.get(1)!==n.databaseId.projectId)throw new le(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new le(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Se(_w(e))}function bw(n,t){return b2(n.databaseId,t)}function ME(n){const t=vw(n);return t.length===4?$n.emptyPath():_w(t)}function R0(n){return new $n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _w(n){return Mn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function eb(n,t,e){return{name:L0(n,t),fields:e.value.mapValue.fields}}function PE(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(f,g){return f.useProto3Json?(Mn(g===void 0||typeof g=="string",58123),Pr.fromBase64String(g||"")):(Mn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Pr.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const g=f.code===void 0?zt.UNKNOWN:pw(f.code);return new le(g,f.message||"")}(l);e=new mw(i,r,a,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=B1(n,i.document.name),a=$o(i.document.updateTime),l=i.document.createTime?$o(i.document.createTime):Be.min(),u=new Ls({mapValue:{fields:i.document.fields}}),h=es.newFoundDocument(r,a,l,u),f=i.targetIds||[],g=i.removedTargetIds||[];e=new lg(f,g,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=B1(n,i.document),a=i.readTime?$o(i.readTime):Be.min(),l=es.newNoDocument(r,a),u=i.removedTargetIds||[];e=new lg([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=B1(n,i.document),a=i.removedTargetIds||[];e=new lg([],a,r,null)}else{if(!("filter"in t))return Oe(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new SE(r,a),u=i.targetId;e=new gw(u,l)}}return e}function OE(n,t){let e;if(t instanceof Ld)e={update:eb(n,t.key,t.value)};else if(t instanceof m2)e={delete:L0(n,t.key)};else if(t instanceof tc)e={update:eb(n,t.key,t.data),updateMask:HE(t.fieldMask)};else{if(!(t instanceof _E))return Oe(16599,{Vt:t.type});e={verify:L0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Ng)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _d)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Oe(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:IE(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)}(n,t.precondition)),e}function kE(n,t){return n&&n.length>0?(Mn(t!==void 0,14353),n.map(e=>function(r,a){let l=r.updateTime?$o(r.updateTime):$o(a);return l.isEqual(Be.min())&&(l=$o(a)),new yE(l,r.transformResults||[])}(e,t))):[]}function jE(n,t){return{documents:[bw(n,t.path)]}}function VE(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=bw(n,r);const a=function(f){if(f.length!==0)return xw(lo.create(f,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(g=>function(w){return{field:Th(w.field),direction:zE(w.dir)}}(g))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=N0(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:r}}function FE(n){let t=ME(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Mn(i===1,65062);const g=e.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let a=[];e.where&&(a=function(v){const w=ww(v);return w instanceof lo&&$4(w)?w.getFilters():[w]}(e.where));let l=[];e.orderBy&&(l=function(v){return v.map(w=>function(T){return new bd(Nh(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(w))}(e.orderBy));let u=null;e.limit&&(u=function(v){let w;return w=typeof v=="object"?v.value:v,Zg(w)?null:w}(e.limit));let h=null;e.startAt&&(h=function(v){const w=!!v.before,_=v.values||[];return new Yh(_,w)}(e.startAt));let f=null;return e.endAt&&(f=function(v){const w=!v.before,_=v.values||[];return new Yh(_,w)}(e.endAt)),rE(t,r,l,a,u,"F",h,f)}function BE(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function ww(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Nh(e.unaryFilter.field);return Qi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Nh(e.unaryFilter.field);return Qi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Nh(e.unaryFilter.field);return Qi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Nh(e.unaryFilter.field);return Qi.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}}(n):n.fieldFilter!==void 0?function(e){return Qi.create(Nh(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return lo.create(e.compositeFilter.filters.map(i=>ww(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}}(e.compositeFilter.op))}(n):Oe(30097,{filter:n})}function zE(n){return CE[n]}function qE(n){return LE[n]}function UE(n){return RE[n]}function Th(n){return{fieldPath:n.canonicalString()}}function Nh(n){return Mr.fromServerFormat(n.fieldPath)}function xw(n){return n instanceof Qi?function(e){if(e.op==="=="){if(qv(e.value))return{unaryFilter:{field:Th(e.field),op:"IS_NAN"}};if(zv(e.value))return{unaryFilter:{field:Th(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qv(e.value))return{unaryFilter:{field:Th(e.field),op:"IS_NOT_NAN"}};if(zv(e.value))return{unaryFilter:{field:Th(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(e.field),op:qE(e.op),value:e.value}}}(n):n instanceof lo?function(e){const i=e.getFilters().map(r=>xw(r));return i.length===1?i[0]:{compositeFilter:{op:UE(e.op),filters:i}}}(n):Oe(54877,{filter:n})}function HE(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Sw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e,i,r,a=Be.min(),l=Be.min(),u=Pr.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new Mu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t){this.yt=t}}function WE(n){const t=FE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.Cn=new XE}addToCollectionParentIndex(t,e){return this.Cn.add(e),Yt.resolve()}getCollectionParents(t,e){return Yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Yt.resolve()}deleteFieldIndex(t,e){return Yt.resolve()}deleteAllFieldIndexes(t){return Yt.resolve()}createTargetIndexes(t,e){return Yt.resolve()}getDocumentsMatchingTarget(t,e){return Yt.resolve(null)}getIndexType(t,e){return Yt.resolve(0)}getFieldIndexes(t,e){return Yt.resolve([])}getNextCollectionGroupToUpdate(t){return Yt.resolve(null)}getMinOffset(t,e){return Yt.resolve(Hu.min())}getMinOffsetFromCollectionGroup(t,e){return Yt.resolve(Hu.min())}updateCollectionGroup(t,e,i){return Yt.resolve()}updateIndexEntries(t,e){return Yt.resolve()}}class XE{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new hr($n.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new hr($n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Aw=41943040;class Cs{static withCacheSize(t){return new Cs(t,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(Aw,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xh(0)}static cr(){return new Xh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",KE=1048576;function rb([n,t],[e,i]){const r=ln(n,e);return r===0?ln(t,i):r}class QE{constructor(t){this.Ir=t,this.buffer=new hr(rb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();rb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $E{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){fe(ib,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tf(e)?fe(ib,"Ignoring IndexedDB error during garbage collection: ",e):await Jh(e)}await this.Vr(3e5)})}}class ZE{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Yt.resolve($g.ce);const i=new QE(e);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(nb)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nb):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,a,l,u,h,f;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(t,i,e))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(f=Date.now(),Ah()<=mn.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v})))}}function JE(n,t){return new ZE(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.changes=new zc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,es.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Yt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&od(i.mutation,r,ea.empty(),Yn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,un()).next(()=>i))}getLocalViewOfDocuments(t,e,i=un()){const r=Rc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let l=Jf();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Rc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,un()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,r){let a=Wl();const l=ad(),u=function(){return ad()}();return e.forEach((h,f)=>{const g=i.get(f.key);r.has(f.key)&&(g===void 0||g.mutation instanceof tc)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),od(g.mutation,f,g.mutation.getFieldMask(),Yn.now())):l.set(f.key,ea.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,g)=>l.set(f,g)),e.forEach((f,g)=>u.set(f,new eT(g,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const i=ad();let r=new vi((l,u)=>l-u),a=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let g=i.get(h)||ea.empty();g=u.applyToLocalView(f,g),i.set(h,g);const v=(r.get(u.batchId)||un()).add(h);r=r.insert(u.batchId,v)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,v=aw();g.forEach(w=>{if(!a.has(w)){const _=fw(e.get(w),i.get(w));_!==null&&v.set(w,_),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,v))}return Yt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):p2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):Yt.resolve(Rc());let u=gd,h=a;return l.next(f=>Yt.forEach(f,(g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?Yt.resolve():this.remoteDocumentCache.getEntry(t,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,un())).next(g=>({batchId:u,changes:sw(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Se(e)).next(i=>{let r=Jf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const a=e.collectionGroup;let l=Jf();return this.indexManager.getCollectionParents(t,a).next(u=>Yt.forEach(u,h=>{const f=function(v,w){return new Bc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next(g=>{g.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,r))).next(l=>{a.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,es.newInvalidDocument(g)))});let u=Jf();return l.forEach((h,f)=>{const g=a.get(h);g!==void 0&&od(g.mutation,f,ea.empty(),Yn.now()),nm(e,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Yt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:$o(r.createTime)}}(e)),Yt.resolve()}getNamedQuery(t,e){return Yt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(r){return{name:r.name,query:WE(r.bundledQuery),readTime:$o(r.readTime)}}(e)),Yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.overlays=new vi(Se.comparator),this.qr=new Map}getOverlay(t,e){return Yt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Rc();return Yt.forEach(e,r=>this.getOverlay(t,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.St(t,e,a)}),Yt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),Yt.resolve()}getOverlaysForCollection(t,e,i){const r=Rc(),a=e.length+1,l=new Se(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Yt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new vi((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let g=a.get(f.largestBatchId);g===null&&(g=Rc(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=Rc(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=r)););return Yt.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new xE(e,i));let a=this.qr.get(e);a===void 0&&(a=un(),this.qr.set(e,a)),this.qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(t){return Yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Qr=new hr(xr.$r),this.Ur=new hr(xr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new xr(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new xr(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new Se(new $n([])),i=new xr(e,t),r=new xr(e,t+1),a=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Se(new $n([])),i=new xr(e,t),r=new xr(e,t+1);let a=un();return this.Ur.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new xr(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class xr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Se.comparator(t.key,e.key)||ln(t.Yr,e.Yr)}static Kr(t,e){return ln(t.Yr,e.Yr)||Se.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new hr(xr.$r)}checkEmpty(t){return Yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wE(a,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new xr(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Yt.resolve(l)}lookupMutationBatch(t,e){return Yt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),a=r<0?0:r;return Yt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(this.mutationQueue.length===0?c2:this.tr-1)}getAllMutationBatches(t){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new xr(e,0),r=new xr(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],l=>{const u=this.Xr(l.Yr);a.push(u)}),Yt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new hr(ln);return e.forEach(r=>{const a=new xr(r,0),l=new xr(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{i=i.add(u.Yr)})}),Yt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Se.isDocumentKey(a)||(a=a.child(""));const l=new xr(new Se(a),0);let u=new hr(ln);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Yr)),!0)},l),Yt.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Mn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Yt.forEach(e.mutations,r=>{const a=new xr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new xr(e,0),r=this.Zr.firstAfterOrEqual(i);return Yt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Yt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t){this.ri=t,this.docs=function(){return new vi(Se.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Yt.resolve(i?i.document.mutableCopy():es.newInvalidDocument(e))}getEntries(t,e){let i=Wl();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():es.newInvalidDocument(r))}),Yt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let a=Wl();const l=e.path,u=new Se(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||kA(OA(g),i)<=0||(r.has(g.key)||nm(e,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Yt.resolve(a)}getAllFromCollectionGroup(t,e,i,r){Oe(9500)}ii(t,e){return Yt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new lT(this)}getSize(t){return Yt.resolve(this.size)}}class lT extends tT{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),Yt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t){this.persistence=t,this.si=new zc(e=>f2(e),d2),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new _2,this.targetCount=0,this.ai=Xh.ur()}forEachTarget(t,e){return this.si.forEach((i,r)=>e(r)),Yt.resolve()}getLastRemoteSnapshotVersion(t){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Yt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Xh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Yt.resolve()}updateTargetData(t,e){return this.Pr(e),Yt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),Yt.waitFor(a).next(()=>r)}getTargetCount(t){return Yt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Yt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Yt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(l=>{a.push(r.markPotentiallyOrphaned(t,l))}),Yt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Yt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Yt.resolve(i)}containsKey(t,e){return Yt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,e){this.ui={},this.overlays={},this.ci=new $g(0),this.li=!1,this.li=!0,this.hi=new sT,this.referenceDelegate=t(this),this.Pi=new uT(this),this.indexManager=new YE,this.remoteDocumentCache=function(r){return new oT(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new GE(e),this.Ii=new iT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rT,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new aT(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){fe("MemoryPersistence","Starting transaction:",t);const r=new cT(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(t,e){return Yt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class cT extends VA{constructor(t){super(),this.currentSequenceNumber=t}}class w2{constructor(t){this.persistence=t,this.Ri=new _2,this.Vi=null}static mi(t){return new w2(t)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Yt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Yt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Yt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.fi,i=>{const r=Se.fromPath(i);return this.gi(t,r).next(a=>{a||e.removeEntry(r,Be.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return Yt.or([()=>Yt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Rg{constructor(t,e){this.persistence=t,this.pi=new zc(i=>zA(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=JE(this,e)}static mi(t,e){return new Rg(t,e)}Ei(){}di(t){return Yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return Yt.forEach(this.pi,(i,r)=>this.br(t,i,r).next(a=>a?Yt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(t,l=>this.br(t,l,e).next(u=>{u||(i++,a.removeEntry(l,Be.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Yt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Yt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Yt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Yt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sg(t.data.value)),e}br(t,e,i){return Yt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return Yt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=un(),r=un();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new x2(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sS()?8:FA(iS())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new hT;return this.Ss(t,e,l).next(u=>{if(a.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>a.result)}bs(t,e,i,r){return i.documentReadCount<this.fs?(Ah()<=mn.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Eh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Yt.resolve()):(Ah()<=mn.DEBUG&&fe("QueryEngine","Query:",Eh(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Ah()<=mn.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Eh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qo(e))):Yt.resolve())}ys(t,e){if(Wv(e))return Yt.resolve(null);let i=Qo(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Tg(e,null,"F"),i=Qo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=un(...a);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(e,u);return this.Cs(e,f,l,h.readTime)?this.ys(t,Tg(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,i,r){return Wv(e)||r.isEqual(Be.min())?Yt.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,i,r)?Yt.resolve(null):(Ah()<=mn.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eh(e)),this.vs(t,l,e,PA(r,gd)).next(u=>u))})}Ds(t,e){let i=new hr(iw(t));return e.forEach((r,a)=>{nm(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(t,e,i){return Ah()<=mn.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Eh(e)),this.ps.getDocumentsMatchingQuery(t,e,Hu.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="LocalStore",dT=3e8;class pT{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new vi(ln),this.xs=new zc(a=>f2(a),d2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function gT(n,t,e,i){return new pT(n,t,e,i)}async function Tw(n,t){const e=qe(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=un();for(const f of r){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function mT(n,t){const e=qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,g){const v=f.batch,w=v.keys();let _=Yt.resolve();return w.forEach(T=>{_=_.next(()=>g.getEntry(h,T)).next(N=>{const I=f.docVersions.get(T);Mn(I!==null,48541),N.version.compareTo(I)<0&&(v.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),g.addEntry(N)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=un();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function Nw(n){const t=qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function yT(n,t){const e=qe(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach((g,v)=>{const w=r.get(v);if(!w)return;u.push(e.Pi.removeMatchingKeys(a,g.removedDocuments,v).next(()=>e.Pi.addMatchingKeys(a,g.addedDocuments,v)));let _=w.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(v)!==null?_=_.withResumeToken(Pr.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,i)),r=r.insert(v,_),function(N,I,O){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=dT?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(w,_,g)&&u.push(e.Pi.updateTargetData(a,_))});let h=Wl(),f=un();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(vT(a,l,t.documentUpdates).next(g=>{h=g.ks,f=g.qs})),!i.isEqual(Be.min())){const g=e.Pi.getLastRemoteSnapshotVersion(a).next(v=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(g)}return Yt.waitFor(u).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(e.Ms=r,a))}function vT(n,t,e){let i=un(),r=un();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=Wl();return e.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Be.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):fe(S2,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:r}})}function bT(n,t){const e=qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=c2),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _T(n,t){const e=qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Pi.getTargetData(i,t).next(a=>a?(r=a,Yt.resolve(r)):e.Pi.allocateTargetId(i).next(l=>(r=new Mu(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function D0(n,t,e){const i=qe(n),r=i.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!tf(l))throw l;fe(S2,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function sb(n,t,e){const i=qe(n);let r=Be.min(),a=un();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const v=qe(h),w=v.xs.get(g);return w!==void 0?Yt.resolve(v.Ms.get(w)):v.Pi.getTargetData(f,g)}(i,l,Qo(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:Be.min(),e?a:un())).next(u=>(wT(i,aE(t),u),{documents:u,Qs:a})))}function wT(n,t,e){let i=n.Os.get(t)||Be.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(t,i)}class ab{constructor(){this.activeTargetIds=fE()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xT{constructor(){this.Mo=new ab,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ab,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="ConnectivityMonitor";class lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(ob,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){fe(ob,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function I0(){return Fp===null?Fp=function(){return 268435456+Math.round(2147483648*Math.random())}():Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="RestConnection",AT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ET{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Sg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,a){const l=I0(),u=this.zo(t,e.toUriEncodedString());fe(z1,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,a);const{host:f}=new URL(u),g=a2(f);return this.Jo(t,u,h,i,g).then(v=>(fe(z1,`Received RPC '${t}' ${l}: `,v),v),v=>{throw Uh(z1,`RPC '${t}' ${l} failed with error: `,v,"url: ",u,"request:",i),v})}Ho(t,e,i,r,a,l){return this.Go(t,e,i,r,a)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}zo(t,e){const i=AT[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="WebChannelConnection";class NT extends ET{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,a){const l=I0();return new Promise((u,h)=>{const f=new R4;f.setWithCredentials(!0),f.listenOnce(D4.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rg.NO_ERROR:const v=f.getResponseJson();fe(Xr,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(v)),u(v);break;case rg.TIMEOUT:fe(Xr,`RPC '${t}' ${l} timed out`),h(new le(zt.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const w=f.getStatus();if(fe(Xr,`RPC '${t}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_?.error;if(T&&T.status&&T.message){const N=function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(q)>=0?q:zt.UNKNOWN}(T.status);h(new le(N,T.message))}else h(new le(zt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new le(zt.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{fe(Xr,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(r);fe(Xr,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",g,i,15)})}T_(t,e,i){const r=I0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=P4(),u=M4(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=a.join("");fe(Xr,`Creating RPC '${t}' stream ${r}: ${g}`,h);const v=l.createWebChannel(g,h);this.I_(v);let w=!1,_=!1;const T=new TT({Yo:I=>{_?fe(Xr,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(w||(fe(Xr,`Opening RPC '${t}' stream ${r} transport.`),v.open(),w=!0),fe(Xr,`RPC '${t}' stream ${r} sending:`,I),v.send(I))},Zo:()=>v.close()}),N=(I,O,q)=>{I.listen(O,J=>{try{q(J)}catch(ot){setTimeout(()=>{throw ot},0)}})};return N(v,Zf.EventType.OPEN,()=>{_||(fe(Xr,`RPC '${t}' stream ${r} transport opened.`),T.o_())}),N(v,Zf.EventType.CLOSE,()=>{_||(_=!0,fe(Xr,`RPC '${t}' stream ${r} transport closed`),T.a_(),this.E_(v))}),N(v,Zf.EventType.ERROR,I=>{_||(_=!0,Uh(Xr,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),T.a_(new le(zt.UNAVAILABLE,"The operation could not be completed")))}),N(v,Zf.EventType.MESSAGE,I=>{if(!_){const O=I.data[0];Mn(!!O,16349);const q=O,J=q?.error||q[0]?.error;if(J){fe(Xr,`RPC '${t}' stream ${r} received error:`,J);const ot=J.status;let $=function(C){const k=Ki[C];if(k!==void 0)return pw(k)}(ot),ut=J.message;$===void 0&&($=zt.INTERNAL,ut="Unknown error status: "+ot+" with message "+J.message),_=!0,T.a_(new le($,ut)),v.close()}else fe(Xr,`RPC '${t}' stream ${r} received:`,O),T.u_(O)}}),N(u,I4.STAT_EVENT,I=>{I.stat===_0.PROXY?fe(Xr,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===_0.NOPROXY&&fe(Xr,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function q1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n){return new DE(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="PersistentStream";class Lw{constructor(t,e,i,r,a,l,u,h){this.Mi=t,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cw(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===zt.RESOURCE_EXHAUSTED?(Gl(e.toString()),Gl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===zt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===e&&this.G_(i,r)},i=>{t(()=>{const r=new le(zt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return fe(ub,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(fe(ub,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CT extends Lw{constructor(t,e,i,r,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=PE(this.serializer,t),i=function(a){if(!("targetChange"in a))return Be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?$o(l.readTime):Be.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=R0(this.serializer),e.addTarget=function(a,l){let u;const h=l.target;if(u=E0(h)?{documents:jE(a,h)}:{query:VE(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=yw(a,l.resumeToken);const f=N0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){u.readTime=Lg(a,l.snapshotVersion.toTimestamp());const f=N0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=BE(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=R0(this.serializer),e.removeTarget=t,this.q_(e)}}class LT extends Lw{constructor(t,e,i,r,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Mn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Mn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Mn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=kE(t.writeResults,t.commitTime),i=$o(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=R0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>OE(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class DT extends RT{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new le(zt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,C0(e,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(zt.UNKNOWN,a.toString())})}Ho(t,e,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,C0(e,i),r,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(zt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class IT{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gl(e),this.aa=!1):fe("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="RemoteStore";class MT{constructor(t,e,i,r,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{qc(this)&&(fe(kc,"Restarting streams for network reachability change."),await async function(h){const f=qe(h);f.Ea.add(4),await Dd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await om(f)}(this))})}),this.Ra=new IT(i,r)}}async function om(n){if(qc(n))for(const t of n.da)await t(!0)}async function Dd(n){for(const t of n.da)await t(!1)}function Rw(n,t){const e=qe(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),N2(e)?T2(e):ef(e).O_()&&E2(e,t))}function A2(n,t){const e=qe(n),i=ef(e);e.Ia.delete(t),i.O_()&&Dw(e,t),e.Ia.size===0&&(i.O_()?i.L_():qc(e)&&e.Ra.set("Unknown"))}function E2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Be.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ef(n).Y_(t)}function Dw(n,t){n.Va.Ue(t),ef(n).Z_(t)}function T2(n){n.Va=new NE({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ef(n).start(),n.Ra.ua()}function N2(n){return qc(n)&&!ef(n).x_()&&n.Ia.size>0}function qc(n){return qe(n).Ea.size===0}function Iw(n){n.Va=void 0}async function PT(n){n.Ra.set("Online")}async function OT(n){n.Ia.forEach((t,e)=>{E2(n,t)})}async function kT(n,t){Iw(n),N2(n)?(n.Ra.ha(t),T2(n)):n.Ra.set("Unknown")}async function jT(n,t,e){if(n.Ra.set("Online"),t instanceof mw&&t.state===2&&t.cause)try{await async function(r,a){const l=a.cause;for(const u of a.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))}(n,t)}catch(i){fe(kc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Dg(n,i)}else if(t instanceof lg?n.Va.Ze(t):t instanceof gw?n.Va.st(t):n.Va.tt(t),!e.isEqual(Be.min()))try{const i=await Nw(n.localStore);e.compareTo(i)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(Pr.EMPTY_BYTE_STRING,g.snapshotVersion)),Dw(a,h);const v=new Mu(g.target,h,f,g.sequenceNumber);E2(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){fe(kc,"Failed to raise snapshot:",i),await Dg(n,i)}}async function Dg(n,t,e){if(!tf(t))throw t;n.Ea.add(1),await Dd(n),n.Ra.set("Offline"),e||(e=()=>Nw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(kc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await om(n)})}function Mw(n,t){return t().catch(e=>Dg(n,e,t))}async function lm(n){const t=qe(n),e=Xu(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:c2;for(;VT(t);)try{const r=await bT(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,FT(t,r)}catch(r){await Dg(t,r)}Pw(t)&&Ow(t)}function VT(n){return qc(n)&&n.Ta.length<10}function FT(n,t){n.Ta.push(t);const e=Xu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Pw(n){return qc(n)&&!Xu(n).x_()&&n.Ta.length>0}function Ow(n){Xu(n).start()}async function BT(n){Xu(n).ra()}async function zT(n){const t=Xu(n);for(const e of n.Ta)t.ea(e.mutations)}async function qT(n,t,e){const i=n.Ta.shift(),r=y2.from(i,t,e);await Mw(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await lm(n)}async function UT(n,t){t&&Xu(n).X_&&await async function(i,r){if(function(l){return AE(l)&&l!==zt.ABORTED}(r.code)){const a=i.Ta.shift();Xu(i).B_(),await Mw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await lm(i)}}(n,t),Pw(n)&&Ow(n)}async function cb(n,t){const e=qe(n);e.asyncQueue.verifyOperationInProgress(),fe(kc,"RemoteStore received new credentials");const i=qc(e);e.Ea.add(3),await Dd(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await om(e)}async function HT(n,t){const e=qe(n);t?(e.Ea.delete(2),await om(e)):t||(e.Ea.add(2),await Dd(e),e.Ra.set("Unknown"))}function ef(n){return n.ma||(n.ma=function(e,i,r){const a=qe(e);return a.sa(),new CT(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{Xo:PT.bind(null,n),t_:OT.bind(null,n),r_:kT.bind(null,n),H_:jT.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),N2(n)?T2(n):n.Ra.set("Unknown")):(await n.ma.stop(),Iw(n))})),n.ma}function Xu(n){return n.fa||(n.fa=function(e,i,r){const a=qe(e);return a.sa(),new LT(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:BT.bind(null,n),r_:UT.bind(null,n),ta:zT.bind(null,n),na:qT.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await lm(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(kc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Bu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,a){const l=Date.now()+i,u=new C2(t,e,l,r,a);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(zt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L2(n,t){if(Gl("AsyncQueue",`${t}: ${n}`),tf(n))return new le(zt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{static emptySet(t){return new Mh(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Se.comparator(e.key,i.key):(e,i)=>Se.comparator(e.key,i.key),this.keyedMap=Jf(),this.sortedSet=new vi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Mh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Mh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.ga=new vi(Se.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Oe(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class Kh{constructor(t,e,i,r,a,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,a){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Kh(t,e,Mh.emptySet(e),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&em(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class WT{constructor(){this.queries=fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=qe(e),a=r.queries;r.queries=fb(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new le(zt.ABORTED,"Firestore shutting down"))}}function fb(){return new zc(n=>nw(n),em)}async function YT(n,t){const e=qe(n);let i=3;const r=t.query;let a=e.queries.get(r);a?!a.ba()&&t.Da()&&(i=2):(a=new GT,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await e.onListen(r,!0);break;case 1:a.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=L2(l,`Initialization of query '${Eh(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&R2(e)}async function XT(n,t){const e=qe(n),i=t.query;let r=3;const a=e.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?r=t.Da()?0:1:!a.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function KT(n,t){const e=qe(n);let i=!1;for(const r of t){const a=r.query,l=e.queries.get(a);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&R2(e)}function QT(n,t,e){const i=qe(n),r=i.queries.get(t);if(r)for(const a of r.Sa)a.onError(e);i.queries.delete(t)}function R2(n){n.Ca.forEach(t=>{t.next()})}var M0,db;(db=M0||(M0={})).Ma="default",db.Cache="cache";class $T{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Kh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Kh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==M0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.key=t}}class jw{constructor(t){this.key=t}}class ZT{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=un(),this.mutatedKeys=un(),this.eu=iw(t),this.tu=new Mh(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new hb,r=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((g,v)=>{const w=r.get(g),_=nm(this.query,v)?v:null,T=!!w&&this.mutatedKeys.has(w.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;w&&_?w.data.isEqual(_.data)?T!==N&&(i.track({type:3,doc:_}),I=!0):this.su(w,_)||(i.track({type:2,doc:_}),I=!0,(h&&this.eu(_,h)>0||f&&this.eu(_,f)<0)&&(u=!0)):!w&&_?(i.track({type:0,doc:_}),I=!0):w&&!_&&(i.track({type:1,doc:w}),I=!0,(h||f)&&(u=!0)),I&&(_?(l=l.add(_),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Cs:u,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((g,v)=>function(_,T){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:I})}};return N(_)-N(T)}(g.type,v.type)||this.eu(g.doc,v.doc)),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Kh(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=un(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new jw(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new kw(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=un();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Kh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const D2="SyncEngine";class JT{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class t8{constructor(t){this.key=t,this.hu=!1}}class e8{constructor(t,e,i,r,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new zc(u=>nw(u),em),this.Iu=new Map,this.Eu=new Set,this.du=new vi(Se.comparator),this.Au=new Map,this.Ru=new _2,this.Vu={},this.mu=new Map,this.fu=Xh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n8(n,t,e=!0){const i=Uw(n);let r;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await Vw(i,t,e,!0),r}async function i8(n,t){const e=Uw(n);await Vw(e,t,!0,!1)}async function Vw(n,t,e,i){const r=await _T(n.localStore,Qo(t)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return i&&(u=await r8(n,t,a,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&Rw(n.remoteStore,r),u}async function r8(n,t,e,i,r){n.pu=(v,w,_)=>async function(N,I,O,q){let J=I.view.ru(O);J.Cs&&(J=await sb(N.localStore,I.query,!1).then(({documents:F})=>I.view.ru(F,J)));const ot=q&&q.targetChanges.get(I.targetId),$=q&&q.targetMismatches.get(I.targetId)!=null,ut=I.view.applyChanges(J,N.isPrimaryClient,ot,$);return gb(N,I.targetId,ut.au),ut.snapshot}(n,v,w,_);const a=await sb(n.localStore,t,!0),l=new ZT(t,a.Qs),u=l.ru(a.documents),h=Rd.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,h);gb(n,e,f.au);const g=new JT(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function s8(n,t,e){const i=qe(n),r=i.Tu.get(t),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter(l=>!em(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await D0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&A2(i.remoteStore,r.targetId),P0(i,r.targetId)}).catch(Jh)):(P0(i,r.targetId),await D0(i.localStore,r.targetId,!0))}async function a8(n,t){const e=qe(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),A2(e.remoteStore,i.targetId))}async function o8(n,t,e){const i=p8(n);try{const r=await function(l,u){const h=qe(l),f=Yn.now(),g=u.reduce((_,T)=>_.add(T.key),un());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=Wl(),N=un();return h.Ns.getEntries(_,g).next(I=>{T=I,T.forEach((O,q)=>{q.isValidDocument()||(N=N.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,T)).next(I=>{v=I;const O=[];for(const q of u){const J=bE(q,v.get(q.key).overlayedDocument);J!=null&&O.push(new tc(q.key,J,X4(J.value.mapValue),oo.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,O,u)}).next(I=>{w=I;const O=I.applyToLocalDocumentSet(v,N);return h.documentOverlayCache.saveOverlays(_,I.batchId,O)})}).then(()=>({batchId:w.batchId,changes:sw(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new vi(ln)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,r.batchId,e),await Id(i,r.changes),await lm(i.remoteStore)}catch(r){const a=L2(r,"Failed to persist write");e.reject(a)}}async function Fw(n,t){const e=qe(n);try{const i=await yT(e.localStore,t);t.targetChanges.forEach((r,a)=>{const l=e.Au.get(a);l&&(Mn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?Mn(l.hu,14607):r.removedDocuments.size>0&&(Mn(l.hu,42227),l.hu=!1))}),await Id(e,i,t)}catch(i){await Jh(i)}}function pb(n,t,e){const i=qe(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach((a,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=qe(l);h.onlineState=u;let f=!1;h.queries.forEach((g,v)=>{for(const w of v.Sa)w.va(u)&&(f=!0)}),f&&R2(h)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function l8(n,t,e){const i=qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),a=r&&r.key;if(a){let l=new vi(Se.comparator);l=l.insert(a,es.newNoDocument(a,Be.min()));const u=un().add(a),h=new sm(Be.min(),new Map,new vi(ln),l,u);await Fw(i,h),i.du=i.du.remove(a),i.Au.delete(t),I2(i)}else await D0(i.localStore,t,!1).then(()=>P0(i,t,e)).catch(Jh)}async function u8(n,t){const e=qe(n),i=t.batch.batchId;try{const r=await mT(e.localStore,t);zw(e,i,null),Bw(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Id(e,r)}catch(r){await Jh(r)}}async function c8(n,t,e){const i=qe(n);try{const r=await function(l,u){const h=qe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next(v=>(Mn(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(i.localStore,t);zw(i,t,e),Bw(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Id(i,r)}catch(r){await Jh(r)}}function Bw(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function zw(n,t,e){const i=qe(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function P0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||qw(n,i)})}function qw(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(A2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),I2(n))}function gb(n,t,e){for(const i of e)i instanceof kw?(n.Ru.addReference(i.key,t),h8(n,i)):i instanceof jw?(fe(D2,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||qw(n,i.key)):Oe(19791,{wu:i})}function h8(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(fe(D2,"New document in limbo: "+e),n.Eu.add(i),I2(n))}function I2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Se($n.fromString(t)),i=n.fu.next();n.Au.set(i,new t8(e)),n.du=n.du.insert(e,i),Rw(n.remoteStore,new Mu(Qo(ew(e.path)),i,"TargetPurposeLimboResolution",$g.ce))}}async function Id(n,t,e){const i=qe(n),r=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,t,e).then(f=>{if((f||e)&&i.isPrimaryClient){const g=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){r.push(f);const g=x2.As(h.targetId,f);a.push(g)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(h,f){const g=qe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Yt.forEach(f,w=>Yt.forEach(w.Es,_=>g.persistence.referenceDelegate.addReference(v,w.targetId,_)).next(()=>Yt.forEach(w.ds,_=>g.persistence.referenceDelegate.removeReference(v,w.targetId,_)))))}catch(v){if(!tf(v))throw v;fe(S2,"Failed to update sequence numbers: "+v)}for(const v of f){const w=v.targetId;if(!v.fromCache){const _=g.Ms.get(w),T=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(w,N)}}}(i.localStore,a))}async function f8(n,t){const e=qe(n);if(!e.currentUser.isEqual(t)){fe(D2,"User change. New user:",t.toKey());const i=await Tw(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new le(zt.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Id(e,i.Ls)}}function d8(n,t){const e=qe(n),i=e.Au.get(t);if(i&&i.hu)return un().add(i.key);{let r=un();const a=e.Iu.get(t);if(!a)return r;for(const l of a){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function Uw(n){const t=qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l8.bind(null,t),t.Pu.H_=KT.bind(null,t.eventManager),t.Pu.yu=QT.bind(null,t.eventManager),t}function p8(n){const t=qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c8.bind(null,t),t}class Ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=am(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return gT(this.persistence,new fT,t.initialUser,this.serializer)}Cu(t){return new Ew(w2.mi,this.serializer)}Du(t){return new xT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ig.provider={build:()=>new Ig};class g8 extends Ig{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Mn(this.persistence.referenceDelegate instanceof Rg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $E(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new Ew(i=>Rg.mi(i,e),this.serializer)}}class O0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f8.bind(null,this.syncEngine),await HT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new WT}()}createDatastore(t){const e=am(t.databaseInfo.databaseId),i=function(a){return new NT(a)}(t.databaseInfo);return function(a,l,u,h){return new DT(a,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,a,l,u){return new MT(i,r,a,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>pb(this.syncEngine,e,0),function(){return lb.v()?new lb:new ST}())}createSyncEngine(t,e){return function(r,a,l,u,h,f,g){const v=new e8(r,a,l,u,h,f);return g&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=qe(e);fe(kc,"RemoteStore shutting down."),i.Ea.add(5),await Dd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}O0.provider={build:()=>new O0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="FirestoreClient";class y8{constructor(t,e,i,r,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ts.UNAUTHENTICATED,this.clientId=u2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{fe(Ku,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(fe(Ku,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=L2(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function U1(n,t){n.asyncQueue.verifyOperationInProgress(),fe(Ku,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Tw(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function mb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await v8(n);fe(Ku,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>cb(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>cb(t.remoteStore,r)),n._onlineComponents=t}async function v8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Ku,"Using user provided OfflineComponentProvider");try{await U1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===zt.FAILED_PRECONDITION||r.code===zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Uh("Error using user provided cache. Falling back to memory cache: "+e),await U1(n,new Ig)}}else fe(Ku,"Using default OfflineComponentProvider"),await U1(n,new g8(void 0));return n._offlineComponents}async function Hw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Ku,"Using user provided OnlineComponentProvider"),await mb(n,n._uninitializedComponentsProvider._online)):(fe(Ku,"Using default OnlineComponentProvider"),await mb(n,new O0))),n._onlineComponents}function b8(n){return Hw(n).then(t=>t.syncEngine)}async function _8(n){const t=await Hw(n),e=t.eventManager;return e.onListen=n8.bind(null,t.syncEngine),e.onUnlisten=s8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=i8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=a8.bind(null,t.syncEngine),e}function w8(n,t,e={}){const i=new Bu;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const g=new m8({next:w=>{g.Nu(),l.enqueueAndForget(()=>XT(a,v)),w.fromCache&&h.source==="server"?f.reject(new le(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new $T(u,g,{includeMetadataChanges:!0,qa:!0});return YT(a,v)}(await _8(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firestore.googleapis.com",vb=!0;class bb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new le(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ww,this.ssl=vb}else this.host=t.host,this.ssl=t.ssl??vb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Aw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KE)throw new le(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gw(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class um{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new le(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SA;switch(i.type){case"firstParty":return new NA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=yb.get(e);i&&(fe("ComponentProvider","Removing Datastore"),yb.delete(e),i.terminate())}(this),Promise.resolve()}}function x8(n,t,e,i={}){n=Oc(n,um);const r=a2(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(Zx(`https://${u}`),nS("Firestore",!0)),a.host!==Ww&&a.host!==u&&Uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:r,emulatorOptions:i};if(!bg(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=ts.MOCK_USER;else{f=Jx(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new le(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ts(v)}n._authCredentials=new AA(new k4(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Xl(this.firestore,t,this._query)}}class ur{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ur(this.firestore,t,this._key)}toJSON(){return{type:ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Cd(e,ur._jsonSchema))return new ur(t,i||null,new Se($n.fromString(e.referencePath)))}}ur._jsonSchemaVersion="firestore/documentReference/1.0",ur._jsonSchema={type:$i("string",ur._jsonSchemaVersion),referencePath:$i("string")};class zu extends Xl{constructor(t,e,i){super(t,e,ew(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ur(this.firestore,null,new Se(t))}withConverter(t){return new zu(this.firestore,t,this._path)}}function sn(n,t,...e){if(n=el(n),j4("collection","path",t),n instanceof um){const i=$n.fromString(t,...e);return Mv(i),new zu(n,null,i)}{if(!(n instanceof ur||n instanceof zu))throw new le(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($n.fromString(t,...e));return Mv(i),new zu(n.firestore,null,i)}}function jc(n,t,...e){if(n=el(n),arguments.length===1&&(t=u2.newId()),j4("doc","path",t),n instanceof um){const i=$n.fromString(t,...e);return Iv(i),new ur(n,null,new Se(i))}{if(!(n instanceof ur||n instanceof zu))throw new le(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($n.fromString(t,...e));return Iv(i),new ur(n.firestore,n instanceof zu?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="AsyncQueue";class wb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cw(this,"async_queue_retry"),this._c=()=>{const i=q1();i&&fe(_b,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=q1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=q1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new Bu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tf(t))throw t;fe(_b,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Gl("INTERNAL UNHANDLED ERROR: ",xb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=C2.createAndSchedule(this,t,e,i,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&Oe(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function xb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Md extends um{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new wb,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wb(t),this._firestoreClient=void 0,await t}}}function S8(n,t){const e=typeof n=="object"?n:fA(),i=typeof n=="string"?n:Sg,r=oA(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=Qx("firestore");a&&x8(r,...a)}return r}function Yw(n){if(n._terminated)throw new le(zt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||A8(n),n._firestoreClient}function A8(n){const t=n._freezeSettings(),e=function(r,a,l,u){return new HA(r,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Gw(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new y8(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Na(Pr.fromBase64String(t))}catch(e){throw new le(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Na(Pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Na._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Cd(t,Na._jsonSchema))return Na.fromBase64String(t.bytes)}}Na._jsonSchemaVersion="firestore/bytes/1.0",Na._jsonSchema={type:$i("string",Na._jsonSchemaVersion),bytes:$i("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new le(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new le(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new le(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ln(this._lat,t._lat)||ln(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zo._jsonSchemaVersion}}static fromJSON(t){if(Cd(t,Zo._jsonSchema))return new Zo(t.latitude,t.longitude)}}Zo._jsonSchemaVersion="firestore/geoPoint/1.0",Zo._jsonSchema={type:$i("string",Zo._jsonSchemaVersion),latitude:$i("number"),longitude:$i("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Jo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Cd(t,Jo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Jo(t.vectorValues);throw new le(zt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jo._jsonSchemaVersion="firestore/vectorValue/1.0",Jo._jsonSchema={type:$i("string",Jo._jsonSchemaVersion),vectorValues:$i("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=/^__.*__$/;class T8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new tc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ld(t,this.data,e,this.fieldTransforms)}}class Xw{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new tc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Kw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:n})}}class P2{constructor(t,e,i,r,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new P2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Mg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Kw(this.Ac)&&E8.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class N8{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||am(t)}Cc(t,e,i,r=!1){return new P2({Ac:t,methodName:e,Dc:i,path:Mr.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const t=n._freezeSettings(),e=am(n._databaseId);return new N8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function C8(n,t,e,i,r,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,r);O2("Data must be an object, but it was:",l,i);const u=$w(i,l);let h,f;if(a.merge)h=new ea(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const w=k0(t,v,e);if(!l.contains(w))throw new le(zt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Jw(g,w)||g.push(w)}h=new ea(g),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new T8(new Ls(u),h,f)}class fm extends M2{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fm}}function L8(n,t,e,i){const r=n.Cc(1,t,e);O2("Data must be an object, but it was:",r,i);const a=[],l=Ls.empty();Ju(i,(h,f)=>{const g=k2(t,h,e);f=el(f);const v=r.yc(g);if(f instanceof fm)a.push(g);else{const w=Pd(f,v);w!=null&&(a.push(g),l.set(g,w))}});const u=new ea(a);return new Xw(l,u,r.fieldTransforms)}function R8(n,t,e,i,r,a){const l=n.Cc(1,t,e),u=[k0(t,i,e)],h=[r];if(a.length%2!=0)throw new le(zt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)u.push(k0(t,a[w])),h.push(a[w+1]);const f=[],g=Ls.empty();for(let w=u.length-1;w>=0;--w)if(!Jw(f,u[w])){const _=u[w];let T=h[w];T=el(T);const N=l.yc(_);if(T instanceof fm)f.push(_);else{const I=Pd(T,N);I!=null&&(f.push(_),g.set(_,I))}}const v=new ea(f);return new Xw(g,v,l.fieldTransforms)}function Qw(n,t,e,i=!1){return Pd(e,n.Cc(i?4:3,t))}function Pd(n,t){if(Zw(n=el(n)))return O2("Unsupported field value:",t,n),$w(n,t);if(n instanceof M2)return function(i,r){if(!Kw(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const u of i){let h=Pd(u,r.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,r){if((i=el(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dE(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Yn.fromDate(i);return{timestampValue:Lg(r.serializer,a)}}if(i instanceof Yn){const a=new Yn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lg(r.serializer,a)}}if(i instanceof Zo)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Na)return{bytesValue:yw(r.serializer,i._byteString)};if(i instanceof ur){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:b2(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Jo)return function(l,u){return{mapValue:{fields:{[W4]:{stringValue:Y4},[Ag]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return g2(u.serializer,f)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Qg(i)}`)}(n,t)}function $w(n,t){const e={};return B4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ju(n,(i,r)=>{const a=Pd(r,t.mc(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function Zw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof Zo||n instanceof Na||n instanceof ur||n instanceof M2||n instanceof Jo)}function O2(n,t,e){if(!Zw(e)||!V4(e)){const i=Qg(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function k0(n,t,e){if((t=el(t))instanceof cm)return t._internalPath;if(typeof t=="string")return k2(n,t);throw Mg("Field path arguments must be of type string or ",n,!1,void 0,e)}const D8=new RegExp("[~\\*/\\[\\]]");function k2(n,t,e){if(t.search(D8)>=0)throw Mg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new cm(...t.split("."))._internalPath}catch{throw Mg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Mg(n,t,e,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new le(zt.INVALID_ARGUMENT,u+n+h)}function Jw(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new I8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(dm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class I8 extends j2{data(){return super.data()}}function dm(n,t){return typeof t=="string"?k2(n,t):t instanceof cm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{}class pm extends V2{}function or(n,t,...e){let i=[];t instanceof V2&&i.push(t),i=i.concat(e),function(a){const l=a.filter(h=>h instanceof F2).length,u=a.filter(h=>h instanceof gm).length;if(l>1||l>0&&u>0)throw new le(zt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class gm extends pm{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gm(t,e,i)}_apply(t){const e=this._parse(t);return t3(t._query,e),new Xl(t.firestore,t.converter,T0(t._query,e))}_parse(t){const e=hm(t.firestore);return function(a,l,u,h,f,g,v){let w;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Eb(v,g);const T=[];for(const N of v)T.push(Ab(h,a,N));w={arrayValue:{values:T}}}else w=Ab(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Eb(v,g),w=Qw(u,l,v,g==="in"||g==="not-in");return Qi.create(f,g,w)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Pg(n,t,e){const i=t,r=dm("where",n);return gm._create(r,i,e)}class F2 extends V2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new F2(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:lo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,a){let l=r;const u=a.getFlattenedFilters();for(const h of u)t3(l,h),l=T0(l,h)}(t._query,e),new Xl(t.firestore,t.converter,T0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B2 extends pm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new B2(t,e)}_apply(t){const e=function(r,a,l){if(r.startAt!==null)throw new le(zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new le(zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(a,l)}(t._query,this._field,this._direction);return new Xl(t.firestore,t.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Bc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function Ca(n,t="asc"){const e=t,i=dm("orderBy",n);return B2._create(i,e)}class z2 extends pm{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new z2(t,e,i)}_apply(t){return new Xl(t.firestore,t.converter,Tg(t._query,this._limit,this._limitType))}}function Sb(n){return z2._create("limit",n,"F")}class q2 extends pm{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new q2(t,e,i)}_apply(t){const e=O8(t,this.type,this._docOrFields,this._inclusive);return new Xl(t.firestore,t.converter,function(r,a){return new Bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)}(t._query,e))}}function P8(...n){return q2._create("startAfter",n,!1)}function O8(n,t,e,i){if(e[0]=el(e[0]),e[0]instanceof j2)return function(a,l,u,h,f){if(!h)throw new le(zt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const g=[];for(const v of Ih(a))if(v.field.isKeyField())g.push(Eg(l,h.key));else{const w=h.data.field(v.field);if(Jg(w))throw new le(zt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const _=v.field.canonicalString();throw new le(zt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}g.push(w)}return new Yh(g,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=hm(n.firestore);return function(l,u,h,f,g,v){const w=l.explicitOrderBy;if(g.length>w.length)throw new le(zt.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let T=0;T<g.length;T++){const N=g[T];if(w[T].field.isKeyField()){if(typeof N!="string")throw new le(zt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof N}`);if(!p2(l)&&N.indexOf("/")!==-1)throw new le(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${N}' contains a slash.`);const I=l.path.child($n.fromString(N));if(!Se.isDocumentKey(I))throw new le(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const O=new Se(I);_.push(Eg(u,O))}else{const I=Qw(h,f,N);_.push(I)}}return new Yh(_,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Ab(n,t,e){if(typeof(e=el(e))=="string"){if(e==="")throw new le(zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p2(t)&&e.indexOf("/")!==-1)throw new le(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child($n.fromString(e));if(!Se.isDocumentKey(i))throw new le(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Eg(n,new Se(i))}if(e instanceof ur)return Eg(n,e._key);throw new le(zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qg(e)}.`)}function Eb(n,t){if(!Array.isArray(n)||n.length===0)throw new le(zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function t3(n,t){const e=function(r,a){for(const l of r)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new le(zt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new le(zt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class k8{convertValue(t,e="none"){switch(Yu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Oe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ju(t,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertVectorValue(t){const e=t.fields?.[Ag].arrayValue?.values?.map(i=>Vi(i.doubleValue));return new Jo(e)}convertGeoPoint(t){return new Zo(Vi(t.latitude),Vi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=tm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(md(t));default:return null}}convertTimestamp(t){const e=Gu(t);return new Yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=$n.fromString(t);Mn(Sw(i),9688,{name:t});const r=new yd(i.get(1),i.get(3)),a=new Se(i.popFirst(5));return r.isEqual(e)||Gl(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Bp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ph extends j2{constructor(t,e,i,r,a,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(zt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ph._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ph._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ph._jsonSchema={type:$i("string",Ph._jsonSchemaVersion),bundleSource:$i("string","DocumentSnapshot"),bundleName:$i("string"),bundle:$i("string")};class ug extends Ph{data(t={}){return super.data(t)}}class Oh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ug(this._firestore,this._userDataWriter,i.key,i,new Bp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new le(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new ug(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Bp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new ug(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Bp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:V8(u.type),doc:h,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(zt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Oh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=u2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function V8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}Oh._jsonSchemaVersion="firestore/querySnapshot/1.0",Oh._jsonSchema={type:$i("string",Oh._jsonSchemaVersion),bundleSource:$i("string","QuerySnapshot"),bundleName:$i("string"),bundle:$i("string")};class F8 extends k8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Na(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ur(this.firestore,null,e)}}function Rn(n){n=Oc(n,Xl);const t=Oc(n.firestore,Md),e=Yw(t),i=new F8(t);return M8(n._query),w8(e,n._query).then(r=>new Oh(t,i,n,r))}function B8(n,t,e,...i){n=Oc(n,ur);const r=Oc(n.firestore,Md),a=hm(r);let l;return l=typeof(t=el(t))=="string"||t instanceof cm?R8(a,"updateDoc",n._key,t,e,i):L8(a,"updateDoc",n._key,t),U2(r,[l.toMutation(n._key,oo.exists(!0))])}function Od(n){return U2(Oc(n.firestore,Md),[new m2(n._key,oo.none())])}function kd(n,t){const e=Oc(n.firestore,Md),i=jc(n),r=j8(n.converter,t);return U2(e,[C8(hm(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,oo.exists(!1))]).then(()=>i)}function U2(n,t){return function(i,r){const a=new Bu;return i.asyncQueue.enqueueAndForget(async()=>o8(await b8(i),r,a)),a.promise}(Yw(n),t)}(function(t,e=!0){(function(r){Zh=r})(hA),wg(new dd("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new Md(new EA(i.getProvider("auth-internal")),new CA(l,i.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new le(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(f.options.projectId,g)}(l,r),l);return a={useFetchStreams:e,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Dh(Cv,Lv,t),Dh(Cv,Lv,"esm2020")})();var z8="firebase",q8="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dh(z8,q8,"app");const U8={apiKey:"AIzaSyCxoOzU4g8Gge0TgbLVChlXSbFXR6amqCs",authDomain:"hielitosapp.firebaseapp.com",projectId:"hielitosapp",storageBucket:"hielitosapp.firebasestorage.app",messagingSenderId:"921041391216",appId:"1:921041391216:web:6745b928d448396f5eaeb5"},H8=T4(U8),Ue=S8(H8),G8=({setRecetas:n,recargarRecetas:t})=>{const[e,i]=Jt.useState(""),[r,a]=Jt.useState([{nombre:"",cantidad:"",unidadMedida:"",precioUnitario:""}]),[l,u]=Jt.useState(null),h=w=>{const _=w.target.files[0];if(!_)return;const T=new FileReader;T.onloadend=()=>u(T.result),T.readAsDataURL(_)},f=()=>{a([...r,{nombre:"",cantidad:"",unidadMedida:"",precioUnitario:""}])},g=(w,_,T)=>{const N=[...r];N[w][_]=T,a(N)},v=async w=>{w.preventDefault();const _=r.filter(N=>N.nombre.trim()!==""&&!isNaN(parseFloat(N.cantidad))&&!isNaN(parseFloat(N.precioUnitario))&&N.unidadMedida.trim()!=="").map(N=>({nombre:N.nombre.trim(),cantidad:parseFloat(N.cantidad),unidadMedida:N.unidadMedida.trim(),precioUnitario:parseFloat(N.precioUnitario),costoTotal:parseFloat(N.cantidad)*parseFloat(N.precioUnitario)}));if(!e.trim()){alert("Ponle un nombre a la receta");return}if(_.length===0){alert("Agrega al menos un ingrediente vlido");return}if(!l){alert("Sube una imagen para la receta");return}const T={nombre:e.trim(),ingredientes:_,imageBase64:l};try{await kd(sn(Ue,"recetas"),T),alert("Receta agregada exitosamente"),i(""),a([{nombre:"",cantidad:"",unidadMedida:"",precioUnitario:""}]),u(null),t&&await t()}catch(N){console.error("Error al agregar receta:",N),alert("Error al guardar la receta")}};return it.jsxs("form",{onSubmit:v,children:[it.jsx("h2",{children:"Agregar Receta"}),it.jsx("input",{type:"text",placeholder:"Nombre de la receta",value:e,onChange:w=>i(w.target.value),required:!0,style:{width:"100%",marginBottom:"1rem",padding:"0.5rem"}}),it.jsx("input",{type:"file",accept:"image/*",onChange:h,style:{marginBottom:"1rem"}}),r.map((w,_)=>it.jsxs("div",{style:{marginBottom:"1rem"},children:[it.jsx("input",{type:"text",placeholder:"Ingrediente",value:w.nombre,onChange:T=>g(_,"nombre",T.target.value),style:{width:"40%",marginRight:"1%"}}),it.jsx("input",{type:"number",placeholder:"Cantidad",value:w.cantidad,onChange:T=>g(_,"cantidad",T.target.value),step:"any",style:{width:"15%",marginRight:"1%"}}),it.jsx("input",{type:"text",placeholder:"Unidad de medida",value:w.unidadMedida,onChange:T=>g(_,"unidadMedida",T.target.value),style:{width:"20%",marginRight:"1%"}}),it.jsx("input",{type:"number",placeholder:"Precio unitario",value:w.precioUnitario,onChange:T=>g(_,"precioUnitario",T.target.value),step:"any",style:{width:"20%"}})]},_)),it.jsx("button",{type:"button",onClick:f,style:{marginRight:"1rem"},children:"Agregar otro ingrediente"}),it.jsx("button",{type:"submit",children:"Guardar Receta"})]})},Tb=()=>{const[n,t]=Jt.useState([]),[e,i]=Jt.useState(!0),r=async()=>{try{const u=(await Rn(sn(Ue,"recetas"))).docs.map(h=>({id:h.id,...h.data()}));t(u)}catch(l){console.error("Error al obtener recetas:",l)}finally{i(!1)}};Jt.useEffect(()=>{r()},[]);const a=async l=>{if(window.confirm("Ests seguro de que deseas eliminar esta receta?"))try{await Od(jc(Ue,"recetas",l)),t(h=>h.filter(f=>f.id!==l))}catch(h){console.error("Error al eliminar la receta:",h)}};return e?it.jsx("p",{children:"Cargando recetas..."}):it.jsxs("div",{children:[it.jsx("h2",{children:"Lista de Recetas"}),n.length===0?it.jsx("p",{children:"No hay recetas an."}):n.map(l=>{const u=l.ingredientes?.reduce((h,f)=>h+(f.costoTotal||0),0)||0;return it.jsxs("div",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"15px"},children:[it.jsx("h3",{children:l.nombre}),l.imageBase64&&it.jsx("img",{src:l.imageBase64,alt:`Imagen de ${l.nombre}`,style:{width:"200px",height:"auto",marginBottom:"10px"}}),it.jsx("ul",{children:l.ingredientes?.map((h,f)=>it.jsxs("li",{children:[h.nombre," - ",h.cantidad," ",h.unidadMedida," - Precio unitario: $",h.precioUnitario.toFixed(2)," - Costo total: $",h.costoTotal.toFixed(2)]},f))}),it.jsxs("p",{style:{fontWeight:"bold",marginTop:"10px"},children:["Costo total de la receta: $",u.toFixed(2)]}),it.jsx("button",{onClick:()=>a(l.id),children:"Eliminar"})]},l.id)})]})},W8="modulepreload",Y8=function(n){return"/hielitos-app/"+n},Nb={},j0=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let h=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=h(e.map(f=>{if(f=Y8(f),f in Nb)return;Nb[f]=!0;const g=f.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":W8,g||(w.as="script"),w.crossOrigin="",w.href=f,u&&w.setAttribute("nonce",u),document.head.appendChild(w),g)return new Promise((_,T)=>{w.addEventListener("load",_),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})};function Fn(n){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(n)}var ns=Uint8Array,na=Uint16Array,H2=Int32Array,mm=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ym=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V0=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e3=function(n,t){for(var e=new na(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new H2(e[30]),i=1;i<30;++i)for(var a=e[i];a<e[i+1];++a)r[a]=a-e[i]<<5|i;return{b:e,r}},n3=e3(mm,2),i3=n3.b,F0=n3.r;i3[28]=258,F0[258]=28;var r3=e3(ym,0),X8=r3.b,Cb=r3.r,B0=new na(32768);for(var si=0;si<32768;++si){var Du=(si&43690)>>1|(si&21845)<<1;Du=(Du&52428)>>2|(Du&13107)<<2,Du=(Du&61680)>>4|(Du&3855)<<4,B0[si]=((Du&65280)>>8|(Du&255)<<8)>>1}var tl=function(n,t,e){for(var i=n.length,r=0,a=new na(t);r<i;++r)n[r]&&++a[n[r]-1];var l=new na(t);for(r=1;r<t;++r)l[r]=l[r-1]+a[r-1]<<1;var u;if(e){u=new na(1<<t);var h=15-t;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],g=t-n[r],v=l[n[r]-1]++<<g,w=v|(1<<g)-1;v<=w;++v)u[B0[v]>>h]=f}else for(u=new na(i),r=0;r<i;++r)n[r]&&(u[r]=B0[l[n[r]-1]++]>>15-n[r]);return u},Qu=new ns(288);for(var si=0;si<144;++si)Qu[si]=8;for(var si=144;si<256;++si)Qu[si]=9;for(var si=256;si<280;++si)Qu[si]=7;for(var si=280;si<288;++si)Qu[si]=8;var xd=new ns(32);for(var si=0;si<32;++si)xd[si]=5;var K8=tl(Qu,9,0),Q8=tl(Qu,9,1),$8=tl(xd,5,0),Z8=tl(xd,5,1),H1=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},ro=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},G1=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},G2=function(n){return(n+7)/8|0},s3=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new ns(n.subarray(t,e))},J8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ao=function(n,t,e){var i=new Error(t||J8[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,ao),!e)throw i;return i},t7=function(n,t,e,i){var r=n.length,a=0;if(!r||t.f&&!t.l)return e||new ns(0);var l=!e,u=l||t.i!=2,h=t.i;l&&(e=new ns(r*3));var f=function(Qt){var ie=e.length;if(Qt>ie){var ee=new ns(Math.max(ie*2,Qt));ee.set(e),e=ee}},g=t.f||0,v=t.p||0,w=t.b||0,_=t.l,T=t.d,N=t.m,I=t.n,O=r*8;do{if(!_){g=ro(n,v,1);var q=ro(n,v+1,3);if(v+=3,q)if(q==1)_=Q8,T=Z8,N=9,I=5;else if(q==2){var ut=ro(n,v,31)+257,F=ro(n,v+10,15)+4,C=ut+ro(n,v+5,31)+1;v+=14;for(var k=new ns(C),U=new ns(19),R=0;R<F;++R)U[V0[R]]=ro(n,v+R*3,7);v+=F*3;for(var L=H1(U),M=(1<<L)-1,nt=tl(U,L,1),R=0;R<C;){var pt=nt[ro(n,v,M)];v+=pt&15;var J=pt>>4;if(J<16)k[R++]=J;else{var et=0,ht=0;for(J==16?(ht=3+ro(n,v,3),v+=2,et=k[R-1]):J==17?(ht=3+ro(n,v,7),v+=3):J==18&&(ht=11+ro(n,v,127),v+=7);ht--;)k[R++]=et}}var lt=k.subarray(0,ut),_t=k.subarray(ut);N=H1(lt),I=H1(_t),_=tl(lt,N,1),T=tl(_t,I,1)}else ao(1);else{var J=G2(v)+4,ot=n[J-4]|n[J-3]<<8,$=J+ot;if($>r){h&&ao(0);break}u&&f(w+ot),e.set(n.subarray(J,$),w),t.b=w+=ot,t.p=v=$*8,t.f=g;continue}if(v>O){h&&ao(0);break}}u&&f(w+131072);for(var Q=(1<<N)-1,vt=(1<<I)-1,j=v;;j=v){var et=_[G1(n,v)&Q],W=et>>4;if(v+=et&15,v>O){h&&ao(0);break}if(et||ao(2),W<256)e[w++]=W;else if(W==256){j=v,_=null;break}else{var tt=W-254;if(W>264){var R=W-257,at=mm[R];tt=ro(n,v,(1<<at)-1)+i3[R],v+=at}var ft=T[G1(n,v)&vt],Tt=ft>>4;ft||ao(3),v+=ft&15;var _t=X8[Tt];if(Tt>3){var at=ym[Tt];_t+=G1(n,v)&(1<<at)-1,v+=at}if(v>O){h&&ao(0);break}u&&f(w+131072);var Nt=w+tt;if(w<_t){var Mt=a-_t,Zt=Math.min(_t,Nt);for(Mt+w<0&&ao(3);w<Zt;++w)e[w]=i[Mt+w]}for(;w<Nt;++w)e[w]=e[w-_t]}}t.l=_,t.p=j,t.b=w,t.f=g,_&&(g=1,t.m=N,t.d=T,t.n=I)}while(!g);return w!=e.length&&l?s3(e,0,w):e.subarray(0,w)},kl=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Gf=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},W1=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,a=e.slice();if(!r)return{t:o3,l:0};if(r==1){var l=new ns(e[0].s+1);return l[e[0].s]=1,{t:l,l:1}}e.sort(function($,ut){return $.f-ut.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],f=0,g=1,v=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};g!=r-1;)u=e[e[f].f<e[v].f?f++:v++],h=e[f!=g&&e[f].f<e[v].f?f++:v++],e[g++]={s:-1,f:u.f+h.f,l:u,r:h};for(var w=a[0].s,i=1;i<r;++i)a[i].s>w&&(w=a[i].s);var _=new na(w+1),T=z0(e[g-1],_,0);if(T>t){var i=0,N=0,I=T-t,O=1<<I;for(a.sort(function(ut,F){return _[F.s]-_[ut.s]||ut.f-F.f});i<r;++i){var q=a[i].s;if(_[q]>t)N+=O-(1<<T-_[q]),_[q]=t;else break}for(N>>=I;N>0;){var J=a[i].s;_[J]<t?N-=1<<t-_[J]++-1:++i}for(;i>=0&&N;--i){var ot=a[i].s;_[ot]==t&&(--_[ot],++N)}T=t}return{t:new ns(_),l:T}},z0=function(n,t,e){return n.s==-1?Math.max(z0(n.l,t,e+1),z0(n.r,t,e+1)):t[n.s]=e},Lb=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new na(++t),i=0,r=n[0],a=1,l=function(h){e[i++]=h},u=1;u<=t;++u)if(n[u]==r&&u!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(r),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(r);a=1,r=n[u]}return{c:e.subarray(0,i),n:t}},Wf=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},a3=function(n,t,e){var i=e.length,r=G2(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var a=0;a<i;++a)n[r+a+4]=e[a];return(r+4+i)*8},Rb=function(n,t,e,i,r,a,l,u,h,f,g){kl(t,g++,e),++r[256];for(var v=W1(r,15),w=v.t,_=v.l,T=W1(a,15),N=T.t,I=T.l,O=Lb(w),q=O.c,J=O.n,ot=Lb(N),$=ot.c,ut=ot.n,F=new na(19),C=0;C<q.length;++C)++F[q[C]&31];for(var C=0;C<$.length;++C)++F[$[C]&31];for(var k=W1(F,7),U=k.t,R=k.l,L=19;L>4&&!U[V0[L-1]];--L);var M=f+5<<3,nt=Wf(r,Qu)+Wf(a,xd)+l,pt=Wf(r,w)+Wf(a,N)+l+14+3*L+Wf(F,U)+2*F[16]+3*F[17]+7*F[18];if(h>=0&&M<=nt&&M<=pt)return a3(t,g,n.subarray(h,h+f));var et,ht,lt,_t;if(kl(t,g,1+(pt<nt)),g+=2,pt<nt){et=tl(w,_,0),ht=w,lt=tl(N,I,0),_t=N;var Q=tl(U,R,0);kl(t,g,J-257),kl(t,g+5,ut-1),kl(t,g+10,L-4),g+=14;for(var C=0;C<L;++C)kl(t,g+3*C,U[V0[C]]);g+=3*L;for(var vt=[q,$],j=0;j<2;++j)for(var W=vt[j],C=0;C<W.length;++C){var tt=W[C]&31;kl(t,g,Q[tt]),g+=U[tt],tt>15&&(kl(t,g,W[C]>>5&127),g+=W[C]>>12)}}else et=K8,ht=Qu,lt=$8,_t=xd;for(var C=0;C<u;++C){var at=i[C];if(at>255){var tt=at>>18&31;Gf(t,g,et[tt+257]),g+=ht[tt+257],tt>7&&(kl(t,g,at>>23&31),g+=mm[tt]);var ft=at&31;Gf(t,g,lt[ft]),g+=_t[ft],ft>3&&(Gf(t,g,at>>5&8191),g+=ym[ft])}else Gf(t,g,et[at]),g+=ht[at]}return Gf(t,g,et[256]),g+ht[256]},e7=new H2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),o3=new ns(0),n7=function(n,t,e,i,r,a){var l=a.z||n.length,u=new ns(i+l+5*(1+Math.ceil(l/7e3))+r),h=u.subarray(i,u.length-r),f=a.l,g=(a.r||0)&7;if(t){g&&(h[0]=a.r>>3);for(var v=e7[t-1],w=v>>13,_=v&8191,T=(1<<e)-1,N=a.p||new na(32768),I=a.h||new na(T+1),O=Math.ceil(e/3),q=2*O,J=function(we){return(n[we]^n[we+1]<<O^n[we+2]<<q)&T},ot=new H2(25e3),$=new na(288),ut=new na(32),F=0,C=0,k=a.i||0,U=0,R=a.w||0,L=0;k+2<l;++k){var M=J(k),nt=k&32767,pt=I[M];if(N[nt]=pt,I[M]=nt,R<=k){var et=l-k;if((F>7e3||U>24576)&&(et>423||!f)){g=Rb(n,h,0,ot,$,ut,C,U,L,k-L,g),U=F=C=0,L=k;for(var ht=0;ht<286;++ht)$[ht]=0;for(var ht=0;ht<30;++ht)ut[ht]=0}var lt=2,_t=0,Q=_,vt=nt-pt&32767;if(et>2&&M==J(k-vt))for(var j=Math.min(w,et)-1,W=Math.min(32767,k),tt=Math.min(258,et);vt<=W&&--Q&&nt!=pt;){if(n[k+lt]==n[k+lt-vt]){for(var at=0;at<tt&&n[k+at]==n[k+at-vt];++at);if(at>lt){if(lt=at,_t=vt,at>j)break;for(var ft=Math.min(vt,at-2),Tt=0,ht=0;ht<ft;++ht){var Nt=k-vt+ht&32767,Mt=N[Nt],Zt=Nt-Mt&32767;Zt>Tt&&(Tt=Zt,pt=Nt)}}}nt=pt,pt=N[nt],vt+=nt-pt&32767}if(_t){ot[U++]=268435456|F0[lt]<<18|Cb[_t];var Qt=F0[lt]&31,ie=Cb[_t]&31;C+=mm[Qt]+ym[ie],++$[257+Qt],++ut[ie],R=k+lt,++F}else ot[U++]=n[k],++$[n[k]]}}for(k=Math.max(k,R);k<l;++k)ot[U++]=n[k],++$[n[k]];g=Rb(n,h,f,ot,$,ut,C,U,L,k-L,g),f||(a.r=g&7|h[g/8|0]<<3,g-=7,a.h=I,a.p=N,a.i=k,a.w=R)}else{for(var k=a.w||0;k<l+f;k+=65535){var ee=k+65535;ee>=l&&(h[g/8|0]=f,ee=l),g=a3(h,g+1,n.subarray(k,ee))}a.i=l}return s3(u,0,i+G2(g)+r)},l3=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,a=e.length|0,l=0;l!=a;){for(var u=Math.min(l+2655,a);l<u;++l)r+=i+=e[l];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},i7=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new ns(a.length+n.length);l.set(a),l.set(n,a.length),n=l,r.w=a.length}return n7(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)},u3=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},r7=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=l3();r.p(t.dictionary),u3(n,2,r.d())}},s7=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ao(6,"invalid zlib data"),(n[1]>>5&1)==1&&ao(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function q0(n,t){t||(t={});var e=l3();e.p(n);var i=i7(n,t,t.dictionary?6:2,4);return r7(i,t),u3(i,i.length-4,e.d()),i}function a7(n,t){return t7(n.subarray(s7(n),-4),{i:2},t,t)}var o7=typeof TextDecoder<"u"&&new TextDecoder,l7=0;try{o7.decode(o3,{stream:!0}),l7=1}catch{}var Pe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Y1(){Pe.console&&typeof Pe.console.log=="function"&&Pe.console.log.apply(Pe.console,arguments)}var Qn={log:Y1,warn:function(n){Pe.console&&(typeof Pe.console.warn=="function"?Pe.console.warn.apply(Pe.console,arguments):Y1.call(null,arguments))},error:function(n){Pe.console&&(typeof Pe.console.error=="function"?Pe.console.error.apply(Pe.console,arguments):Y1(n))}};function X1(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Nc(i.response,t,e)},i.onerror=function(){Qn.error("could not download file")},i.send()}function Db(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function zp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var ld,U0,Nc=Pe.saveAs||((typeof window>"u"?"undefined":Fn(window))!=="object"||window!==Pe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Pe.URL||Pe.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?Db(r.href)?X1(n,t,e):zp(r,r.target="_blank"):zp(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){zp(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Db(n))X1(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){zp(i)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:Fn(a)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return X1(n,t,e);var r=n.type==="application/octet-stream",a=/constructor/i.test(Pe.HTMLElement)||Pe.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a)&&(typeof FileReader>"u"?"undefined":Fn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},u.readAsDataURL(n)}else{var h=Pe.URL||Pe.webkitURL,f=h.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function c3(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,a=e[i].process,l=r.exec(n);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+u+h+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function K1(n,t){var e=n[0],i=n[1],r=n[2],a=n[3];e=Kr(e,i,r,a,t[0],7,-680876936),a=Kr(a,e,i,r,t[1],12,-389564586),r=Kr(r,a,e,i,t[2],17,606105819),i=Kr(i,r,a,e,t[3],22,-1044525330),e=Kr(e,i,r,a,t[4],7,-176418897),a=Kr(a,e,i,r,t[5],12,1200080426),r=Kr(r,a,e,i,t[6],17,-1473231341),i=Kr(i,r,a,e,t[7],22,-45705983),e=Kr(e,i,r,a,t[8],7,1770035416),a=Kr(a,e,i,r,t[9],12,-1958414417),r=Kr(r,a,e,i,t[10],17,-42063),i=Kr(i,r,a,e,t[11],22,-1990404162),e=Kr(e,i,r,a,t[12],7,1804603682),a=Kr(a,e,i,r,t[13],12,-40341101),r=Kr(r,a,e,i,t[14],17,-1502002290),e=Qr(e,i=Kr(i,r,a,e,t[15],22,1236535329),r,a,t[1],5,-165796510),a=Qr(a,e,i,r,t[6],9,-1069501632),r=Qr(r,a,e,i,t[11],14,643717713),i=Qr(i,r,a,e,t[0],20,-373897302),e=Qr(e,i,r,a,t[5],5,-701558691),a=Qr(a,e,i,r,t[10],9,38016083),r=Qr(r,a,e,i,t[15],14,-660478335),i=Qr(i,r,a,e,t[4],20,-405537848),e=Qr(e,i,r,a,t[9],5,568446438),a=Qr(a,e,i,r,t[14],9,-1019803690),r=Qr(r,a,e,i,t[3],14,-187363961),i=Qr(i,r,a,e,t[8],20,1163531501),e=Qr(e,i,r,a,t[13],5,-1444681467),a=Qr(a,e,i,r,t[2],9,-51403784),r=Qr(r,a,e,i,t[7],14,1735328473),e=$r(e,i=Qr(i,r,a,e,t[12],20,-1926607734),r,a,t[5],4,-378558),a=$r(a,e,i,r,t[8],11,-2022574463),r=$r(r,a,e,i,t[11],16,1839030562),i=$r(i,r,a,e,t[14],23,-35309556),e=$r(e,i,r,a,t[1],4,-1530992060),a=$r(a,e,i,r,t[4],11,1272893353),r=$r(r,a,e,i,t[7],16,-155497632),i=$r(i,r,a,e,t[10],23,-1094730640),e=$r(e,i,r,a,t[13],4,681279174),a=$r(a,e,i,r,t[0],11,-358537222),r=$r(r,a,e,i,t[3],16,-722521979),i=$r(i,r,a,e,t[6],23,76029189),e=$r(e,i,r,a,t[9],4,-640364487),a=$r(a,e,i,r,t[12],11,-421815835),r=$r(r,a,e,i,t[15],16,530742520),e=Zr(e,i=$r(i,r,a,e,t[2],23,-995338651),r,a,t[0],6,-198630844),a=Zr(a,e,i,r,t[7],10,1126891415),r=Zr(r,a,e,i,t[14],15,-1416354905),i=Zr(i,r,a,e,t[5],21,-57434055),e=Zr(e,i,r,a,t[12],6,1700485571),a=Zr(a,e,i,r,t[3],10,-1894986606),r=Zr(r,a,e,i,t[10],15,-1051523),i=Zr(i,r,a,e,t[1],21,-2054922799),e=Zr(e,i,r,a,t[8],6,1873313359),a=Zr(a,e,i,r,t[15],10,-30611744),r=Zr(r,a,e,i,t[6],15,-1560198380),i=Zr(i,r,a,e,t[13],21,1309151649),e=Zr(e,i,r,a,t[4],6,-145523070),a=Zr(a,e,i,r,t[11],10,-1120210379),r=Zr(r,a,e,i,t[2],15,718787259),i=Zr(i,r,a,e,t[9],21,-343485551),n[0]=Pu(e,n[0]),n[1]=Pu(i,n[1]),n[2]=Pu(r,n[2]),n[3]=Pu(a,n[3])}function vm(n,t,e,i,r,a){return t=Pu(Pu(t,n),Pu(i,a)),Pu(t<<r|t>>>32-r,e)}function Kr(n,t,e,i,r,a,l){return vm(t&e|~t&i,n,t,r,a,l)}function Qr(n,t,e,i,r,a,l){return vm(t&i|e&~i,n,t,r,a,l)}function $r(n,t,e,i,r,a,l){return vm(t^e^i,n,t,r,a,l)}function Zr(n,t,e,i,r,a,l){return vm(e^(t|~i),n,t,r,a,l)}function h3(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)K1(i,u7(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(K1(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,K1(i,r),i}function u7(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}ld=Pe.atob.bind(Pe),U0=Pe.btoa.bind(Pe);var Ib="0123456789abcdef".split("");function c7(n){for(var t="",e=0;e<4;e++)t+=Ib[n>>8*e+4&15]+Ib[n>>8*e&15];return t}function h7(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function H0(n){return h3(n).map(h7).join("")}var f7=function(n){for(var t=0;t<n.length;t++)n[t]=c7(n[t]);return n.join("")}(h3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pu(n,t){if(f7){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function G0(n,t){var e,i,r,a;if(n!==e){for(var l=(r=n,a=1+(256/n.length>>0),new Array(a+1).join(r)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var g=u[h];f=(f+g+l.charCodeAt(h))%256,u[h]=u[f],u[f]=g}e=n,i=u}else u=i;var v=t.length,w=0,_=0,T="";for(h=0;h<v;h++)_=(_+(g=u[w=(w+1)%256]))%256,u[w]=u[_],u[_]=g,l=u[(u[w]+u[_])%256],T+=String.fromCharCode(t.charCodeAt(h)^l);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mb={print:4,modify:8,copy:16,"annot-forms":32};function Ch(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(Mb.perm!==void 0)throw new Error("Invalid permission: "+u);r+=Mb[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^r)),this.encryptionKey=H0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=G0(this.encryptionKey,this.padding)}function Lh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function Pb(n){if(Fn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[i,!!r],a},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[e]){var l=t[e][a];try{l[0].apply(n,i)}catch(u){Pe.console&&Qn.error("jsPDF PubSub Error",u.message,u)}l[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Og(n){if(!(this instanceof Og))return new Og(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function f3(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Lc(n,t,e,i,r){if(!(this instanceof Lc))return new Lc(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,f3.call(this,i,r)}function Rh(n,t,e,i,r){if(!(this instanceof Rh))return new Rh(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,f3.call(this,i,r)}function Re(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],l=[],u=1,h=16,f="S",g=null;Fn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,a=n.compress||n.compressPdf||a,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),i=i||"mm",e=(""+(e||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,w={},_={internal:{},__private__:{}};_.__private__.PubSub=Pb;var T="1.3",N=_.__private__.getPdfVersion=function(){return T};_.__private__.setPdfVersion=function(S){T=S};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return I};var O=_.__private__.getPageFormat=function(S){return I[S]};r=r||"a4";var q={COMPAT:"compat",ADVANCED:"advanced"},J=q.COMPAT;function ot(){this.saveGraphicsState(),ct(new ce(ue,0,0,-ue,0,yr()*ue).toString()+" cm"),this.setFontSize(this.getFontSize()/ue),f="n",J=q.ADVANCED}function $(){this.restoreGraphicsState(),f="S",J=q.COMPAT}var ut=_.__private__.combineFontStyleAndFontWeight=function(S,z){if(S=="bold"&&z=="normal"||S=="bold"&&z==400||S=="normal"&&z=="italic"||S=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(S=z==400||z==="normal"?S==="italic"?"italic":"normal":z!=700&&z!=="bold"||S!=="normal"?(z==700?"bold":z)+""+S:"bold"),S};_.advancedAPI=function(S){var z=J===q.COMPAT;return z&&ot.call(this),typeof S!="function"||(S(this),z&&$.call(this)),this},_.compatAPI=function(S){var z=J===q.ADVANCED;return z&&$.call(this),typeof S!="function"||(S(this),z&&ot.call(this)),this},_.isAdvancedAPI=function(){return J===q.ADVANCED};var F,C=function(S){if(J!==q.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=_.roundToPrecision=_.__private__.roundToPrecision=function(S,z){var st=t||z;if(isNaN(S)||isNaN(st))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(st).replace(/0+$/,"")};F=_.hpf=_.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return k(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return k(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return k(S,16)};var U=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return k(S,2)},R=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return k(S,3)},L=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return J===q.COMPAT?S*ue:J===q.ADVANCED?S:void 0},M=function(S){return J===q.COMPAT?yr()-S:J===q.ADVANCED?S:void 0},nt=function(S){return L(M(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var pt,et="00000000000000000000000000000000",ht=_.__private__.getFileId=function(){return et},lt=_.__private__.setFileId=function(S){return et=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():et.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Pn=new Ch(g.userPermissions,g.userPassword,g.ownerPassword,et)),et};_.setFileId=function(S){return lt(S),this},_.getFileId=function(){return ht()};var _t=_.__private__.convertDateToPDFDate=function(S){var z=S.getTimezoneOffset(),st=z<0?"+":"-",gt=Math.floor(Math.abs(z/60)),St=Math.abs(z%60),jt=[st,tt(gt),"'",tt(St),"'"].join("");return["D:",S.getFullYear(),tt(S.getMonth()+1),tt(S.getDate()),tt(S.getHours()),tt(S.getMinutes()),tt(S.getSeconds()),jt].join("")},Q=_.__private__.convertPDFDateToDate=function(S){var z=parseInt(S.substr(2,4),10),st=parseInt(S.substr(6,2),10)-1,gt=parseInt(S.substr(8,2),10),St=parseInt(S.substr(10,2),10),jt=parseInt(S.substr(12,2),10),Xt=parseInt(S.substr(14,2),10);return new Date(z,st,gt,St,jt,Xt,0)},vt=_.__private__.setCreationDate=function(S){var z;if(S===void 0&&(S=new Date),S instanceof Date)z=_t(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=S}return pt=z},j=_.__private__.getCreationDate=function(S){var z=pt;return S==="jsDate"&&(z=Q(pt)),z};_.setCreationDate=function(S){return vt(S),this},_.getCreationDate=function(S){return j(S)};var W,tt=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},at=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ft=0,Tt=[],Nt=[],Mt=0,Zt=[],Qt=[],ie=!1,ee=Nt,we=function(){ft=0,Mt=0,Nt=[],Tt=[],Zt=[],Ar=li(),Ui=li()};_.__private__.setCustomOutputDestination=function(S){ie=!0,ee=S};var Vt=function(S){ie||(ee=S)};_.__private__.resetCustomOutputDestination=function(){ie=!1,ee=Nt};var ct=_.__private__.out=function(S){return S=S.toString(),Mt+=S.length+1,ee.push(S),ee},Ae=_.__private__.write=function(S){return ct(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},de=_.__private__.getArrayBuffer=function(S){for(var z=S.length,st=new ArrayBuffer(z),gt=new Uint8Array(st);z--;)gt[z]=S.charCodeAt(z);return st},$t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return $t};var te=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return te=J===q.ADVANCED?S/ue:S,this};var ae,oe=_.__private__.getFontSize=_.getFontSize=function(){return J===q.COMPAT?te:te*ue},ve=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return ve=S,this},_.__private__.getR2L=_.getR2L=function(){return ve};var De,je=_.__private__.setZoomMode=function(S){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))ae=S;else if(isNaN(S)){if(z.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');ae=S}else ae=parseInt(S,10)};_.__private__.getZoomMode=function(){return ae};var be,ye=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');De=S};_.__private__.getPageMode=function(){return De};var He=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');be=S};_.__private__.getLayoutMode=function(){return be},_.__private__.setDisplayMode=_.setDisplayMode=function(S,z,st){return je(S),He(z),ye(st),this};var pe={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(pe).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pe[S]},_.__private__.getDocumentProperties=function(){return pe},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var z in pe)pe.hasOwnProperty(z)&&S[z]&&(pe[z]=S[z]);return this},_.__private__.setDocumentProperty=function(S,z){if(Object.keys(pe).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pe[S]=z};var Ge,ue,ai,Xe,Ji,Qe={},Nn={},fr=[],an={},Ms={},Bn={},Ci={},tr=null,zn=0,Ee=[],on=new Pb(_),Or=n.hotfixes||[],oi={},er={},rs=[],ce=function S(z,st,gt,St,jt,Xt){if(!(this instanceof S))return new S(z,st,gt,St,jt,Xt);isNaN(z)&&(z=1),isNaN(st)&&(st=0),isNaN(gt)&&(gt=0),isNaN(St)&&(St=1),isNaN(jt)&&(jt=0),isNaN(Xt)&&(Xt=0),this._matrix=[z,st,gt,St,jt,Xt]};Object.defineProperty(ce.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ce.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ce.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ce.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ce.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ce.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ce.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ce.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ce.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ce.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ce.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ce.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ce.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ce.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ce.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ce.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ce.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(S)},ce.prototype.multiply=function(S){var z=S.sx*this.sx+S.shy*this.shx,st=S.sx*this.shy+S.shy*this.sy,gt=S.shx*this.sx+S.sy*this.shx,St=S.shx*this.shy+S.sy*this.sy,jt=S.tx*this.sx+S.ty*this.shx+this.tx,Xt=S.tx*this.shy+S.ty*this.sy+this.ty;return new ce(z,st,gt,St,jt,Xt)},ce.prototype.decompose=function(){var S=this.sx,z=this.shy,st=this.shx,gt=this.sy,St=this.tx,jt=this.ty,Xt=Math.sqrt(S*S+z*z),re=(S/=Xt)*st+(z/=Xt)*gt;st-=S*re,gt-=z*re;var m=Math.sqrt(st*st+gt*gt);return re/=m,S*(gt/=m)<z*(st/=m)&&(S=-S,z=-z,re=-re,Xt=-Xt),{scale:new ce(Xt,0,0,m,0,0),translate:new ce(1,0,0,1,St,jt),rotate:new ce(S,z,-z,S,0,0),skew:new ce(1,0,re,1,0,0)}},ce.prototype.toString=function(S){return this.join(" ")},ce.prototype.inversed=function(){var S=this.sx,z=this.shy,st=this.shx,gt=this.sy,St=this.tx,jt=this.ty,Xt=1/(S*gt-z*st),re=gt*Xt,m=-z*Xt,E=-st*Xt,P=S*Xt;return new ce(re,m,E,P,-re*St-E*jt,-m*St-P*jt)},ce.prototype.applyToPoint=function(S){var z=S.x*this.sx+S.y*this.shx+this.tx,st=S.x*this.shy+S.y*this.sy+this.ty;return new Fa(z,st)},ce.prototype.applyToRectangle=function(S){var z=this.applyToPoint(S),st=this.applyToPoint(new Fa(S.x+S.w,S.y+S.h));return new vo(z.x,z.y,st.x-z.x,st.y-z.y)},ce.prototype.clone=function(){var S=this.sx,z=this.shy,st=this.shx,gt=this.sy,St=this.tx,jt=this.ty;return new ce(S,z,st,gt,St,jt)},_.Matrix=ce;var Cn=_.matrixMult=function(S,z){return z.multiply(S)},Ln=new ce(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Ln;var Xn=function(S,z){if(!Ms[S]){var st=(z instanceof Lc?"Sh":"P")+(Object.keys(an).length+1).toString(10);z.id=st,Ms[S]=st,an[st]=z,on.publish("addPattern",z)}};_.ShadingPattern=Lc,_.TilingPattern=Rh,_.addShadingPattern=function(S,z){return C("addShadingPattern()"),Xn(S,z),this},_.beginTilingPattern=function(S){C("beginTilingPattern()"),fa(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,z){C("endTilingPattern()"),z.stream=Qt[W].join(`
`),Xn(S,z),on.publish("endTilingPattern",z),rs.pop().restore()};var ni=_.__private__.newObject=function(){var S=li();return bi(S,!0),S},li=_.__private__.newObjectDeferred=function(){return ft++,Tt[ft]=function(){return Mt},ft},bi=function(S,z){return z=typeof z=="boolean"&&z,Tt[S]=Mt,z&&ct(S+" 0 obj"),S},Ia=_.__private__.newAdditionalObject=function(){var S={objId:li(),content:""};return Zt.push(S),S},Ar=li(),Ui=li(),Li=_.__private__.decodeColorString=function(S){var z=S.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var st=parseFloat(z[0]);z=[st,st,st,"r"]}for(var gt="#",St=0;St<3;St++)gt+=("0"+Math.floor(255*parseFloat(z[St])).toString(16)).slice(-2);return gt},_i=_.__private__.encodeColorString=function(S){var z;typeof S=="string"&&(S={ch1:S});var st=S.ch1,gt=S.ch2,St=S.ch3,jt=S.ch4,Xt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof st=="string"&&st.charAt(0)!=="#"){var re=new c3(st);if(re.ok)st=re.toHex();else if(!/^\d*\.?\d*$/.test(st))throw new Error('Invalid color "'+st+'" passed to jsPDF.encodeColorString.')}if(typeof st=="string"&&/^#[0-9A-Fa-f]{3}$/.test(st)&&(st="#"+st[1]+st[1]+st[2]+st[2]+st[3]+st[3]),typeof st=="string"&&/^#[0-9A-Fa-f]{6}$/.test(st)){var m=parseInt(st.substr(1),16);st=m>>16&255,gt=m>>8&255,St=255&m}if(gt===void 0||jt===void 0&&st===gt&&gt===St)if(typeof st=="string")z=st+" "+Xt[0];else switch(S.precision){case 2:z=U(st/255)+" "+Xt[0];break;case 3:default:z=R(st/255)+" "+Xt[0]}else if(jt===void 0||Fn(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return z=["1.","1.","1.",Xt[1]].join(" ");if(typeof st=="string")z=[st,gt,St,Xt[1]].join(" ");else switch(S.precision){case 2:z=[U(st/255),U(gt/255),U(St/255),Xt[1]].join(" ");break;default:case 3:z=[R(st/255),R(gt/255),R(St/255),Xt[1]].join(" ")}}else if(typeof st=="string")z=[st,gt,St,jt,Xt[2]].join(" ");else switch(S.precision){case 2:z=[U(st),U(gt),U(St),U(jt),Xt[2]].join(" ");break;case 3:default:z=[R(st),R(gt),R(St),R(jt),Xt[2]].join(" ")}return z},Ri=_.__private__.getFilters=function(){return l},qn=_.__private__.putStream=function(S){var z=(S=S||{}).data||"",st=S.filters||Ri(),gt=S.alreadyAppliedFilters||[],St=S.addLength1||!1,jt=z.length,Xt=S.objectId,re=function(Ce){return Ce};if(g!==null&&Xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(re=Pn.encryptor(Xt,0));var m={};st===!0&&(st=["FlateEncode"]);var E=S.additionalKeyValues||[],P=(m=Re.API.processDataByFilters!==void 0?Re.API.processDataByFilters(z,st):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(gt)?gt.join(" "):gt.toString());if(m.data.length!==0&&(E.push({key:"Length",value:m.data.length}),St===!0&&E.push({key:"Length1",value:jt})),P.length!=0)if(P.split("/").length-1==1)E.push({key:"Filter",value:P});else{E.push({key:"Filter",value:"["+P+"]"});for(var X=0;X<E.length;X+=1)if(E[X].key==="DecodeParms"){for(var xt=[],Dt=0;Dt<m.reverseChain.split("/").length-1;Dt+=1)xt.push("null");xt.push(E[X].value),E[X].value="["+xt.join(" ")+"]"}}ct("<<");for(var Kt=0;Kt<E.length;Kt++)ct("/"+E[Kt].key+" "+E[Kt].value);ct(">>"),m.data.length!==0&&(ct("stream"),ct(re(m.data)),ct("endstream"))},_n=_.__private__.putPage=function(S){var z=S.number,st=S.data,gt=S.objId,St=S.contentsObjId;bi(gt,!0),ct("<</Type /Page"),ct("/Parent "+S.rootDictionaryObjId+" 0 R"),ct("/Resources "+S.resourceDictionaryObjId+" 0 R"),ct("/MediaBox ["+parseFloat(F(S.mediaBox.bottomLeftX))+" "+parseFloat(F(S.mediaBox.bottomLeftY))+" "+F(S.mediaBox.topRightX)+" "+F(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ct("/CropBox ["+F(S.cropBox.bottomLeftX)+" "+F(S.cropBox.bottomLeftY)+" "+F(S.cropBox.topRightX)+" "+F(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ct("/BleedBox ["+F(S.bleedBox.bottomLeftX)+" "+F(S.bleedBox.bottomLeftY)+" "+F(S.bleedBox.topRightX)+" "+F(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ct("/TrimBox ["+F(S.trimBox.bottomLeftX)+" "+F(S.trimBox.bottomLeftY)+" "+F(S.trimBox.topRightX)+" "+F(S.trimBox.topRightY)+"]"),S.artBox!==null&&ct("/ArtBox ["+F(S.artBox.bottomLeftX)+" "+F(S.artBox.bottomLeftY)+" "+F(S.artBox.topRightX)+" "+F(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ct("/UserUnit "+S.userUnit),on.publish("putPage",{objId:gt,pageContext:Ee[z],pageNumber:z,page:st}),ct("/Contents "+St+" 0 R"),ct(">>"),ct("endobj");var jt=st.join(`
`);return J===q.ADVANCED&&(jt+=`
Q`),bi(St,!0),qn({data:jt,filters:Ri(),objectId:St}),ct("endobj"),gt},Ps=_.__private__.putPages=function(){var S,z,st=[];for(S=1;S<=zn;S++)Ee[S].objId=li(),Ee[S].contentsObjId=li();for(S=1;S<=zn;S++)st.push(_n({number:S,data:Qt[S],objId:Ee[S].objId,contentsObjId:Ee[S].contentsObjId,mediaBox:Ee[S].mediaBox,cropBox:Ee[S].cropBox,bleedBox:Ee[S].bleedBox,trimBox:Ee[S].trimBox,artBox:Ee[S].artBox,userUnit:Ee[S].userUnit,rootDictionaryObjId:Ar,resourceDictionaryObjId:Ui}));bi(Ar,!0),ct("<</Type /Pages");var gt="/Kids [";for(z=0;z<zn;z++)gt+=st[z]+" 0 R ";ct(gt+"]"),ct("/Count "+zn),ct(">>"),ct("endobj"),on.publish("postPutPages")},Os=function(S){on.publish("putFont",{font:S,out:ct,newObject:ni,putStream:qn}),S.isAlreadyPutted!==!0&&(S.objectNumber=ni(),ct("<<"),ct("/Type /Font"),ct("/BaseFont /"+Lh(S.postScriptName)),ct("/Subtype /Type1"),typeof S.encoding=="string"&&ct("/Encoding /"+S.encoding),ct("/FirstChar 32"),ct("/LastChar 255"),ct(">>"),ct("endobj"))},dr=function(){for(var S in Qe)Qe.hasOwnProperty(S)&&(v===!1||v===!0&&w.hasOwnProperty(S))&&Os(Qe[S])},kr=function(S){S.objectNumber=ni();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[F(S.x),F(S.y),F(S.x+S.width),F(S.y+S.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var st=S.pages[1].join(`
`);qn({data:st,additionalKeyValues:z,objectId:S.objectNumber}),ct("endobj")},Ma=function(){for(var S in oi)oi.hasOwnProperty(S)&&kr(oi[S])},sl=function(S,z){var st,gt=[],St=1/(z-1);for(st=0;st<1;st+=St)gt.push(st);if(gt.push(1),S[0].offset!=0){var jt={offset:0,color:S[0].color};S.unshift(jt)}if(S[S.length-1].offset!=1){var Xt={offset:1,color:S[S.length-1].color};S.push(Xt)}for(var re="",m=0,E=0;E<gt.length;E++){for(st=gt[E];st>S[m+1].offset;)m++;var P=S[m].offset,X=(st-P)/(S[m+1].offset-P),xt=S[m].color,Dt=S[m+1].color;re+=at(Math.round((1-X)*xt[0]+X*Dt[0]).toString(16))+at(Math.round((1-X)*xt[1]+X*Dt[1]).toString(16))+at(Math.round((1-X)*xt[2]+X*Dt[2]).toString(16))}return re.trim()},Pa=function(S,z){z||(z=21);var st=ni(),gt=sl(S.colors,z),St=[];St.push({key:"FunctionType",value:"0"}),St.push({key:"Domain",value:"[0.0 1.0]"}),St.push({key:"Size",value:"["+z+"]"}),St.push({key:"BitsPerSample",value:"8"}),St.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),St.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:gt,additionalKeyValues:St,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:st}),ct("endobj"),S.objectNumber=ni(),ct("<< /ShadingType "+S.type),ct("/ColorSpace /DeviceRGB");var jt="/Coords ["+F(parseFloat(S.coords[0]))+" "+F(parseFloat(S.coords[1]))+" ";S.type===2?jt+=F(parseFloat(S.coords[2]))+" "+F(parseFloat(S.coords[3])):jt+=F(parseFloat(S.coords[2]))+" "+F(parseFloat(S.coords[3]))+" "+F(parseFloat(S.coords[4]))+" "+F(parseFloat(S.coords[5])),ct(jt+="]"),S.matrix&&ct("/Matrix ["+S.matrix.toString()+"]"),ct("/Function "+st+" 0 R"),ct("/Extend [true true]"),ct(">>"),ct("endobj")},Kl=function(S,z){var st=li(),gt=ni();z.push({resourcesOid:st,objectOid:gt}),S.objectNumber=gt;var St=[];St.push({key:"Type",value:"/Pattern"}),St.push({key:"PatternType",value:"1"}),St.push({key:"PaintType",value:"1"}),St.push({key:"TilingType",value:"1"}),St.push({key:"BBox",value:"["+S.boundingBox.map(F).join(" ")+"]"}),St.push({key:"XStep",value:F(S.xStep)}),St.push({key:"YStep",value:F(S.yStep)}),St.push({key:"Resources",value:st+" 0 R"}),S.matrix&&St.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),qn({data:S.stream,additionalKeyValues:St,objectId:S.objectNumber}),ct("endobj")},ss=function(S){var z;for(z in an)an.hasOwnProperty(z)&&(an[z]instanceof Lc?Pa(an[z]):an[z]instanceof Rh&&Kl(an[z],S))},as=function(S){for(var z in S.objectNumber=ni(),ct("<<"),S)switch(z){case"opacity":ct("/ca "+U(S[z]));break;case"stroke-opacity":ct("/CA "+U(S[z]))}ct(">>"),ct("endobj")},Di=function(){var S;for(S in Bn)Bn.hasOwnProperty(S)&&as(Bn[S])},ks=function(){for(var S in ct("/XObject <<"),oi)oi.hasOwnProperty(S)&&oi[S].objectNumber>=0&&ct("/"+S+" "+oi[S].objectNumber+" 0 R");on.publish("putXobjectDict"),ct(">>")},Ql=function(){Pn.oid=ni(),ct("<<"),ct("/Filter /Standard"),ct("/V "+Pn.v),ct("/R "+Pn.r),ct("/U <"+Pn.toHexString(Pn.U)+">"),ct("/O <"+Pn.toHexString(Pn.O)+">"),ct("/P "+Pn.P),ct(">>"),ct("endobj")},hs=function(){for(var S in ct("/Font <<"),Qe)Qe.hasOwnProperty(S)&&(v===!1||v===!0&&w.hasOwnProperty(S))&&ct("/"+S+" "+Qe[S].objectNumber+" 0 R");ct(">>")},ho=function(){if(Object.keys(an).length>0){for(var S in ct("/Shading <<"),an)an.hasOwnProperty(S)&&an[S]instanceof Lc&&an[S].objectNumber>=0&&ct("/"+S+" "+an[S].objectNumber+" 0 R");on.publish("putShadingPatternDict"),ct(">>")}},js=function(S){if(Object.keys(an).length>0){for(var z in ct("/Pattern <<"),an)an.hasOwnProperty(z)&&an[z]instanceof _.TilingPattern&&an[z].objectNumber>=0&&an[z].objectNumber<S&&ct("/"+z+" "+an[z].objectNumber+" 0 R");on.publish("putTilingPatternDict"),ct(">>")}},al=function(){if(Object.keys(Bn).length>0){var S;for(S in ct("/ExtGState <<"),Bn)Bn.hasOwnProperty(S)&&Bn[S].objectNumber>=0&&ct("/"+S+" "+Bn[S].objectNumber+" 0 R");on.publish("putGStateDict"),ct(">>")}},Un=function(S){bi(S.resourcesOid,!0),ct("<<"),ct("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),hs(),ho(),js(S.objectOid),al(),ks(),ct(">>"),ct("endobj")},Hi=function(){var S=[];dr(),Di(),Ma(),ss(S),on.publish("putResources"),S.forEach(Un),Un({resourcesOid:Ui,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources")},fo=function(){on.publish("putAdditionalObjects");for(var S=0;S<Zt.length;S++){var z=Zt[S];bi(z.objId,!0),ct(z.content),ct("endobj")}on.publish("postPutAdditionalObjects")},$l=function(S){Nn[S.fontName]=Nn[S.fontName]||{},Nn[S.fontName][S.fontStyle]=S.id},ia=function(S,z,st,gt,St){var jt={id:"F"+(Object.keys(Qe).length+1).toString(10),postScriptName:S,fontName:z,fontStyle:st,encoding:gt,isStandardFont:St||!1,metadata:{}};return on.publish("addFont",{font:jt,instance:this}),Qe[jt.id]=jt,$l(jt),jt.id},ol=function(S){for(var z=0,st=$t.length;z<st;z++){var gt=ia.call(this,S[z][0],S[z][1],S[z][2],$t[z][3],!0);v===!1&&(w[gt]=!0);var St=S[z][0].split("-");$l({id:gt,fontName:St[0],fontStyle:St[1]||""})}on.publish("addFonts",{fonts:Qe,dictionary:Nn})},nr=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(gt){var z=gt.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var st="Error in function "+z.split(`
`)[0].split("<")[0]+": "+gt.message;if(!Pe.console)throw new Error(st);Pe.console.error(st,gt),Pe.alert&&alert(st)}},S.foo.bar=S,S.foo},po=function(S,z){var st,gt,St,jt,Xt,re,m,E,P;if(St=(z=z||{}).sourceEncoding||"Unicode",Xt=z.outputEncoding,(z.autoencode||Xt)&&Qe[Ge].metadata&&Qe[Ge].metadata[St]&&Qe[Ge].metadata[St].encoding&&(jt=Qe[Ge].metadata[St].encoding,!Xt&&Qe[Ge].encoding&&(Xt=Qe[Ge].encoding),!Xt&&jt.codePages&&(Xt=jt.codePages[0]),typeof Xt=="string"&&(Xt=jt[Xt]),Xt)){for(m=!1,re=[],st=0,gt=S.length;st<gt;st++)(E=Xt[S.charCodeAt(st)])?re.push(String.fromCharCode(E)):re.push(S[st]),re[st].charCodeAt(0)>>8&&(m=!0);S=re.join("")}for(st=S.length;m===void 0&&st!==0;)S.charCodeAt(st-1)>>8&&(m=!0),st--;if(!m)return S;for(re=z.noBOM?[]:[254,255],st=0,gt=S.length;st<gt;st++){if((P=(E=S.charCodeAt(st))>>8)>>8)throw new Error("Character at position "+st+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");re.push(P),re.push(E-(P<<8))}return String.fromCharCode.apply(void 0,re)},cn=_.__private__.pdfEscape=_.pdfEscape=function(S,z){return po(S,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ir=_.__private__.beginPage=function(S){Qt[++zn]=[],Ee[zn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},fs(zn),Vt(Qt[W])},ra=function(S,z){var st,gt,St;switch(e=z||e,typeof S=="string"&&(st=O(S.toLowerCase()),Array.isArray(st)&&(gt=st[0],St=st[1])),Array.isArray(S)&&(gt=S[0]*ue,St=S[1]*ue),isNaN(gt)&&(gt=r[0],St=r[1]),(gt>14400||St>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),gt=Math.min(14400,gt),St=Math.min(14400,St)),r=[gt,St],e.substr(0,1)){case"l":St>gt&&(r=[St,gt]);break;case"p":gt>St&&(r=[St,gt])}ir(r),hl(la),ct(rr),fl!==0&&ct(fl+" J"),Va!==0&&ct(Va+" j"),on.publish("addPage",{pageNumber:zn})},sa=function(S){S>0&&S<=zn&&(Qt.splice(S,1),Ee.splice(S,1),zn--,W>zn&&(W=zn),this.setPage(W))},fs=function(S){S>0&&S<=zn&&(W=S)},wn=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Qt.length-1},aa=function(S,z,st){var gt,St=void 0;return st=st||{},S=S!==void 0?S:Qe[Ge].fontName,z=z!==void 0?z:Qe[Ge].fontStyle,gt=S.toLowerCase(),Nn[gt]!==void 0&&Nn[gt][z]!==void 0?St=Nn[gt][z]:Nn[S]!==void 0&&Nn[S][z]!==void 0?St=Nn[S][z]:st.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+S+"', '"+z+"'. Refer to getFontList() for available fonts."),St||st.noFallback||(St=Nn.times[z])==null&&(St=Nn.times.normal),St},jr=_.__private__.putInfo=function(){var S=ni(),z=function(gt){return gt};for(var st in g!==null&&(z=Pn.encryptor(S,0)),ct("<<"),ct("/Producer ("+cn(z("jsPDF "+Re.version))+")"),pe)pe.hasOwnProperty(st)&&pe[st]&&ct("/"+st.substr(0,1).toUpperCase()+st.substr(1)+" ("+cn(z(pe[st]))+")");ct("/CreationDate ("+cn(z(pt))+")"),ct(">>"),ct("endobj")},Vs=_.__private__.putCatalog=function(S){var z=(S=S||{}).rootDictionaryObjId||Ar;switch(ni(),ct("<<"),ct("/Type /Catalog"),ct("/Pages "+z+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":ct("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ct("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ct("/OpenAction [3 0 R /Fit]");break;case"original":ct("/OpenAction [3 0 R /XYZ null null 1]");break;default:var st=""+ae;st.substr(st.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&ct("/OpenAction [3 0 R /XYZ null null "+U(ae)+"]")}switch(be||(be="continuous"),be){case"continuous":ct("/PageLayout /OneColumn");break;case"single":ct("/PageLayout /SinglePage");break;case"two":case"twoleft":ct("/PageLayout /TwoColumnLeft");break;case"tworight":ct("/PageLayout /TwoColumnRight")}De&&ct("/PageMode /"+De),on.publish("putCatalog"),ct(">>"),ct("endobj")},Zl=_.__private__.putTrailer=function(){ct("trailer"),ct("<<"),ct("/Size "+(ft+1)),ct("/Root "+ft+" 0 R"),ct("/Info "+(ft-1)+" 0 R"),g!==null&&ct("/Encrypt "+Pn.oid+" 0 R"),ct("/ID [ <"+et+"> <"+et+"> ]"),ct(">>")},ll=_.__private__.putHeader=function(){ct("%PDF-"+T),ct("%")},ul=_.__private__.putXRef=function(){var S="0000000000";ct("xref"),ct("0 "+(ft+1)),ct("0000000000 65535 f ");for(var z=1;z<=ft;z++)typeof Tt[z]=="function"?ct((S+Tt[z]()).slice(-10)+" 00000 n "):Tt[z]!==void 0?ct((S+Tt[z]).slice(-10)+" 00000 n "):ct("0000000000 00000 n ")},Fs=_.__private__.buildDocument=function(){we(),Vt(Nt),on.publish("buildDocument"),ll(),Ps(),fo(),Hi(),g!==null&&Ql(),jr(),Vs();var S=Mt;return ul(),Zl(),ct("startxref"),ct(""+S),ct("%%EOF"),Vt(Qt[W]),Nt.join(`
`)},go=_.__private__.getBlob=function(S){return new Blob([de(S)],{type:"application/pdf"})},Bs=_.output=_.__private__.output=nr(function(S,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",S){case void 0:return Fs();case"save":_.save(z.filename);break;case"arraybuffer":return de(Fs());case"blob":return go(Fs());case"bloburi":case"bloburl":if(Pe.URL!==void 0&&typeof Pe.URL.createObjectURL=="function")return Pe.URL&&Pe.URL.createObjectURL(go(Fs()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var st="",gt=Fs();try{st=U0(gt)}catch{st=U0(unescape(encodeURIComponent(gt)))}return"data:application/pdf;filename="+z.filename+";base64,"+st;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pe)==="[object Window]"){var St="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(St=z.pdfObjectUrl,jt="");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+St+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",re=Pe.open();return re!==null&&re.document.write(Xt),re}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pe)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',E=Pe.open();if(E!==null){E.document.write(m);var P=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=z.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(P.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var X='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',xt=Pe.open();if(xt!==null&&(xt.document.write(X),xt.document.title=z.filename),xt||typeof safari>"u")return xt;break;case"datauri":case"dataurl":return Pe.document.location.href=this.output("datauristring",z);default:return null}}),ds=function(S){return Array.isArray(Or)===!0&&Or.indexOf(S)>-1};switch(i){case"pt":ue=1;break;case"mm":ue=72/25.4;break;case"cm":ue=72/2.54;break;case"in":ue=72;break;case"px":ue=ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":ue=12;break;case"ex":ue=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ue=i}var Pn=null;vt(),lt();var zs=function(S){return g!==null?Pn.encryptor(S,0):function(z){return z}},ps=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[S].objId,pageNumber:S,pageContext:Ee[S]}},Ne=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Ee)if(Ee[z].objId===S)break;return ps(z)},gs=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Ee[W].objId,pageNumber:W,pageContext:Ee[W]}};_.addPage=function(){return ra.apply(this,arguments),this},_.setPage=function(){return fs.apply(this,arguments),Vt.call(this,Qt[W]),this},_.insertPage=function(S){return this.addPage(),this.movePage(W,S),this},_.movePage=function(S,z){var st,gt;if(S>z){st=Qt[S],gt=Ee[S];for(var St=S;St>z;St--)Qt[St]=Qt[St-1],Ee[St]=Ee[St-1];Qt[z]=st,Ee[z]=gt,this.setPage(z)}else if(S<z){st=Qt[S],gt=Ee[S];for(var jt=S;jt<z;jt++)Qt[jt]=Qt[jt+1],Ee[jt]=Ee[jt+1];Qt[z]=st,Ee[z]=gt,this.setPage(z)}return this},_.deletePage=function(){return sa.apply(this,arguments),this},_.__private__.text=_.text=function(S,z,st,gt,St){var jt,Xt,re,m,E,P,X,xt,Dt,Kt=(gt=gt||{}).scope||this;if(typeof S=="number"&&typeof z=="number"&&(typeof st=="string"||Array.isArray(st))){var Ce=st;st=z,z=S,S=Ce}if(arguments[3]instanceof ce?(C("The transform parameter of text() with a Matrix value"),Dt=St):(re=arguments[4],m=arguments[5],Fn(X=arguments[3])==="object"&&X!==null||(typeof re=="string"&&(m=re,re=null),typeof X=="string"&&(m=X,X=null),typeof X=="number"&&(re=X,X=null),gt={flags:X,angle:re,align:m})),isNaN(z)||isNaN(st)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Kt;var tn="",Ve=!1,xn=typeof gt.lineHeightFactor=="number"?gt.lineHeightFactor:Je,Dn=Kt.internal.scaleFactor;function bs($e){return $e=$e.split("	").join(Array(gt.TabLen||9).join(" ")),cn($e,X)}function di($e){for(var Ze,Hn=$e.concat(),pi=[],ws=Hn.length;ws--;)typeof(Ze=Hn.shift())=="string"?pi.push(Ze):Array.isArray($e)&&(Ze.length===1||Ze[1]===void 0&&Ze[2]===void 0)?pi.push(Ze[0]):pi.push([Ze[0],Ze[1],Ze[2]]);return pi}function zr($e,Ze){var Hn;if(typeof $e=="string")Hn=Ze($e)[0];else if(Array.isArray($e)){for(var pi,ws,Lo=$e.concat(),Ro=[],Ha=Lo.length;Ha--;)typeof(pi=Lo.shift())=="string"?Ro.push(Ze(pi)[0]):Array.isArray(pi)&&typeof pi[0]=="string"&&(ws=Ze(pi[0],pi[1],pi[2]),Ro.push([ws[0],ws[1],ws[2]]));Hn=Ro}return Hn}var pa=!1,_o=!0;if(typeof S=="string")pa=!0;else if(Array.isArray(S)){var nu=S.concat();Xt=[];for(var dl,Ii=nu.length;Ii--;)(typeof(dl=nu.shift())!="string"||Array.isArray(dl)&&typeof dl[0]!="string")&&(_o=!1);pa=_o}if(pa===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var wo=te/Kt.internal.scaleFactor,pl=wo*(xn-1);switch(gt.baseline){case"bottom":st-=pl;break;case"top":st+=wo-pl;break;case"hanging":st+=wo-2*pl;break;case"middle":st+=wo/2-pl}if((P=gt.maxWidth||0)>0&&(typeof S=="string"?S=Kt.splitTextToSize(S,P):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function($e,Ze){return $e.concat(Kt.splitTextToSize(Ze,P))},[]))),jt={text:S,x:z,y:st,options:gt,mutex:{pdfEscape:cn,activeFontKey:Ge,fonts:Qe,activeFontSize:te}},on.publish("preProcessText",jt),S=jt.text,re=(gt=jt.options).angle,!(Dt instanceof ce)&&re&&typeof re=="number"){re*=Math.PI/180,gt.rotationDirection===0&&(re=-re),J===q.ADVANCED&&(re=-re);var gl=Math.cos(re),iu=Math.sin(re);Dt=new ce(gl,iu,-iu,gl,0,0)}else re&&re instanceof ce&&(Dt=re);J!==q.ADVANCED||Dt||(Dt=Ln),(E=gt.charSpace||ja)!==void 0&&(tn+=F(L(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xt=gt.horizontalScale)!==void 0&&(tn+=F(100*xt)+` Tz
`),gt.lang;var qr=-1,sf=gt.renderingMode!==void 0?gt.renderingMode:gt.stroke,ec=Kt.internal.getCurrentPageInfo().pageContext;switch(sf){case 0:case!1:case"fill":qr=0;break;case 1:case!0:case"stroke":qr=1;break;case 2:case"fillThenStroke":qr=2;break;case 3:case"invisible":qr=3;break;case 4:case"fillAndAddForClipping":qr=4;break;case 5:case"strokeAndAddPathForClipping":qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qr=6;break;case 7:case"addToPathForClipping":qr=7}var Gc=ec.usedRenderingMode!==void 0?ec.usedRenderingMode:-1;qr!==-1?tn+=qr+` Tr
`:Gc!==-1&&(tn+=`0 Tr
`),qr!==-1&&(ec.usedRenderingMode=qr),m=gt.align||"left";var _s,Gi=te*xn,xo=Kt.internal.pageSize.getWidth(),nc=Qe[Ge];E=gt.charSpace||ja,P=gt.maxWidth||0,X=Object.assign({autoencode:!0,noBOM:!0},gt.flags);var qa=[],So=function($e){return Kt.getStringUnitWidth($e,{font:nc,charSpace:E,fontSize:te,doKerning:!1})*te/Dn};if(Object.prototype.toString.call(S)==="[object Array]"){var Tr;Xt=di(S),m!=="left"&&(_s=Xt.map(So));var sr,Ao=0;if(m==="right"){z-=_s[0],S=[],Ii=Xt.length;for(var Ur=0;Ur<Ii;Ur++)Ur===0?(sr=mr(z),Tr=xi(st)):(sr=L(Ao-_s[Ur]),Tr=-Gi),S.push([Xt[Ur],sr,Tr]),Ao=_s[Ur]}else if(m==="center"){z-=_s[0]/2,S=[],Ii=Xt.length;for(var Gs=0;Gs<Ii;Gs++)Gs===0?(sr=mr(z),Tr=xi(st)):(sr=L((Ao-_s[Gs])/2),Tr=-Gi),S.push([Xt[Gs],sr,Tr]),Ao=_s[Gs]}else if(m==="left"){S=[],Ii=Xt.length;for(var ga=0;ga<Ii;ga++)S.push(Xt[ga])}else if(m==="justify"&&nc.encoding==="Identity-H"){S=[],Ii=Xt.length,P=P!==0?P:xo;for(var Ws=0,ui=0;ui<Ii;ui++)if(Tr=ui===0?xi(st):-Gi,sr=ui===0?mr(z):Ws,ui<Ii-1){var Ys=L((P-_s[ui])/(Xt[ui].split(" ").length-1)),Si=Xt[ui].split(" ");S.push([Si[0]+" ",sr,Tr]),Ws=0;for(var Hr=1;Hr<Si.length;Hr++){var ml=(So(Si[Hr-1]+" "+Si[Hr])-So(Si[Hr]))*Dn+Ys;Hr==Si.length-1?S.push([Si[Hr],ml,0]):S.push([Si[Hr]+" ",ml,0]),Ws-=ml}}else S.push([Xt[ui],sr,Tr]);S.push(["",Ws,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Ii=Xt.length,P=P!==0?P:xo,ui=0;ui<Ii;ui++)Tr=ui===0?xi(st):-Gi,sr=ui===0?mr(z):0,ui<Ii-1?qa.push(F(L((P-_s[ui])/(Xt[ui].split(" ").length-1)))):qa.push(0),S.push([Xt[ui],sr,Tr])}}var ma=typeof gt.R2L=="boolean"?gt.R2L:ve;ma===!0&&(S=zr(S,function($e,Ze,Hn){return[$e.split("").reverse().join(""),Ze,Hn]})),jt={text:S,x:z,y:st,options:gt,mutex:{pdfEscape:cn,activeFontKey:Ge,fonts:Qe,activeFontSize:te}},on.publish("postProcessText",jt),S=jt.text,Ve=jt.mutex.isHex||!1;var ru=Qe[Ge].encoding;ru!=="WinAnsiEncoding"&&ru!=="StandardEncoding"||(S=zr(S,function($e,Ze,Hn){return[bs($e),Ze,Hn]})),Xt=di(S),S=[];for(var Eo,To,No,yl=0,su=1,Co=Array.isArray(Xt[0])?su:yl,Ua="",vl=function($e,Ze,Hn){var pi="";return Hn instanceof ce?(Hn=typeof gt.angle=="number"?Cn(Hn,new ce(1,0,0,1,$e,Ze)):Cn(new ce(1,0,0,1,$e,Ze),Hn),J===q.ADVANCED&&(Hn=Cn(new ce(1,0,0,-1,0,0),Hn)),pi=Hn.join(" ")+` Tm
`):pi=F($e)+" "+F(Ze)+` Td
`,pi},ci=0;ci<Xt.length;ci++){switch(Ua="",Co){case su:No=(Ve?"<":"(")+Xt[ci][0]+(Ve?">":")"),Eo=parseFloat(Xt[ci][1]),To=parseFloat(Xt[ci][2]);break;case yl:No=(Ve?"<":"(")+Xt[ci]+(Ve?">":")"),Eo=mr(z),To=xi(st)}qa!==void 0&&qa[ci]!==void 0&&(Ua=qa[ci]+` Tw
`),ci===0?S.push(Ua+vl(Eo,To,Dt)+No):Co===yl?S.push(Ua+No):Co===su&&S.push(Ua+vl(Eo,To,Dt)+No)}S=Co===yl?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var ls=`BT
/`;return ls+=Ge+" "+te+` Tf
`,ls+=F(te*xn)+` TL
`,ls+=Us+`
`,ls+=tn,ls+=S,ct(ls+="ET"),w[Ge]=!0,Kt};var Jl=_.__private__.clip=_.clip=function(S){return ct(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Jl("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ct("n"),this};var pr=_.__private__.isValidStyle=function(S){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(z=!0),z};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return pr(S)&&(f=S),this};var Vr=_.__private__.getStyle=_.getStyle=function(S){var z=f;switch(S){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=S}return z},Er=_.close=function(){return ct("h"),this};_.stroke=function(){return ct("S"),this},_.fill=function(S){return ms("f",S),this},_.fillEvenOdd=function(S){return ms("f*",S),this},_.fillStroke=function(S){return ms("B",S),this},_.fillStrokeEvenOdd=function(S){return ms("B*",S),this};var ms=function(S,z){Fn(z)==="object"?qs(z,S):ct(S)},Fr=function(S){S===null||J===q.ADVANCED&&S===void 0||(S=Vr(S),ct(S))};function oa(S,z,st,gt,St){var jt=new Rh(z||this.boundingBox,st||this.xStep,gt||this.yStep,this.gState,St||this.matrix);jt.stream=this.stream;var Xt=S+"$$"+this.cloneIndex+++"$$";return Xn(Xt,jt),jt}var qs=function(S,z){var st=Ms[S.key],gt=an[st];if(gt instanceof Lc)ct("q"),ct(cl(z)),gt.gState&&_.setGState(gt.gState),ct(S.matrix.toString()+" cm"),ct("/"+st+" sh"),ct("Q");else if(gt instanceof Rh){var St=new ce(1,0,0,-1,0,yr());S.matrix&&(St=St.multiply(S.matrix||Ln),st=oa.call(gt,S.key,S.boundingBox,S.xStep,S.yStep,St).id),ct("q"),ct("/Pattern cs"),ct("/"+st+" scn"),gt.gState&&_.setGState(gt.gState),ct(z),ct("Q")}},cl=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Br=_.moveTo=function(S,z){return ct(F(L(S))+" "+F(nt(z))+" m"),this},gr=_.lineTo=function(S,z){return ct(F(L(S))+" "+F(nt(z))+" l"),this},ys=_.curveTo=function(S,z,st,gt,St,jt){return ct([F(L(S)),F(nt(z)),F(L(st)),F(nt(gt)),F(L(St)),F(nt(jt)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,z,st,gt,St){if(isNaN(S)||isNaN(z)||isNaN(st)||isNaN(gt)||!pr(St))throw new Error("Invalid arguments passed to jsPDF.line");return J===q.COMPAT?this.lines([[st-S,gt-z]],S,z,[1,1],St||"S"):this.lines([[st-S,gt-z]],S,z,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,z,st,gt,St,jt){var Xt,re,m,E,P,X,xt,Dt,Kt,Ce,tn,Ve;if(typeof S=="number"&&(Ve=st,st=z,z=S,S=Ve),gt=gt||[1,1],jt=jt||!1,isNaN(z)||isNaN(st)||!Array.isArray(S)||!Array.isArray(gt)||!pr(St)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Br(z,st),Xt=gt[0],re=gt[1],E=S.length,Ce=z,tn=st,m=0;m<E;m++)(P=S[m]).length===2?(Ce=P[0]*Xt+Ce,tn=P[1]*re+tn,gr(Ce,tn)):(X=P[0]*Xt+Ce,xt=P[1]*re+tn,Dt=P[2]*Xt+Ce,Kt=P[3]*re+tn,Ce=P[4]*Xt+Ce,tn=P[5]*re+tn,ys(X,xt,Dt,Kt,Ce,tn));return jt&&Er(),Fr(St),this},_.path=function(S){for(var z=0;z<S.length;z++){var st=S[z],gt=st.c;switch(st.op){case"m":Br(gt[0],gt[1]);break;case"l":gr(gt[0],gt[1]);break;case"c":ys.apply(this,gt);break;case"h":Er()}}return this},_.__private__.rect=_.rect=function(S,z,st,gt,St){if(isNaN(S)||isNaN(z)||isNaN(st)||isNaN(gt)||!pr(St))throw new Error("Invalid arguments passed to jsPDF.rect");return J===q.COMPAT&&(gt=-gt),ct([F(L(S)),F(nt(z)),F(L(st)),F(L(gt)),"re"].join(" ")),Fr(St),this},_.__private__.triangle=_.triangle=function(S,z,st,gt,St,jt,Xt){if(isNaN(S)||isNaN(z)||isNaN(st)||isNaN(gt)||isNaN(St)||isNaN(jt)||!pr(Xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[st-S,gt-z],[St-st,jt-gt],[S-St,z-jt]],S,z,[1,1],Xt,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,z,st,gt,St,jt,Xt){if(isNaN(S)||isNaN(z)||isNaN(st)||isNaN(gt)||isNaN(St)||isNaN(jt)||!pr(Xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var re=4/3*(Math.SQRT2-1);return St=Math.min(St,.5*st),jt=Math.min(jt,.5*gt),this.lines([[st-2*St,0],[St*re,0,St,jt-jt*re,St,jt],[0,gt-2*jt],[0,jt*re,-St*re,jt,-St,jt],[2*St-st,0],[-St*re,0,-St,-jt*re,-St,-jt],[0,2*jt-gt],[0,-jt*re,St*re,-jt,St,-jt]],S+St,z,[1,1],Xt,!0),this},_.__private__.ellipse=_.ellipse=function(S,z,st,gt,St){if(isNaN(S)||isNaN(z)||isNaN(st)||isNaN(gt)||!pr(St))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*st,Xt=4/3*(Math.SQRT2-1)*gt;return Br(S+st,z),ys(S+st,z-Xt,S+jt,z-gt,S,z-gt),ys(S-jt,z-gt,S-st,z-Xt,S-st,z),ys(S-st,z+Xt,S-jt,z+gt,S,z+gt),ys(S+jt,z+gt,S+st,z+Xt,S+st,z),Fr(St),this},_.__private__.circle=_.circle=function(S,z,st,gt){if(isNaN(S)||isNaN(z)||isNaN(st)||!pr(gt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,z,st,st,gt)},_.setFont=function(S,z,st){return st&&(z=ut(z,st)),Ge=aa(S,z,{disableWarning:!1}),this};var wi=_.__private__.getFont=_.getFont=function(){return Qe[aa.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,z,st={};for(S in Nn)if(Nn.hasOwnProperty(S))for(z in st[S]=[],Nn[S])Nn[S].hasOwnProperty(z)&&st[S].push(z);return st},_.addFont=function(S,z,st,gt,St){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?St=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(st=ut(st,gt)),St=St||"Identity-H",ia.call(this,S,z,st,St)};var Je,la=n.lineWidth||.200025,vs=_.__private__.getLineWidth=_.getLineWidth=function(){return la},hl=_.__private__.setLineWidth=_.setLineWidth=function(S){return la=S,ct(F(L(S))+" w"),this};_.__private__.setLineDash=Re.API.setLineDash=Re.API.setLineDashPattern=function(S,z){if(S=S||[],z=z||0,isNaN(z)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(st){return F(L(st))}).join(" "),z=F(L(z)),ct("["+S+"] "+z+" d"),this};var Oa=_.__private__.getLineHeight=_.getLineHeight=function(){return te*Je};_.__private__.getLineHeight=_.getLineHeight=function(){return te*Je};var ka=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Je=S),this},os=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return Je};ka(n.lineHeight);var mr=_.__private__.getHorizontalCoordinate=function(S){return L(S)},xi=_.__private__.getVerticalCoordinate=function(S){return J===q.ADVANCED?S:Ee[W].mediaBox.topRightY-Ee[W].mediaBox.bottomLeftY-L(S)},tu=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return F(mr(S))},ua=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return F(xi(S))},rr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Li(rr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,z,st,gt){return rr=_i({ch1:S,ch2:z,ch3:st,ch4:gt,pdfColorType:"draw",precision:2}),ct(rr),this};var ca=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Li(ca)},_.__private__.setFillColor=_.setFillColor=function(S,z,st,gt){return ca=_i({ch1:S,ch2:z,ch3:st,ch4:gt,pdfColorType:"fill",precision:2}),ct(ca),this};var Us=n.textColor||"0 g",mo=_.__private__.getTextColor=_.getTextColor=function(){return Li(Us)};_.__private__.setTextColor=_.setTextColor=function(S,z,st,gt){return Us=_i({ch1:S,ch2:z,ch3:st,ch4:gt,pdfColorType:"text",precision:3}),this};var ja=n.charSpace,yo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(ja||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ja=S,this};var fl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var z=_.CapJoinStyles[S];if(z===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=z,ct(z+" J"),this};var Va=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var z=_.CapJoinStyles[S];if(z===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Va=z,ct(z+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ct(F(L(S))+" M"),this},_.GState=Og,_.setGState=function(S){(S=typeof S=="string"?Bn[Ci[S]]:ha(null,S)).equals(tr)||(ct("/"+S.id+" gs"),tr=S)};var ha=function(S,z){if(!S||!Ci[S]){var st=!1;for(var gt in Bn)if(Bn.hasOwnProperty(gt)&&Bn[gt].equals(z)){st=!0;break}if(st)z=Bn[gt];else{var St="GS"+(Object.keys(Bn).length+1).toString(10);Bn[St]=z,z.id=St}return S&&(Ci[S]=z.id),on.publish("addGState",z),z}};_.addGState=function(S,z){return ha(S,z),this},_.saveGraphicsState=function(){return ct("q"),fr.push({key:Ge,size:te,color:Us}),this},_.restoreGraphicsState=function(){ct("Q");var S=fr.pop();return Ge=S.key,te=S.size,Us=S.color,tr=null,this},_.setCurrentTransformationMatrix=function(S){return ct(S.toString()+" cm"),this},_.comment=function(S){return ct("#"+S),this};var Fa=function(S,z){var st=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return st},set:function(jt){isNaN(jt)||(st=parseFloat(jt))}});var gt=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return gt},set:function(jt){isNaN(jt)||(gt=parseFloat(jt))}});var St="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return St},set:function(jt){St=jt.toString()}}),this},vo=function(S,z,st,gt){Fa.call(this,S,z),this.type="rect";var St=st||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return St},set:function(Xt){isNaN(Xt)||(St=parseFloat(Xt))}});var jt=gt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Xt){isNaN(Xt)||(jt=parseFloat(Xt))}}),this},Ba=function(){this.page=zn,this.currentPage=W,this.pages=Qt.slice(0),this.pagesContext=Ee.slice(0),this.x=ai,this.y=Xe,this.matrix=Ji,this.width=da(W),this.height=yr(W),this.outputDestination=ee,this.id="",this.objectNumber=-1};Ba.prototype.restore=function(){zn=this.page,W=this.currentPage,Ee=this.pagesContext,Qt=this.pages,ai=this.x,Xe=this.y,Ji=this.matrix,za(W,this.width),bo(W,this.height),ee=this.outputDestination};var fa=function(S,z,st,gt,St){rs.push(new Ba),zn=W=0,Qt=[],ai=S,Xe=z,Ji=St,ir([st,gt])},eu=function(S){if(er[S])rs.pop().restore();else{var z=new Ba,st="Xo"+(Object.keys(oi).length+1).toString(10);z.id=st,er[S]=st,oi[st]=z,on.publish("addFormObject",z),rs.pop().restore()}};for(var Hs in _.beginFormObject=function(S,z,st,gt,St){return fa(S,z,st,gt,St),this},_.endFormObject=function(S){return eu(S),this},_.doFormObject=function(S,z){var st=oi[er[S]];return ct("q"),ct(z.toString()+" cm"),ct("/"+st.id+" Do"),ct("Q"),this},_.getFormObject=function(S){var z=oi[er[S]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},_.save=function(S,z){return S=S||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Nc(go(Fs()),S),typeof Nc.unload=="function"&&Pe.setTimeout&&setTimeout(Nc.unload,911),this):new Promise(function(st,gt){try{var St=Nc(go(Fs()),S);typeof Nc.unload=="function"&&Pe.setTimeout&&setTimeout(Nc.unload,911),st(St)}catch(jt){gt(jt.message)}})},Re.API)Re.API.hasOwnProperty(Hs)&&(Hs==="events"&&Re.API.events.length?function(S,z){var st,gt,St;for(St=z.length-1;St!==-1;St--)st=z[St][0],gt=z[St][1],S.subscribe.apply(S,[st].concat(typeof gt=="function"?[gt]:gt))}(on,Re.API.events):_[Hs]=Re.API[Hs]);var da=_.getPageWidth=function(S){return(Ee[S=S||W].mediaBox.topRightX-Ee[S].mediaBox.bottomLeftX)/ue},za=_.setPageWidth=function(S,z){Ee[S].mediaBox.topRightX=z*ue+Ee[S].mediaBox.bottomLeftX},yr=_.getPageHeight=function(S){return(Ee[S=S||W].mediaBox.topRightY-Ee[S].mediaBox.bottomLeftY)/ue},bo=_.setPageHeight=function(S,z){Ee[S].mediaBox.topRightY=z*ue+Ee[S].mediaBox.bottomLeftY};return _.internal={pdfEscape:cn,getStyle:Vr,getFont:wi,getFontSize:oe,getCharSpace:yo,getTextColor:mo,getLineHeight:Oa,getLineHeightFactor:os,getLineWidth:vs,write:Ae,getHorizontalCoordinate:mr,getVerticalCoordinate:xi,getCoordinateString:tu,getVerticalCoordinateString:ua,collections:{},newObject:ni,newAdditionalObject:Ia,newObjectDeferred:li,newObjectDeferredBegin:bi,getFilters:Ri,putStream:qn,events:on,scaleFactor:ue,pageSize:{getWidth:function(){return da(W)},setWidth:function(S){za(W,S)},getHeight:function(){return yr(W)},setHeight:function(S){bo(W,S)}},encryptionOptions:g,encryption:Pn,getEncryptor:zs,output:Bs,getNumberOfPages:wn,pages:Qt,out:ct,f2:U,f3:R,getPageInfo:ps,getPageInfoByObjId:Ne,getCurrentPageInfo:gs,getPDFVersion:N,Point:Fa,Rectangle:vo,Matrix:ce,hasHotfix:ds},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return da(W)},set:function(S){za(W,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return yr(W)},set:function(S){bo(W,S)},enumerable:!0,configurable:!0}),ol.call(_,$t),Ge="F1",ra(r,e),on.publish("initialized"),_}Ch.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ch.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ch.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Ch.prototype.processOwnerPassword=function(n,t){return G0(H0(t).substr(0,5),n)},Ch.prototype.encryptor=function(n,t){var e=H0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return G0(e,i)}},Og.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Fn(n)!==Fn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Re.API={events:[]},Re.version="3.0.1";var Ni=Re.API,W2=1,Uc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_h=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ze=function(n){return n.toFixed(2)},Iu=function(n){return n.toFixed(5)};Ni.__acroform__={};var Is=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Ob=function(n){return n*W2},Ho=function(n){var t=new p3,e=me.internal.getHeight(n)||0,i=me.internal.getWidth(n)||0;return t.BBox=[0,0,Number(ze(i)),Number(ze(e))],t},d7=Ni.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},p7=Ni.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},g7=Ni.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},Fi=Ni.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g7(n,t-1)},Bi=Ni.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return d7(n,t-1)},zi=Ni.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return p7(n,t-1)},m7=Ni.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],a=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(a+u)||0,h.upperRight_X=e(r+l)||0,h.upperRight_Y=i(a)||0,[Number(ze(h.lowerLeft_X)),Number(ze(h.lowerLeft_Y)),Number(ze(h.upperRight_X)),Number(ze(h.upperRight_Y))]},y7=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=W0(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+ze(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ho(n);return a.scope=n.scope,a.stream=t.join(`
`),a}},W0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(R){return R.split(`
`)}):r.map(function(R){return[R]});var a=e,l=me.internal.getHeight(n)||0;l=l<0?-l:l;var u=me.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(R,L,M){if(R+1<r.length){var nt=L+" "+r[R+1][0];return qp(nt,n,M).width<=u-4}return!1};a++;t:for(;a>0;){t="",a--;var f,g,v=qp("3",n,a).height,w=n.multiline?l-a:(l-v)/2,_=w+=2,T=0,N=0,I=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+qp(t,n,a=12).width+", FieldWidth:"+u+`
`;break}for(var O="",q=0,J=0;J<r.length;J++)if(r.hasOwnProperty(J)){var ot=!1;if(r[J].length!==1&&I!==r[J].length-1){if((v+2)*(q+2)+2>l)continue t;O+=r[J][I],ot=!0,N=J,J--}else{O=(O+=r[J][I]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var $=parseInt(J),ut=h($,O,a),F=J>=r.length-1;if(ut&&!F){O+=" ",I=0;continue}if(ut||F){if(F)N=$;else if(n.multiline&&(v+2)*(q+2)+2>l)continue t}else{if(!n.multiline||(v+2)*(q+2)+2>l)continue t;N=$}}for(var C="",k=T;k<=N;k++){var U=r[k];if(n.multiline){if(k===N){C+=U[I]+" ",I=(I+1)%U.length;continue}if(k===T){C+=U[U.length-1]+" ";continue}}C+=U[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,g=qp(C,n,a).width,n.textAlign){case"right":f=u-g-2;break;case"center":f=(u-g)/2;break;case"left":default:f=2}t+=ze(f)+" "+ze(_)+` Td
`,t+="("+Uc(C)+`) Tj
`,t+=-ze(f)+` 0 Td
`,_=-(a+2),g=0,T=ot?N:N+1,q++,O=""}break}return i.text=t,i.fontSize=a,i},qp=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},v7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},b7=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},_7=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),Fn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},w7=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(uo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(v7)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new g3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&b7(a,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var a=!i;for(var l in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var u=i[l],h=[],f=u.Rect;if(u.Rect&&(u.Rect=m7(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=me.createDefaultAppearanceStream(u),Fn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=y7(u);h.push({key:"AP",value:"<</N "+g+">>"}),r.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var v="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var _=u.appearanceStreamContent[w];if(v+="/"+w+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var l in _)if(_.hasOwnProperty(l)){var T=_[l];typeof T=="function"&&(T=T.call(r,u)),v+="/"+l+" "+T+" ",r.internal.acroformPlugin.xForms.indexOf(T)>=0||r.internal.acroformPlugin.xForms.push(T)}}else typeof(T=_)=="function"&&(T=T.call(r,u)),v+="/"+l+" "+T,r.internal.acroformPlugin.xForms.indexOf(T)>=0||r.internal.acroformPlugin.xForms.push(T);v+=">>"}h.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:u.objId}),r.internal.out("endobj")}a&&_7(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},d3=Ni.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(l){return l};if(Array.isArray(n)){for(var r="[",a=0;a<n.length;a++)switch(a!==0&&(r+=" "),Fn(n[a])){case"boolean":case"number":case"object":r+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+Uc(i(n[a].toString()))+")"):r+=n[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q1=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Uc(i(n))+")"},Ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ko.prototype.toString=function(){return this.objId+" 0 R"},Ko.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ko.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:d3(r,this.objId,this.scope)}):r instanceof Ko?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var p3=function(){Ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Is(p3,Ko);var g3=function(){Ko.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Uc(e(n))+")"}},set:function(e){n=e}})};Is(g3,Ko);var uo=function n(){Ko.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');t=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fi(t,3)},set:function(O){O?this.F=Bi(t,3):this.F=zi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');e=O}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(O){i=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(O){i[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(O){i[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(O){i[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(O){i[3]=O}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof kg)return;a="FieldObject"+n.FieldNum++}var O=function(q){return q};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+Uc(O(a))+")"},set:function(O){a=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(O){a=O}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(O){l=O}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(O){u=O}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(O){h=O}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/W2:f},set:function(O){f=O}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(O){g=O}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof kg||this instanceof Ic))return Q1(v,this.objId,this.scope)},set:function(O){O=O.toString(),v=O}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Sr?w:Q1(w,this.objId,this.scope)},set:function(O){O=O.toString(),w=this instanceof Sr?O:O.substr(0,1)==="("?_h(O.substr(1,O.length-2)):_h(O)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr?_h(w.substr(1,w.length-1)):w},set:function(O){O=O.toString(),w=this instanceof Sr?"/"+O:O}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Sr?_:Q1(_,this.objId,this.scope)},set:function(O){O=O.toString(),_=this instanceof Sr?O:O.substr(0,1)==="("?_h(O.substr(1,O.length-2)):_h(O)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sr?_h(_.substr(1,_.length-1)):_},set:function(O){O=O.toString(),_=this instanceof Sr?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(O){O=!!O,N=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(O){T=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,1)},set:function(O){O?this.Ff=Bi(this.Ff,1):this.Ff=zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,2)},set:function(O){O?this.Ff=Bi(this.Ff,2):this.Ff=zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,3)},set:function(O){O?this.Ff=Bi(this.Ff,3):this.Ff=zi(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');I=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(I){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Is(uo,Ko);var kh=function(){uo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return d3(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(a,l,u){u||(u=1);for(var h,f=[];h=l.exec(a);)f.push(h[u]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,18)},set:function(e){e?this.Ff=Bi(this.Ff,18):this.Ff=zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Bi(this.Ff,19):this.Ff=zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,20)},set:function(e){e?(this.Ff=Bi(this.Ff,20),t.sort()):this.Ff=zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,22)},set:function(e){e?this.Ff=Bi(this.Ff,22):this.Ff=zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,23)},set:function(e){e?this.Ff=Bi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,27)},set:function(e){e?this.Ff=Bi(this.Ff,27):this.Ff=zi(this.Ff,27)}}),this.hasAppearanceStream=!1};Is(kh,uo);var jh=function(){kh.call(this),this.fontName="helvetica",this.combo=!1};Is(jh,kh);var Vh=function(){jh.call(this),this.combo=!0};Is(Vh,jh);var cg=function(){Vh.call(this),this.edit=!0};Is(cg,Vh);var Sr=function(){uo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,15)},set:function(e){e?this.Ff=Bi(this.Ff,15):this.Ff=zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,16)},set:function(e){e?this.Ff=Bi(this.Ff,16):this.Ff=zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,17)},set:function(e){e?this.Ff=Bi(this.Ff,17):this.Ff=zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,26)},set:function(e){e?this.Ff=Bi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Uc(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){Fn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Is(Sr,uo);var hg=function(){Sr.call(this),this.pushButton=!0};Is(hg,Sr);var Fh=function(){Sr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Is(Fh,Sr);var kg=function(){var n,t;uo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),i)l.push("/"+a+" ("+Uc(r(i[a]))+")");return l.push(">>"),l.join(`
`)},set:function(r){Fn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Is(kg,uo),Fh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Fh.prototype.createOption=function(n){var t=new kg;return t.Parent=this,t.optionName=n,this.Kids.push(t),x7.call(this.scope,t),t};var fg=function(){Sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=me.CheckBox.createAppearanceStream()};Is(fg,Sr);var Ic=function(){uo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,13)},set:function(t){t?this.Ff=Bi(this.Ff,13):this.Ff=zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,21)},set:function(t){t?this.Ff=Bi(this.Ff,21):this.Ff=zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,23)},set:function(t){t?this.Ff=Bi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,24)},set:function(t){t?this.Ff=Bi(this.Ff,24):this.Ff=zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,25)},set:function(t){t?this.Ff=Bi(this.Ff,25):this.Ff=zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,26)},set:function(t){t?this.Ff=Bi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Is(Ic,uo);var dg=function(){Ic.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fi(this.Ff,14)},set:function(n){n?this.Ff=Bi(this.Ff,14):this.Ff=zi(this.Ff,14)}}),this.password=!0};Is(dg,Ic);var me={CheckBox:{createAppearanceStream:function(){return{N:{On:me.CheckBox.YesNormal},D:{On:me.CheckBox.YesPushDown,Off:me.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Ho(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=W0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+ze(me.internal.getWidth(n))+" "+ze(me.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+ze(a.fontSize)+" Tf "+r),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Ho(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],a=me.internal.getHeight(n),l=me.internal.getWidth(n),u=W0(n,n.caption);return r.push("1 g"),r.push("0 0 "+ze(l)+" "+ze(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+ze(l-1)+" "+ze(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+ze(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Ho(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(me.internal.getWidth(n))+" "+ze(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Circle.YesNormal,t.D[n]=me.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Ho(n);t.scope=n.scope;var e=[],i=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=me.internal.Bezier_C,a=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Iu(me.internal.getWidth(n)/2)+" "+Iu(me.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Ho(n);t.scope=n.scope;var e=[],i=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*me.internal.Bezier_C).toFixed(5)),l=Number((i*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Iu(me.internal.getWidth(n)/2)+" "+Iu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Iu(me.internal.getWidth(n)/2)+" "+Iu(me.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),e.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),e.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),e.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Ho(n);t.scope=n.scope;var e=[],i=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Iu(me.internal.getWidth(n)/2)+" "+Iu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Cross.YesNormal,t.D[n]=me.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Ho(n);t.scope=n.scope;var e=[],i=me.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+ze(me.internal.getWidth(n)-2)+" "+ze(me.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(ze(i.x1.x)+" "+ze(i.x1.y)+" m"),e.push(ze(i.x2.x)+" "+ze(i.x2.y)+" l"),e.push(ze(i.x4.x)+" "+ze(i.x4.y)+" m"),e.push(ze(i.x3.x)+" "+ze(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Ho(n);t.scope=n.scope;var e=me.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+ze(me.internal.getWidth(n))+" "+ze(me.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+ze(me.internal.getWidth(n)-2)+" "+ze(me.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(ze(e.x1.x)+" "+ze(e.x1.y)+" m"),i.push(ze(e.x2.x)+" "+ze(e.x2.y)+" l"),i.push(ze(e.x4.x)+" "+ze(e.x4.y)+" m"),i.push(ze(e.x3.x)+" "+ze(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Ho(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ze(me.internal.getWidth(n))+" "+ze(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};me.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=me.internal.getWidth(n),e=me.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},me.internal.getWidth=function(n){var t=0;return Fn(n)==="object"&&(t=Ob(n.Rect[2])),t},me.internal.getHeight=function(n){var t=0;return Fn(n)==="object"&&(t=Ob(n.Rect[3])),t};var x7=Ni.addField=function(n){if(w7(this,n),!(n instanceof uo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=kh,Ni.AcroFormListBox=jh,Ni.AcroFormComboBox=Vh,Ni.AcroFormEditBox=cg,Ni.AcroFormButton=Sr,Ni.AcroFormPushButton=hg,Ni.AcroFormRadioButton=Fh,Ni.AcroFormCheckBox=fg,Ni.AcroFormTextField=Ic,Ni.AcroFormPasswordField=dg,Ni.AcroFormAppearance=me,Ni.AcroForm={ChoiceField:kh,ListBox:jh,ComboBox:Vh,EditBox:cg,Button:Sr,PushButton:hg,RadioButton:Fh,CheckBox:fg,TextField:Ic,PasswordField:dg,Appearance:me},Re.AcroForm={ChoiceField:kh,ListBox:jh,ComboBox:Vh,EditBox:cg,Button:Sr,PushButton:hg,RadioButton:Fh,CheckBox:fg,TextField:Ic,PasswordField:dg,Appearance:me};Re.AcroForm;function m3(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(R,L){var M,nt,pt,et,ht,lt=t;if((L=L||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(ut(R))for(ht in e)for(pt=e[ht],M=0;M<pt.length;M+=1){for(et=!0,nt=0;nt<pt[M].length;nt+=1)if(pt[M][nt]!==void 0&&pt[M][nt]!==R[nt]){et=!1;break}if(et===!0){lt=ht;break}}else for(ht in e)for(pt=e[ht],M=0;M<pt.length;M+=1){for(et=!0,nt=0;nt<pt[M].length;nt+=1)if(pt[M][nt]!==void 0&&pt[M][nt]!==R.charCodeAt(nt)){et=!1;break}if(et===!0){lt=ht;break}}return lt===t&&L!==t&&(lt=L),lt},r=function R(L){for(var M=this.internal.write,nt=this.internal.putStream,pt=(0,this.internal.getFilters)();pt.indexOf("FlateEncode")!==-1;)pt.splice(pt.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var et=[];if(et.push({key:"Type",value:"/XObject"}),et.push({key:"Subtype",value:"/Image"}),et.push({key:"Width",value:L.width}),et.push({key:"Height",value:L.height}),L.colorSpace===I.INDEXED?et.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(et.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===I.DEVICE_CMYK&&et.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),et.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&et.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var ht="",lt=0,_t=L.transparency.length;lt<_t;lt++)ht+=L.transparency[lt]+" "+L.transparency[lt]+" ";et.push({key:"Mask",value:"["+ht+"]"})}L.sMask!==void 0&&et.push({key:"SMask",value:L.objectId+1+" 0 R"});var Q=L.filter!==void 0?["/"+L.filter]:void 0;if(nt({data:L.data,additionalKeyValues:et,alreadyAppliedFilters:Q,objectId:L.objectId}),M("endobj"),"sMask"in L&&L.sMask!==void 0){var vt="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,j={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:vt,data:L.sMask};"filter"in L&&(j.filter=L.filter),R.call(this,j)}if(L.colorSpace===I.INDEXED){var W=this.internal.newObject();nt({data:C(new Uint8Array(L.palette)),objectId:W}),M("endobj")}},a=function(){var R=this.internal.collections.addImage_images;for(var L in R)r.call(this,R[L])},l=function(){var R,L=this.internal.collections.addImage_images,M=this.internal.write;for(var nt in L)M("/I"+(R=L[nt]).index,R.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var R=this.internal.collections.addImage_images;return u.call(this),R},f=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(R){return typeof n["process"+R.toUpperCase()]=="function"},v=function(R){return Fn(R)==="object"&&R.nodeType===1},w=function(R,L){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var M=""+R.getAttribute("src");if(M.indexOf("data:image/")===0)return ld(unescape(M).split("base64,").pop());var nt=n.loadFile(M,!0);if(nt!==void 0)return nt}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var pt;switch(L){case"PNG":pt="image/png";break;case"WEBP":pt="image/webp";break;case"JPEG":case"JPG":default:pt="image/jpeg"}return ld(R.toDataURL(pt,1).split("base64,").pop())}},_=function(R){var L=this.internal.collections.addImage_images;if(L){for(var M in L)if(R===L[M].alias)return L[M]}},T=function(R,L,M){return R||L||(R=-96,L=-96),R<0&&(R=-1*M.width*72/R/this.internal.scaleFactor),L<0&&(L=-1*M.height*72/L/this.internal.scaleFactor),R===0&&(R=L*M.width/M.height),L===0&&(L=R*M.height/M.width),[R,L]},N=function(R,L,M,nt,pt,et){var ht=T.call(this,M,nt,pt),lt=this.internal.getCoordinateString,_t=this.internal.getVerticalCoordinateString,Q=h.call(this);if(M=ht[0],nt=ht[1],Q[pt.index]=pt,et){et*=Math.PI/180;var vt=Math.cos(et),j=Math.sin(et),W=function(at){return at.toFixed(4)},tt=[W(vt),W(j),W(-1*j),W(vt),0,0,"cm"]}this.internal.write("q"),et?(this.internal.write([1,"0","0",1,lt(R),_t(L+nt),"cm"].join(" ")),this.internal.write(tt.join(" ")),this.internal.write([lt(M),"0","0",lt(nt),"0","0","cm"].join(" "))):this.internal.write([lt(M),"0","0",lt(nt),lt(R),_t(L+nt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pt.index+" Do"),this.internal.write("Q")},I=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},q=n.__addimage__.sHashCode=function(R){var L,M,nt=0;if(typeof R=="string")for(M=R.length,L=0;L<M;L++)nt=(nt<<5)-nt+R.charCodeAt(L),nt|=0;else if(ut(R))for(M=R.byteLength/2,L=0;L<M;L++)nt=(nt<<5)-nt+R[L],nt|=0;return nt},J=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var L=!0;return R.length===0&&(L=!1),R.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(L=!1),L},ot=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var L=R.indexOf(",");return L<0?null:R.substring(0,L).trim().endsWith("base64")?R.substring(L+1):null},$=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return $()&&R instanceof ArrayBuffer};var ut=n.__addimage__.isArrayBufferView=function(R){return $()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},F=n.__addimage__.binaryStringToUint8Array=function(R){for(var L=R.length,M=new Uint8Array(L),nt=0;nt<L;nt++)M[nt]=R.charCodeAt(nt);return M},C=n.__addimage__.arrayBufferToBinaryString=function(R){for(var L="",M=ut(R)?R:new Uint8Array(R),nt=0;nt<M.length;nt+=8192)L+=String.fromCharCode.apply(null,M.subarray(nt,nt+8192));return L};n.addImage=function(){var R,L,M,nt,pt,et,ht,lt,_t;if(typeof arguments[1]=="number"?(L=t,M=arguments[1],nt=arguments[2],pt=arguments[3],et=arguments[4],ht=arguments[5],lt=arguments[6],_t=arguments[7]):(L=arguments[1],M=arguments[2],nt=arguments[3],pt=arguments[4],et=arguments[5],ht=arguments[6],lt=arguments[7],_t=arguments[8]),Fn(R=arguments[0])==="object"&&!v(R)&&"imageData"in R){var Q=R;R=Q.imageData,L=Q.format||L||t,M=Q.x||M||0,nt=Q.y||nt||0,pt=Q.w||Q.width||pt,et=Q.h||Q.height||et,ht=Q.alias||ht,lt=Q.compression||lt,_t=Q.rotation||Q.angle||_t}var vt=this.internal.getFilters();if(lt===void 0&&vt.indexOf("FlateEncode")!==-1&&(lt="SLOW"),isNaN(M)||isNaN(nt))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var j=k.call(this,R,L,ht,lt);return N.call(this,M,nt,pt,et,j,_t),this};var k=function(R,L,M,nt){var pt,et,ht;if(typeof R=="string"&&i(R)===t){R=unescape(R);var lt=U(R,!1);(lt!==""||(lt=n.loadFile(R,!0))!==void 0)&&(R=lt)}if(v(R)&&(R=w(R,L)),L=i(R,L),!g(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ht=M)==null||ht.length===0)&&(M=function(_t){return typeof _t=="string"||ut(_t)?q(_t):ut(_t.data)?q(_t.data):null}(R)),(pt=_.call(this,M))||($()&&(R instanceof Uint8Array||L==="RGBA"||(et=R,R=F(R))),pt=this["process"+L.toUpperCase()](R,f.call(this),M,function(_t){return _t&&typeof _t=="string"&&(_t=_t.toUpperCase()),_t in n.image_compression?_t:O.NONE}(nt),et)),!pt)throw new Error("An unknown error occurred whilst processing the image.");return pt},U=n.__addimage__.convertBase64ToBinaryString=function(R,L){L=typeof L!="boolean"||L;var M,nt="";if(typeof R=="string"){var pt;M=(pt=ot(R))!==null&&pt!==void 0?pt:R;try{nt=ld(M)}catch(et){if(L)throw J(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+et.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return nt};n.getImageProperties=function(R){var L,M,nt="";if(v(R)&&(R=w(R)),typeof R=="string"&&i(R)===t&&((nt=U(R,!1))===""&&(nt=n.loadFile(R)||""),R=nt),M=i(R),!g(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!$()||R instanceof Uint8Array||(R=F(R)),!(L=this["process"+M.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=M,L}})(Re.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Re.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,a,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),f=e.pageContext.annotations,g=!1,v=0;v<f.length&&!g;v++)switch((i=f[v]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){i=f[w];var _=this.internal.pdfEscape,T=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(N.objId),q=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+l(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+_(O(i.contents))+")",a+=" /Popup "+I.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+_(O(q))+") >>",N.content=a;var J=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+l(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+J,i.open&&(a+=" /Open true"),a+=" >>",I.content=a,this.internal.write(N.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+l(i.bounds.x)+" "+u(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var ot=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+_(T(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ot+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var $=this.annotations._nameMap[i.options.name];i.options.pageNumber=$.page,i.options.top=$.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+_(T(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ut=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+ut+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,a,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:f(i),w:h(e+r),h:f(i+a)},options:l,type:"link"})},n.textWithLink=function(e,i,r,a){var l,u,h=this.getTextWidth(e),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var g=this.splitTextToSize(e,u).length;l=Math.ceil(f*g)}else u=h,l=f;return this.text(e,i,r,a),r+=.2*f,a.align==="center"&&(i-=h/2),a.align==="right"&&(i-=h),this.link(i,r-f,u,l,a),h},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Re.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=n.__arabicParser__.isArabicEndLetter=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(N){return l(N)&&r.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return l(N)&&a(N)&&t[N.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(N){var I=0,O=e,q="",J=0;for(I=0;I<N.length;I+=1)O[N.charCodeAt(I)]!==void 0?(J++,typeof(O=O[N.charCodeAt(I)])=="number"&&(q+=String.fromCharCode(O),O=e,J=0),I===N.length-1&&(O=e,q+=N.charAt(I-(J-1)),I-=J-1,J=0)):(O=e,q+=N.charAt(I-J),I-=J,J=0);return q};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(N,I,O){return l(N)?a(N)===!1?-1:!f(N)||!l(I)&&!l(O)||!l(O)&&u(I)||u(N)&&!l(I)||u(N)&&h(I)||u(N)&&u(I)?0:g(N)&&l(I)&&!u(I)&&l(O)&&f(O)?3:u(N)||!l(O)?1:2:-1},_=function(N){var I=0,O=0,q=0,J="",ot="",$="",ut=(N=N||"").split("\\s+"),F=[];for(I=0;I<ut.length;I+=1){for(F.push(""),O=0;O<ut[I].length;O+=1)J=ut[I][O],ot=ut[I][O-1],$=ut[I][O+1],l(J)?(q=w(J,ot,$),F[I]+=q!==-1?String.fromCharCode(t[J.charCodeAt(0)][q]):J):F[I]+=J;F[I]=v(F[I])}return F.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var N,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(I)){var q=0;for(O=[],q=0;q<I.length;q+=1)Array.isArray(I[q])?O.push([_(I[q][0]),I[q][1],I[q][2]]):O.push([_(I[q])]);N=O}else N=_(I);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",T])}(Re.API),Re.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Re.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(N){T=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,f){i.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,_=0,T=0,N=0,I=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var O=f.maxWidth;O>0?typeof h=="string"?h=this.splitTextToSize(h,O):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(J,ot){return J.concat(I.splitTextToSize(ot,O))},[])):h=Array.isArray(h)?h:[h];for(var q=0;q<h.length;q++)_<(N=this.getStringUnitWidth(h[q],{font:v})*g)&&(_=N);return _!==0&&(T=h.length),{w:_/=w,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,_&&w&&(this.printHeaderRow(h.lineNumber,!0),h.y+=w[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-g,h.y+g,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+g,{align:"center",baseline:"top",maxWidth:h.width-g-g}):this.text(h.text,h.x+g,h.y+g,{align:"left",baseline:"top",maxWidth:h.width-g-g})),this.internal.__cell__.lastCell=h,this};n.table=function(h,f,g,v,w){if(i.call(this),!g)throw new Error("No data for PDF table.");var _,T,N,I,O=[],q=[],J=[],ot={},$={},ut=[],F=[],C=(w=w||{}).autoSize||!1,k=w.printHeaders!==!1,U=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,R=w.margins||Object.assign({width:this.getPageWidth()},t),L=typeof w.padding=="number"?w.padding:3,M=w.headerBackgroundColor||"#c8c8c8",nt=w.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=nt,this.setFontSize(U),v==null)q=O=Object.keys(g[0]),J=O.map(function(){return"left"});else if(Array.isArray(v)&&Fn(v[0])==="object")for(O=v.map(function(Q){return Q.name}),q=v.map(function(Q){return Q.prompt||Q.name||""}),J=v.map(function(Q){return Q.align||"left"}),_=0;_<v.length;_+=1)$[v[_].name]=v[_].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(q=O=v,J=O.map(function(){return"left"}));if(C||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<O.length;_+=1){for(ot[I=O[_]]=g.map(function(Q){return Q[I]}),this.setFont(void 0,"bold"),ut.push(this.getTextDimensions(q[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=ot[I],this.setFont(void 0,"normal"),N=0;N<T.length;N+=1)ut.push(this.getTextDimensions(T[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[I]=Math.max.apply(null,ut)+L+L,ut=[]}if(k){var pt={};for(_=0;_<O.length;_+=1)pt[O[_]]={},pt[O[_]].text=q[_],pt[O[_]].align=J[_];var et=u.call(this,pt,$);F=O.map(function(Q){return new a(h,f,$[Q],et,pt[Q].text,void 0,pt[Q].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ht=v.reduce(function(Q,vt){return Q[vt.name]=vt.align,Q},{});for(_=0;_<g.length;_+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:_,data:g[_]},this);var lt=u.call(this,g[_],$);for(N=0;N<O.length;N+=1){var _t=g[_][O[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:_,col:N,data:_t},this),l.call(this,new a(h,f,$[O[N]],lt,_t,_+2,ht[O[N]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var g=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(h).map(function(_){var T=h[_];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/w+g+g},this).reduce(function(_,T){return Math.max(_,T)},0)};n.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,w.push(g)),g.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(T)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(Re.API);var y3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},v3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Y0=m3(v3),b3=[100,200,300,400,500,600,700,800,900],S7=m3(b3);function X0(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return y3[a=a||"normal"]?a:"normal"}(n.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(a){return typeof Y0[a=a||"normal"]=="number"?a:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function kb(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var A7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function E7(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},A7,e.genericFontFamilies||{}),a=null,l=null,u=0;u<t.length;++u)if(r[(a=X0(t[u])).family]&&(a.family=r[a.family]),n.hasOwnProperty(a.family)){l=n[a.family];break}if(!(l=l||n[i]))throw new Error("Could not find a font-family for the rule '"+Vb(a)+"' and default family '"+i+"'.");if(l=function(h,f){if(f[h])return f[h];var g=Y0[h],v=g<=Y0.normal?-1:1,w=kb(f,v3,g,v);if(!w)throw new Error("Could not find a matching font-stretch value for "+h);return w}(a.stretch,l),l=function(h,f){if(f[h])return f[h];for(var g=y3[h],v=0;v<g.length;++v)if(f[g[v]])return f[g[v]];throw new Error("Could not find a matching font-style for "+h)}(a.style,l),!(l=function(h,f){if(f[h])return f[h];if(h===400&&f[500])return f[500];if(h===500&&f[400])return f[400];var g=S7[h],v=kb(f,b3,g,h<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+h);return v}(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Vb(a)+"'.");return l}function Fb(n){return n.trimLeft()}function T7(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function N7(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Up,Bb,zb,$1=["times"];(function(n){var t,e,i,r,a,l,u,h,f,g=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new h,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new l,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new l,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new g}]);var v=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=j;Object.defineProperty(this,"pdf",{get:function(){return W}});var tt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return tt},set:function(Vt){tt=!!Vt}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(Vt){at=!!Vt}});var ft=0;Object.defineProperty(this,"posX",{get:function(){return ft},set:function(Vt){isNaN(Vt)||(ft=Vt)}});var Tt=0;Object.defineProperty(this,"posY",{get:function(){return Tt},set:function(Vt){isNaN(Vt)||(Tt=Vt)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Vt){var ct;typeof Vt=="number"?ct=[Vt,Vt,Vt,Vt]:((ct=new Array(4))[0]=Vt[0],ct[1]=Vt.length>=2?Vt[1]:ct[0],ct[2]=Vt.length>=3?Vt[2]:ct[0],ct[3]=Vt.length>=4?Vt[3]:ct[1]),f.margin=ct}});var Nt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Nt},set:function(Vt){Nt=Vt}});var Mt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Mt},set:function(Vt){Mt=Vt}});var Zt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Zt},set:function(Vt){Zt=Vt}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Vt){Vt instanceof g&&(f=Vt)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Vt){f.path=Vt}});var Qt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qt},set:function(Vt){Qt=Vt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Vt){var ct;ct=w(Vt),this.ctx.fillStyle=ct.style,this.ctx.isFillTransparent=ct.a===0,this.ctx.fillOpacity=ct.a,this.pdf.setFillColor(ct.r,ct.g,ct.b,{a:ct.a}),this.pdf.setTextColor(ct.r,ct.g,ct.b,{a:ct.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Vt){var ct=w(Vt);this.ctx.strokeStyle=ct.style,this.ctx.isStrokeTransparent=ct.a===0,this.ctx.strokeOpacity=ct.a,ct.a===0?this.pdf.setDrawColor(255,255,255):(ct.a,this.pdf.setDrawColor(ct.r,ct.g,ct.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Vt){["butt","round","square"].indexOf(Vt)!==-1&&(this.ctx.lineCap=Vt,this.pdf.setLineCap(Vt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Vt){isNaN(Vt)||(this.ctx.lineWidth=Vt,this.pdf.setLineWidth(Vt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Vt){["bevel","round","miter"].indexOf(Vt)!==-1&&(this.ctx.lineJoin=Vt,this.pdf.setLineJoin(Vt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Vt){isNaN(Vt)||(this.ctx.miterLimit=Vt,this.pdf.setMiterLimit(Vt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Vt){this.ctx.textBaseline=Vt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Vt){["right","end","center","left","start"].indexOf(Vt)!==-1&&(this.ctx.textAlign=Vt)}});var ie=null;function ee(Vt,ct){if(ie===null){var Ae=function(de){var $t=[];return Object.keys(de).forEach(function(te){de[te].forEach(function(ae){var oe=null;switch(ae){case"bold":oe={family:te,weight:"bold"};break;case"italic":oe={family:te,style:"italic"};break;case"bolditalic":oe={family:te,weight:"bold",style:"italic"};break;case"":case"normal":oe={family:te}}oe!==null&&(oe.ref={name:te,style:ae},$t.push(oe))})}),$t}(Vt.getFontList());ie=function(de){for(var $t={},te=0;te<de.length;++te){var ae=X0(de[te]),oe=ae.family,ve=ae.stretch,De=ae.style,je=ae.weight;$t[oe]=$t[oe]||{},$t[oe][ve]=$t[oe][ve]||{},$t[oe][ve][De]=$t[oe][ve][De]||{},$t[oe][ve][De][je]=ae}return $t}(Ae.concat(ct))}return ie}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(Vt){ie=null,we=Vt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Vt){var ct;if(this.ctx.font=Vt,(ct=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Vt))!==null){var Ae=ct[1];ct[2];var de=ct[3],$t=ct[4];ct[5];var te=ct[6],ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($t)[2];$t=Math.floor(ae==="px"?parseFloat($t)*this.pdf.internal.scaleFactor:ae==="em"?parseFloat($t)*this.pdf.getFontSize():parseFloat($t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($t);var oe=function(pe){var Ge,ue,ai=[],Xe=pe.trim();if(Xe==="")return $1;if(Xe in jb)return[jb[Xe]];for(;Xe!=="";){switch(ue=null,Ge=(Xe=Fb(Xe)).charAt(0)){case'"':case"'":ue=T7(Xe.substring(1),Ge);break;default:ue=N7(Xe)}if(ue===null||(ai.push(ue[0]),(Xe=Fb(ue[1]))!==""&&Xe.charAt(0)!==","))return $1;Xe=Xe.replace(/^,/,"")}return ai}(te);if(this.fontFaces){var ve=E7(ee(this.pdf,this.fontFaces),oe.map(function(pe){return{family:pe,stretch:"normal",weight:de,style:Ae}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var De="";(de==="bold"||parseInt(de,10)>=700||Ae==="bold")&&(De="bold"),Ae==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var je="",be={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ye=0;ye<oe.length;ye++){if(this.pdf.internal.getFont(oe[ye],De,{noFallback:!0,disableWarning:!0})!==void 0){je=oe[ye];break}if(De==="bolditalic"&&this.pdf.internal.getFont(oe[ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)je=oe[ye],De="bold";else if(this.pdf.internal.getFont(oe[ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){je=oe[ye],De="normal";break}}if(je===""){for(var He=0;He<oe.length;He++)if(be[oe[He]]){je=be[oe[He]];break}}je=je===""?"Times":je,this.pdf.setFont(je,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Vt){this.ctx.globalCompositeOperation=Vt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Vt){this.ctx.globalAlpha=Vt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Vt){this.ctx.lineDashOffset=Vt,vt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Vt){this.ctx.lineDash=Vt,vt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Vt){this.ctx.ignoreClearRect=!!Vt}})};v.prototype.setLineDash=function(j){this.lineDash=j},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){ot.call(this,"fill",!1)},v.prototype.stroke=function(){ot.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(j,W){if(isNaN(j)||isNaN(W))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var tt=this.ctx.transform.applyToPoint(new l(j,W));this.path.push({type:"mt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new l(j,W)},v.prototype.closePath=function(){var j=new l(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Fn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){j=new l(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(j.x,j.y)},v.prototype.lineTo=function(j,W){if(isNaN(j)||isNaN(W))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var tt=this.ctx.transform.applyToPoint(new l(j,W));this.path.push({type:"lt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new l(tt.x,tt.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ot.call(this,null,!0)},v.prototype.quadraticCurveTo=function(j,W,tt,at){if(isNaN(tt)||isNaN(at)||isNaN(j)||isNaN(W))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ft=this.ctx.transform.applyToPoint(new l(tt,at)),Tt=this.ctx.transform.applyToPoint(new l(j,W));this.path.push({type:"qct",x1:Tt.x,y1:Tt.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new l(ft.x,ft.y)},v.prototype.bezierCurveTo=function(j,W,tt,at,ft,Tt){if(isNaN(ft)||isNaN(Tt)||isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Nt=this.ctx.transform.applyToPoint(new l(ft,Tt)),Mt=this.ctx.transform.applyToPoint(new l(j,W)),Zt=this.ctx.transform.applyToPoint(new l(tt,at));this.path.push({type:"bct",x1:Mt.x,y1:Mt.y,x2:Zt.x,y2:Zt.y,x:Nt.x,y:Nt.y}),this.ctx.lastPoint=new l(Nt.x,Nt.y)},v.prototype.arc=function(j,W,tt,at,ft,Tt){if(isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at)||isNaN(ft))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Tt=!!Tt,!this.ctx.transform.isIdentity){var Nt=this.ctx.transform.applyToPoint(new l(j,W));j=Nt.x,W=Nt.y;var Mt=this.ctx.transform.applyToPoint(new l(0,tt)),Zt=this.ctx.transform.applyToPoint(new l(0,0));tt=Math.sqrt(Math.pow(Mt.x-Zt.x,2)+Math.pow(Mt.y-Zt.y,2))}Math.abs(ft-at)>=2*Math.PI&&(at=0,ft=2*Math.PI),this.path.push({type:"arc",x:j,y:W,radius:tt,startAngle:at,endAngle:ft,counterclockwise:Tt})},v.prototype.arcTo=function(j,W,tt,at,ft){throw new Error("arcTo not implemented.")},v.prototype.rect=function(j,W,tt,at){if(isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,W),this.lineTo(j+tt,W),this.lineTo(j+tt,W+at),this.lineTo(j,W+at),this.lineTo(j,W),this.lineTo(j+tt,W),this.lineTo(j,W)},v.prototype.fillRect=function(j,W,tt,at){if(isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ft={};this.lineCap!=="butt"&&(ft.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ft.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,W,tt,at),this.fill(),ft.hasOwnProperty("lineCap")&&(this.lineCap=ft.lineCap),ft.hasOwnProperty("lineJoin")&&(this.lineJoin=ft.lineJoin)}},v.prototype.strokeRect=function(j,W,tt,at){if(isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(j,W,tt,at),this.stroke())},v.prototype.clearRect=function(j,W,tt,at){if(isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,W,tt,at))},v.prototype.save=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},v.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("Q");this.pdf.setPage(W),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(j){var W,tt,at,ft;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))W=0,tt=0,at=0,ft=0;else{var Tt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Tt!==null)W=parseInt(Tt[1]),tt=parseInt(Tt[2]),at=parseInt(Tt[3]),ft=1;else if((Tt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)W=parseInt(Tt[1]),tt=parseInt(Tt[2]),at=parseInt(Tt[3]),ft=parseFloat(Tt[4]);else{if(ft=1,typeof j=="string"&&j.charAt(0)!=="#"){var Nt=new c3(j);j=Nt.ok?Nt.toHex():"#000000"}j.length===4?(W=j.substring(1,2),W+=W,tt=j.substring(2,3),tt+=tt,at=j.substring(3,4),at+=at):(W=j.substring(1,3),tt=j.substring(3,5),at=j.substring(5,7)),W=parseInt(W,16),tt=parseInt(tt,16),at=parseInt(at,16)}}return{r:W,g:tt,b:at,a:ft,style:j}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(j,W,tt,at){if(isNaN(W)||isNaN(tt)||typeof j!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!_.call(this)){var ft=lt(this.ctx.transform.rotation),Tt=this.ctx.transform.scaleX;L.call(this,{text:j,x:W,y:tt,scale:Tt,angle:ft,align:this.textAlign,maxWidth:at})}},v.prototype.strokeText=function(j,W,tt,at){if(isNaN(W)||isNaN(tt)||typeof j!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){at=isNaN(at)?void 0:at;var ft=lt(this.ctx.transform.rotation),Tt=this.ctx.transform.scaleX;L.call(this,{text:j,x:W,y:tt,scale:Tt,renderingMode:"stroke",angle:ft,align:this.textAlign,maxWidth:at})}},v.prototype.measureText=function(j){if(typeof j!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,tt=this.pdf.internal.scaleFactor,at=W.internal.getFontSize(),ft=W.getStringUnitWidth(j)*at/W.internal.scaleFactor,Tt=function(Nt){var Mt=(Nt=Nt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Mt}}),this};return new Tt({width:ft*=Math.round(96*tt/72*1e4)/1e4})},v.prototype.scale=function(j,W){if(isNaN(j)||isNaN(W))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var tt=new h(j,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(tt)},v.prototype.rotate=function(j){if(isNaN(j))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new h(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},v.prototype.translate=function(j,W){if(isNaN(j)||isNaN(W))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var tt=new h(1,0,0,1,j,W);this.ctx.transform=this.ctx.transform.multiply(tt)},v.prototype.transform=function(j,W,tt,at,ft,Tt){if(isNaN(j)||isNaN(W)||isNaN(tt)||isNaN(at)||isNaN(ft)||isNaN(Tt))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Nt=new h(j,W,tt,at,ft,Tt);this.ctx.transform=this.ctx.transform.multiply(Nt)},v.prototype.setTransform=function(j,W,tt,at,ft,Tt){j=isNaN(j)?1:j,W=isNaN(W)?0:W,tt=isNaN(tt)?0:tt,at=isNaN(at)?1:at,ft=isNaN(ft)?0:ft,Tt=isNaN(Tt)?0:Tt,this.ctx.transform=new h(j,W,tt,at,ft,Tt)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(j,W,tt,at,ft,Tt,Nt,Mt,Zt){var Qt=this.pdf.getImageProperties(j),ie=1,ee=1,we=1,Vt=1;at!==void 0&&Mt!==void 0&&(we=Mt/at,Vt=Zt/ft,ie=Qt.width/at*Mt/at,ee=Qt.height/ft*Zt/ft),Tt===void 0&&(Tt=W,Nt=tt,W=0,tt=0),at!==void 0&&Mt===void 0&&(Mt=at,Zt=ft),at===void 0&&Mt===void 0&&(Mt=Qt.width,Zt=Qt.height);for(var ct,Ae=this.ctx.transform.decompose(),de=lt(Ae.rotate.shx),$t=new h,te=($t=($t=($t=$t.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new u(Tt-W*we,Nt-tt*Vt,at*ie,ft*ee)),ae=I.call(this,te),oe=[],ve=0;ve<ae.length;ve+=1)oe.indexOf(ae[ve])===-1&&oe.push(ae[ve]);if(J(oe),this.autoPaging)for(var De=oe[0],je=oe[oe.length-1],be=De;be<je+1;be++){this.pdf.setPage(be);var ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=be===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=be===1?0:pe+(be-2)*Ge;if(this.ctx.clip_path.length!==0){var ai=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(ct,this.posX+this.margin[3],-ue+He+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=ai}var Xe=JSON.parse(JSON.stringify(te));Xe=q([Xe],this.posX+this.margin[3],-ue+He+this.ctx.prevPageLastElemOffset)[0];var Ji=(be>De||be<je)&&N.call(this);Ji&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ye,Ge,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,de),Ji&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",te.x,te.y,te.w,te.h,null,null,de)};var I=function(j,W,tt){var at=[];W=W||this.pdf.internal.pageSize.width,tt=tt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ft=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":at.push(Math.floor((j.y+ft)/tt)+1);break;case"arc":at.push(Math.floor((j.y+ft-j.radius)/tt)+1),at.push(Math.floor((j.y+ft+j.radius)/tt)+1);break;case"qct":var Tt=_t(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);at.push(Math.floor((Tt.y+ft)/tt)+1),at.push(Math.floor((Tt.y+Tt.h+ft)/tt)+1);break;case"bct":var Nt=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);at.push(Math.floor((Nt.y+ft)/tt)+1),at.push(Math.floor((Nt.y+Nt.h+ft)/tt)+1);break;case"rect":at.push(Math.floor((j.y+ft)/tt)+1),at.push(Math.floor((j.y+j.h+ft)/tt)+1)}for(var Mt=0;Mt<at.length;Mt+=1)for(;this.pdf.internal.getNumberOfPages()<at[Mt];)O.call(this);return at},O=function(){var j=this.fillStyle,W=this.strokeStyle,tt=this.font,at=this.lineCap,ft=this.lineWidth,Tt=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=W,this.font=tt,this.lineCap=at,this.lineWidth=ft,this.lineJoin=Tt},q=function(j,W,tt){for(var at=0;at<j.length;at++)switch(j[at].type){case"bct":j[at].x2+=W,j[at].y2+=tt;case"qct":j[at].x1+=W,j[at].y1+=tt;case"mt":case"lt":case"arc":default:j[at].x+=W,j[at].y+=tt}return j},J=function(j){return j.sort(function(W,tt){return W-tt})},ot=function(j,W){for(var tt,at,ft=this.fillStyle,Tt=this.strokeStyle,Nt=this.lineCap,Mt=this.lineWidth,Zt=Math.abs(Mt*this.ctx.transform.scaleX),Qt=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),ee=JSON.parse(JSON.stringify(this.path)),we=[],Vt=0;Vt<ee.length;Vt++)if(ee[Vt].x!==void 0)for(var ct=I.call(this,ee[Vt]),Ae=0;Ae<ct.length;Ae+=1)we.indexOf(ct[Ae])===-1&&we.push(ct[Ae]);for(var de=0;de<we.length;de++)for(;this.pdf.internal.getNumberOfPages()<we[de];)O.call(this);if(J(we),this.autoPaging)for(var $t=we[0],te=we[we.length-1],ae=$t;ae<te+1;ae++){this.pdf.setPage(ae),this.fillStyle=ft,this.strokeStyle=Tt,this.lineCap=Nt,this.lineWidth=Zt,this.lineJoin=Qt;var oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=ae===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],be=ae===1?0:De+(ae-2)*je;if(this.ctx.clip_path.length!==0){var ye=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(tt,this.posX+this.margin[3],-be+ve+this.ctx.prevPageLastElemOffset),$.call(this,j,!0),this.path=ye}if(at=JSON.parse(JSON.stringify(ie)),this.path=q(at,this.posX+this.margin[3],-be+ve+this.ctx.prevPageLastElemOffset),W===!1||ae===0){var He=(ae>$t||ae<te)&&N.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,je,null).clip().discardPath()),$.call(this,j,W),He&&this.pdf.restoreGraphicsState()}this.lineWidth=Mt}else this.lineWidth=Zt,$.call(this,j,W),this.lineWidth=Mt;this.path=ie},$=function(j,W){if((j!=="stroke"||W||!T.call(this))&&(j==="stroke"||W||!_.call(this))){for(var tt,at,ft=[],Tt=this.path,Nt=0;Nt<Tt.length;Nt++){var Mt=Tt[Nt];switch(Mt.type){case"begin":ft.push({begin:!0});break;case"close":ft.push({close:!0});break;case"mt":ft.push({start:Mt,deltas:[],abs:[]});break;case"lt":var Zt=ft.length;if(Tt[Nt-1]&&!isNaN(Tt[Nt-1].x)&&(tt=[Mt.x-Tt[Nt-1].x,Mt.y-Tt[Nt-1].y],Zt>0)){for(;Zt>=0;Zt--)if(ft[Zt-1].close!==!0&&ft[Zt-1].begin!==!0){ft[Zt-1].deltas.push(tt),ft[Zt-1].abs.push(Mt);break}}break;case"bct":tt=[Mt.x1-Tt[Nt-1].x,Mt.y1-Tt[Nt-1].y,Mt.x2-Tt[Nt-1].x,Mt.y2-Tt[Nt-1].y,Mt.x-Tt[Nt-1].x,Mt.y-Tt[Nt-1].y],ft[ft.length-1].deltas.push(tt);break;case"qct":var Qt=Tt[Nt-1].x+2/3*(Mt.x1-Tt[Nt-1].x),ie=Tt[Nt-1].y+2/3*(Mt.y1-Tt[Nt-1].y),ee=Mt.x+2/3*(Mt.x1-Mt.x),we=Mt.y+2/3*(Mt.y1-Mt.y),Vt=Mt.x,ct=Mt.y;tt=[Qt-Tt[Nt-1].x,ie-Tt[Nt-1].y,ee-Tt[Nt-1].x,we-Tt[Nt-1].y,Vt-Tt[Nt-1].x,ct-Tt[Nt-1].y],ft[ft.length-1].deltas.push(tt);break;case"arc":ft.push({deltas:[],abs:[],arc:!0}),Array.isArray(ft[ft.length-1].abs)&&ft[ft.length-1].abs.push(Mt)}}at=W?null:j==="stroke"?"stroke":"fill";for(var Ae=!1,de=0;de<ft.length;de++)if(ft[de].arc)for(var $t=ft[de].abs,te=0;te<$t.length;te++){var ae=$t[te];ae.type==="arc"?C.call(this,ae.x,ae.y,ae.radius,ae.startAngle,ae.endAngle,ae.counterclockwise,void 0,W,!Ae):M.call(this,ae.x,ae.y),Ae=!0}else if(ft[de].close===!0)this.pdf.internal.out("h"),Ae=!1;else if(ft[de].begin!==!0){var oe=ft[de].start.x,ve=ft[de].start.y;nt.call(this,ft[de].deltas,oe,ve),Ae=!0}at&&k.call(this,at),W&&U.call(this)}},ut=function(j){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,tt=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-tt;case"top":return j+W-tt;case"hanging":return j+W-2*tt;case"middle":return j+W/2-tt;case"ideographic":return j;case"alphabetic":default:return j}},F=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(W,tt){this.colorStops.push([W,tt])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(j,W,tt,at,ft,Tt,Nt,Mt,Zt){for(var Qt=et.call(this,tt,at,ft,Tt),ie=0;ie<Qt.length;ie++){var ee=Qt[ie];ie===0&&(Zt?R.call(this,ee.x1+j,ee.y1+W):M.call(this,ee.x1+j,ee.y1+W)),pt.call(this,j,W,ee.x2,ee.y2,ee.x3,ee.y3,ee.x4,ee.y4)}Mt?U.call(this):k.call(this,Nt)},k=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(j,W){this.pdf.internal.out(e(j)+" "+i(W)+" m")},L=function(j){var W;switch(j.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var tt=this.pdf.getTextDimensions(j.text),at=ut.call(this,j.y),ft=F.call(this,at)-tt.h,Tt=this.ctx.transform.applyToPoint(new l(j.x,at)),Nt=this.ctx.transform.decompose(),Mt=new h;Mt=(Mt=(Mt=Mt.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale);for(var Zt,Qt,ie,ee=this.ctx.transform.applyToRectangle(new u(j.x,at,tt.w,tt.h)),we=Mt.applyToRectangle(new u(j.x,ft,tt.w,tt.h)),Vt=I.call(this,we),ct=[],Ae=0;Ae<Vt.length;Ae+=1)ct.indexOf(Vt[Ae])===-1&&ct.push(Vt[Ae]);if(J(ct),this.autoPaging)for(var de=ct[0],$t=ct[ct.length-1],te=de;te<$t+1;te++){this.pdf.setPage(te);var ae=te===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],De=ve-this.margin[0],je=this.pdf.internal.pageSize.width-this.margin[1],be=je-this.margin[3],ye=te===1?0:oe+(te-2)*De;if(this.ctx.clip_path.length!==0){var He=this.path;Zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Zt,this.posX+this.margin[3],-1*ye+ae),$.call(this,"fill",!0),this.path=He}var pe=q([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-ye+ae+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Qt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qt*j.scale),ie=this.lineWidth,this.lineWidth=ie*j.scale);var Ge=this.autoPaging!=="text";if(Ge||pe.y+pe.h<=ve){if(Ge||pe.y>=ae&&pe.x<=je){var ue=Ge?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||je-pe.x)[0],ai=q([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-ye+ae+this.ctx.prevPageLastElemOffset)[0],Xe=Ge&&(te>de||te<$t)&&N.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,De,null).clip().discardPath()),this.pdf.text(ue,ai.x,ai.y,{angle:j.angle,align:W,renderingMode:j.renderingMode}),Xe&&this.pdf.restoreGraphicsState()}}else pe.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-pe.y);j.scale>=.01&&(this.pdf.setFontSize(Qt),this.lineWidth=ie)}else j.scale>=.01&&(Qt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qt*j.scale),ie=this.lineWidth,this.lineWidth=ie*j.scale),this.pdf.text(j.text,Tt.x+this.posX,Tt.y+this.posY,{angle:j.angle,align:W,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Qt),this.lineWidth=ie)},M=function(j,W,tt,at){tt=tt||0,at=at||0,this.pdf.internal.out(e(j+tt)+" "+i(W+at)+" l")},nt=function(j,W,tt){return this.pdf.lines(j,W,tt,null,null)},pt=function(j,W,tt,at,ft,Tt,Nt,Mt){this.pdf.internal.out([t(r(tt+j)),t(a(at+W)),t(r(ft+j)),t(a(Tt+W)),t(r(Nt+j)),t(a(Mt+W)),"c"].join(" "))},et=function(j,W,tt,at){for(var ft=2*Math.PI,Tt=Math.PI/2;W>tt;)W-=ft;var Nt=Math.abs(tt-W);Nt<ft&&at&&(Nt=ft-Nt);for(var Mt=[],Zt=at?-1:1,Qt=W;Nt>1e-5;){var ie=Qt+Zt*Math.min(Nt,Tt);Mt.push(ht.call(this,j,Qt,ie)),Nt-=Math.abs(ie-Qt),Qt=ie}return Mt},ht=function(j,W,tt){var at=(tt-W)/2,ft=j*Math.cos(at),Tt=j*Math.sin(at),Nt=ft,Mt=-Tt,Zt=Nt*Nt+Mt*Mt,Qt=Zt+Nt*ft+Mt*Tt,ie=4/3*(Math.sqrt(2*Zt*Qt)-Qt)/(Nt*Tt-Mt*ft),ee=Nt-ie*Mt,we=Mt+ie*Nt,Vt=ee,ct=-we,Ae=at+W,de=Math.cos(Ae),$t=Math.sin(Ae);return{x1:j*Math.cos(W),y1:j*Math.sin(W),x2:ee*de-we*$t,y2:ee*$t+we*de,x3:Vt*de-ct*$t,y3:Vt*$t+ct*de,x4:j*Math.cos(tt),y4:j*Math.sin(tt)}},lt=function(j){return 180*j/Math.PI},_t=function(j,W,tt,at,ft,Tt){var Nt=j+.5*(tt-j),Mt=W+.5*(at-W),Zt=ft+.5*(tt-ft),Qt=Tt+.5*(at-Tt),ie=Math.min(j,ft,Nt,Zt),ee=Math.max(j,ft,Nt,Zt),we=Math.min(W,Tt,Mt,Qt),Vt=Math.max(W,Tt,Mt,Qt);return new u(ie,we,ee-ie,Vt-we)},Q=function(j,W,tt,at,ft,Tt,Nt,Mt){var Zt,Qt,ie,ee,we,Vt,ct,Ae,de,$t,te,ae,oe,ve,De=tt-j,je=at-W,be=ft-tt,ye=Tt-at,He=Nt-ft,pe=Mt-Tt;for(Qt=0;Qt<41;Qt++)de=(ct=(ie=j+(Zt=Qt/40)*De)+Zt*((we=tt+Zt*be)-ie))+Zt*(we+Zt*(ft+Zt*He-we)-ct),$t=(Ae=(ee=W+Zt*je)+Zt*((Vt=at+Zt*ye)-ee))+Zt*(Vt+Zt*(Tt+Zt*pe-Vt)-Ae),Qt==0?(te=de,ae=$t,oe=de,ve=$t):(te=Math.min(te,de),ae=Math.min(ae,$t),oe=Math.max(oe,de),ve=Math.max(ve,$t));return new u(Math.round(te),Math.round(ae),Math.round(oe-te),Math.round(ve-ae))},vt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,W,tt=(j=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:W}));this.prevLineDash!==tt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=tt)}}})(Re.API),function(n){var t=function(a){var l,u,h,f,g,v,w,_,T,N;for(u=[],h=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>h;h+=4)(g=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(v=(g=((g=((g=((g=(g-(N=g%85))/85)-(T=g%85))/85)-(_=g%85))/85)-(w=g%85))/85)%85,u.push(v+33,w+33,_+33,T+33,N+33)):u.push(122);return function(I,O){for(var q=O;q>0;q--)I.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},e=function(a){var l,u,h,f,g,v=String,w="length",_=255,T="charCodeAt",N="slice",I="replace";for(a[N](-2),a=a[N](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),h=[],f=0,g=(a+=l="uuuuu"[N](a[w]%5||5))[w];g>f;f+=5)u=52200625*(a[T](f)-33)+614125*(a[T](f+1)-33)+7225*(a[T](f+2)-33)+85*(a[T](f+3)-33)+(a[T](f+4)-33),h.push(_&u>>24,_&u>>16,_&u>>8,_&u);return function(O,q){for(var J=q;J>0;J--)O.pop()}(h,l[w]),v.fromCharCode.apply(v,h)},i=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var u="",h=0;h<a.length;h+=2)u+=String.fromCharCode("0x"+(a[h]+a[h+1]));return u},r=function(a){for(var l=new Uint8Array(a.length),u=a.length;u--;)l[u]=a.charCodeAt(u);return a=(l=q0(l)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(a,l){var u=0,h=a||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(Re.API),function(n){n.loadFile=function(t,e,i){return function(r,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(h,f,g){var v=new XMLHttpRequest,w=0,_=function(T){var N=T.length,I=[],O=String.fromCharCode;for(w=0;w<N;w+=1)I.push(O(255&T.charCodeAt(w)));return I.join("")};if(v.open("GET",h,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?g(_(this.responseText)):g(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)}(r,a,l)}catch{}return u}(t,e,i)},n.loadImageFile=n.loadFile}(Re.API),function(n){function t(){return(Pe.html2canvas?Promise.resolve(Pe.html2canvas):j0(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function e(){return(Pe.DOMPurify?Promise.resolve(Pe.DOMPurify):j0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var u=Fn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(l,u){var h=document.createElement(l);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},a=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return f=(f=f.setProgress(1,l,1,[l])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,u){return l.__proto__=u||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(e).then(function(h){return this.set({src:r("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(f,g){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)g!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||v.appendChild(h(w,g));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var _=f[w],T=_.src.find(function(N){return N.format==="truetype"});T&&h.addFont(T.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,h.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},a.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(i(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(l,u){return this.then(function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},a.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(l=l||Re.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,u,h,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,u,h,f){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(f,g){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return h.updateProgress(null,f),v}).then(f,g).then(function(v){return h.updateProgress(1),v})})},a.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),g=h.call(f,l,u);return a.convert(g,this.__proto__)},a.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},a.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},a.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return a.convert(u,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Re.getPageSize=function(l,u,h){if(Fn(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var g,v=(""+h).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var _,T=0,N=0;if(w.hasOwnProperty(v))T=w[v][1]/g,N=w[v][0]/g;else try{T=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",N>T&&(_=N,N=T,T=_);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",T>N&&(_=N,N=T,T=_)}return{width:N,height:T,unit:u,k:g,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(X0):null;var h=new a(u);return u.worker?h:h.from(l).doCallback()}}(Re.API),Re.API.addJS=function(n){return zb=n,this.internal.events.subscribe("postPutResources",function(){Up=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Up+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Bb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Up!==void 0&&Bb!==void 0&&this.internal.out("/Names <</JavaScript "+Up+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var l=r[a],u=i.exec(l);if(u!=null){var h=u[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(a=0;a<f;a++){var v=e.internal.newObject();g.push(v);var w=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var _=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<g.length;a++)e.internal.write("(page_"+(a+1)+")"+g[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+_+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,a){var l={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(l),l},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var l=i.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=e.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])}(Re.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,a,l,u){var h,f=this.decode.DCT_DECODE,g=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=l||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=function(v){for(var w,_=256*v.charCodeAt(4)+v.charCodeAt(5),T=v.length,N={width:0,height:0,numcomponents:1},I=4;I<T;I+=2){if(I+=_,t.indexOf(v.charCodeAt(I+1))!==-1){w=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),N={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:w,numcomponents:v.charCodeAt(I+9)};break}_=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return N}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return g}}(Re.API);var wh,Hp,qb,Ub,Hb,C7=function(){var n,t,e;function i(a){var l,u,h,f,g,v,w,_,T,N,I,O,q,J;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(l=this.readUInt32(),T=(function(){var ot,$;for($=[],ot=0;ot<4;++ot)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),f=this.readUInt16()||100,v.delay=1e3*g/f,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,l-=4),a=v?.data||this.imgData,O=0;0<=l?O<l:O>l;0<=l?++O:--O)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((N=h-this.transparency.indexed.length)>0)for(q=0;0<=N?q<N:q>N;0<=N?++q:--q)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":w=(I=this.read(l)).indexOf(0),_=String.fromCharCode.apply(String,I.slice(0,w)),this.text[_]=String.fromCharCode.apply(String,I.slice(w+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(J=this.colorType)===4||J===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var l,u;for(u=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function g(v,w,_,T){var N,I,O,q,J,ot,$,ut,F,C,k,U,R,L,M,nt,pt,et,ht,lt,_t,Q=Math.ceil((f.width-v)/_),vt=Math.ceil((f.height-w)/T),j=f.width==Q&&f.height==vt;for(L=l*Q,U=j?u:new Uint8Array(L*vt),ot=a.length,R=0,I=0;R<vt&&h<ot;){switch(a[h++]){case 0:for(q=pt=0;pt<L;q=pt+=1)U[I++]=a[h++];break;case 1:for(q=et=0;et<L;q=et+=1)N=a[h++],J=q<l?0:U[I-l],U[I++]=(N+J)%256;break;case 2:for(q=ht=0;ht<L;q=ht+=1)N=a[h++],O=(q-q%l)/l,M=R&&U[(R-1)*L+O*l+q%l],U[I++]=(M+N)%256;break;case 3:for(q=lt=0;lt<L;q=lt+=1)N=a[h++],O=(q-q%l)/l,J=q<l?0:U[I-l],M=R&&U[(R-1)*L+O*l+q%l],U[I++]=(N+Math.floor((J+M)/2))%256;break;case 4:for(q=_t=0;_t<L;q=_t+=1)N=a[h++],O=(q-q%l)/l,J=q<l?0:U[I-l],R===0?M=nt=0:(M=U[(R-1)*L+O*l+q%l],nt=O&&U[(R-1)*L+(O-1)*l+q%l]),$=J+M-nt,ut=Math.abs($-J),C=Math.abs($-M),k=Math.abs($-nt),F=ut<=C&&ut<=k?J:C<=k?M:nt,U[I++]=(N+F)%256;break;default:throw new Error("Invalid filter algorithm: "+a[h-1])}if(!j){var W=((w+R*T)*f.width+v)*l,tt=R*L;for(q=0;q<Q;q+=1){for(var at=0;at<l;at+=1)u[W++]=U[tt++];W+=(_-1)*l}}R++}}return a=a7(a),f.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),u},i.prototype.decodePalette=function(){var a,l,u,h,f,g,v,w,_;for(u=this.palette,g=this.transparency.indexed||[],f=new Uint8Array((g.length||0)+u.length),h=0,a=0,l=v=0,w=u.length;v<w;l=v+=3)f[h++]=u[l],f[h++]=u[l+1],f[h++]=u[l+2],f[h++]=(_=g[a++])!=null?_:255;return f},i.prototype.copyToImageData=function(a,l){var u,h,f,g,v,w,_,T,N,I,O;if(h=this.colors,N=null,u=this.hasAlphaChannel,this.palette.length&&(N=(O=this._decodedPalette)!=null?O:this._decodedPalette=this.decodePalette(),h=4,u=!0),T=(f=a.data||a).length,v=N||l,g=w=0,h===1)for(;g<T;)_=N?4*l[g/4]:w,I=v[_++],f[g++]=I,f[g++]=I,f[g++]=I,f[g++]=u?v[_++]:255,w=_;else for(;g<T;)_=N?4*l[g/4]:w,f[g++]=v[_++],f[g++]=v[_++],f[g++]=v[_++],f[g++]=u?v[_++]:255,w=_},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(Pe)==="[object Window]"){try{t=Pe.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(a){var l;if(r()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var l,u,h,f,g,v,w,_;if(this.animation){for(_=[],u=g=0,v=(w=this.animation.frames).length;g<v;u=++g)l=w[u],h=a.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,f),l.imageData=h,_.push(l.image=n(h));return _}},i.prototype.renderFrame=function(a,l){var u,h,f;return u=(h=this.animation.frames)[l],f=h[l-1],l===0&&a.clearRect(0,0,this.width,this.height),f?.disposeOp===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):f?.disposeOp===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&a.clearRect(u.xOffset,u.yOffset,u.width,u.height),a.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(a){var l,u,h,f,g,v,w=this;return u=0,v=this.animation,f=v.numFrames,h=v.frames,g=v.numPlays,(l=function(){var _,T;if(_=u++%f,T=h[_],w.renderFrame(a,_),f>1&&u/f<g)return w.animation._timeout=setTimeout(l,T.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var l,u;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function L7(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],a=r>>7,l=1<<(7&r)+1;n[t++],n[t++];var u=null,h=null;a&&(u=t,h=l,t+=3*l);var f=!0,g=[],v=0,w=null,_=0,T=null;for(this.width=e,this.height=i;f&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,T=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((R=n[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[t++];v=n[t++]|n[t++]<<8,w=n[t++],(1&N)==0&&(w=null),_=N>>2&7,t++;break;case 254:for(;;){if(!((R=n[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var I=n[t++]|n[t++]<<8,O=n[t++]|n[t++]<<8,q=n[t++]|n[t++]<<8,J=n[t++]|n[t++]<<8,ot=n[t++],$=ot>>6&1,ut=1<<(7&ot)+1,F=u,C=h,k=!1;ot>>7&&(k=!0,F=t,C=ut,t+=3*ut);var U=t;for(t++;;){var R;if(!((R=n[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}g.push({x:I,y:O,width:q,height:J,has_local_palette:k,palette_offset:F,palette_size:C,data_offset:U,data_length:t-U,transparent_index:w,interlaced:!!$,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(L){if(L<0||L>=g.length)throw new Error("Frame index out of range.");return g[L]},this.decodeAndBlitFrameBGRA=function(L,M){var nt=this.frameInfo(L),pt=nt.width*nt.height,et=new Uint8Array(pt);Gb(n,nt.data_offset,et,pt);var ht=nt.palette_offset,lt=nt.transparent_index;lt===null&&(lt=256);var _t=nt.width,Q=e-_t,vt=_t,j=4*(nt.y*e+nt.x),W=4*((nt.y+nt.height)*e+nt.x),tt=j,at=4*Q;nt.interlaced===!0&&(at+=4*e*7);for(var ft=8,Tt=0,Nt=et.length;Tt<Nt;++Tt){var Mt=et[Tt];if(vt===0&&(vt=_t,(tt+=at)>=W&&(at=4*Q+4*e*(ft-1),tt=j+(_t+Q)*(ft<<1),ft>>=1)),Mt===lt)tt+=4;else{var Zt=n[ht+3*Mt],Qt=n[ht+3*Mt+1],ie=n[ht+3*Mt+2];M[tt++]=ie,M[tt++]=Qt,M[tt++]=Zt,M[tt++]=255}--vt}},this.decodeAndBlitFrameRGBA=function(L,M){var nt=this.frameInfo(L),pt=nt.width*nt.height,et=new Uint8Array(pt);Gb(n,nt.data_offset,et,pt);var ht=nt.palette_offset,lt=nt.transparent_index;lt===null&&(lt=256);var _t=nt.width,Q=e-_t,vt=_t,j=4*(nt.y*e+nt.x),W=4*((nt.y+nt.height)*e+nt.x),tt=j,at=4*Q;nt.interlaced===!0&&(at+=4*e*7);for(var ft=8,Tt=0,Nt=et.length;Tt<Nt;++Tt){var Mt=et[Tt];if(vt===0&&(vt=_t,(tt+=at)>=W&&(at=4*Q+4*e*(ft-1),tt=j+(_t+Q)*(ft<<1),ft>>=1)),Mt===lt)tt+=4;else{var Zt=n[ht+3*Mt],Qt=n[ht+3*Mt+1],ie=n[ht+3*Mt+2];M[tt++]=Zt,M[tt++]=Qt,M[tt++]=ie,M[tt++]=255}--vt}}}function Gb(n,t,e,i){for(var r=n[t++],a=1<<r,l=a+1,u=l+1,h=r+1,f=(1<<h)-1,g=0,v=0,w=0,_=n[t++],T=new Int32Array(4096),N=null;;){for(;g<16&&_!==0;)v|=n[t++]<<g,g+=8,_===1?_=n[t++]:--_;if(g<h)break;var I=v&f;if(v>>=h,g-=h,I!==a){if(I===l)break;for(var O=I<u?I:N,q=0,J=O;J>a;)J=T[J]>>8,++q;var ot=J;if(w+q+(O!==I?1:0)>i)return void Qn.log("Warning, gif stream longer than expected.");e[w++]=ot;var $=w+=q;for(O!==I&&(e[w++]=ot),J=O;q--;)J=T[J],e[--$]=255&J,J>>=8;N!==null&&u<4096&&(T[u++]=N<<8|ot,u>=f+1&&h<12&&(++h,f=f<<1|1)),N=I}else u=l+1,f=(1<<(h=r+1))-1,N=null}return w!==i&&Qn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Z1(n){var t,e,i,r,a,l=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),g=new Array(64),v=new Array(65535),w=new Array(65535),_=new Array(64),T=new Array(64),N=[],I=0,O=7,q=new Array(64),J=new Array(64),ot=new Array(64),$=new Array(256),ut=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function et(j,W){for(var tt=0,at=0,ft=new Array,Tt=1;Tt<=16;Tt++){for(var Nt=1;Nt<=j[Tt];Nt++)ft[W[at]]=[],ft[W[at]][0]=tt,ft[W[at]][1]=Tt,at++,tt++;tt*=2}return ft}function ht(j){for(var W=j[0],tt=j[1]-1;tt>=0;)W&1<<tt&&(I|=1<<O),tt--,--O<0&&(I==255?(lt(255),lt(0)):lt(I),O=7,I=0)}function lt(j){N.push(j)}function _t(j){lt(j>>8&255),lt(255&j)}function Q(j,W,tt,at,ft){for(var Tt,Nt=ft[0],Mt=ft[240],Zt=function($t,te){var ae,oe,ve,De,je,be,ye,He,pe,Ge,ue=0;for(pe=0;pe<8;++pe){ae=$t[ue],oe=$t[ue+1],ve=$t[ue+2],De=$t[ue+3],je=$t[ue+4],be=$t[ue+5],ye=$t[ue+6];var ai=ae+(He=$t[ue+7]),Xe=ae-He,Ji=oe+ye,Qe=oe-ye,Nn=ve+be,fr=ve-be,an=De+je,Ms=De-je,Bn=ai+an,Ci=ai-an,tr=Ji+Nn,zn=Ji-Nn;$t[ue]=Bn+tr,$t[ue+4]=Bn-tr;var Ee=.707106781*(zn+Ci);$t[ue+2]=Ci+Ee,$t[ue+6]=Ci-Ee;var on=.382683433*((Bn=Ms+fr)-(zn=Qe+Xe)),Or=.5411961*Bn+on,oi=1.306562965*zn+on,er=.707106781*(tr=fr+Qe),rs=Xe+er,ce=Xe-er;$t[ue+5]=ce+Or,$t[ue+3]=ce-Or,$t[ue+1]=rs+oi,$t[ue+7]=rs-oi,ue+=8}for(ue=0,pe=0;pe<8;++pe){ae=$t[ue],oe=$t[ue+8],ve=$t[ue+16],De=$t[ue+24],je=$t[ue+32],be=$t[ue+40],ye=$t[ue+48];var Cn=ae+(He=$t[ue+56]),Ln=ae-He,Xn=oe+ye,ni=oe-ye,li=ve+be,bi=ve-be,Ia=De+je,Ar=De-je,Ui=Cn+Ia,Li=Cn-Ia,_i=Xn+li,Ri=Xn-li;$t[ue]=Ui+_i,$t[ue+32]=Ui-_i;var qn=.707106781*(Ri+Li);$t[ue+16]=Li+qn,$t[ue+48]=Li-qn;var _n=.382683433*((Ui=Ar+bi)-(Ri=ni+Ln)),Ps=.5411961*Ui+_n,Os=1.306562965*Ri+_n,dr=.707106781*(_i=bi+ni),kr=Ln+dr,Ma=Ln-dr;$t[ue+40]=Ma+Ps,$t[ue+24]=Ma-Ps,$t[ue+8]=kr+Os,$t[ue+56]=kr-Os,ue++}for(pe=0;pe<64;++pe)Ge=$t[pe]*te[pe],_[pe]=Ge>0?Ge+.5|0:Ge-.5|0;return _}(j,W),Qt=0;Qt<64;++Qt)T[F[Qt]]=Zt[Qt];var ie=T[0]-tt;tt=T[0],ie==0?ht(at[0]):(ht(at[w[Tt=32767+ie]]),ht(v[Tt]));for(var ee=63;ee>0&&T[ee]==0;)ee--;if(ee==0)return ht(Nt),tt;for(var we,Vt=1;Vt<=ee;){for(var ct=Vt;T[Vt]==0&&Vt<=ee;)++Vt;var Ae=Vt-ct;if(Ae>=16){we=Ae>>4;for(var de=1;de<=we;++de)ht(Mt);Ae&=15}Tt=32767+T[Vt],ht(ft[(Ae<<4)+w[Tt]]),ht(v[Tt]),Vt++}return ee!=63&&ht(Nt),tt}function vt(j){j=Math.min(Math.max(j,1),100),a!=j&&(function(W){for(var tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ft=l((tt[at]*W+50)/100);ft=Math.min(Math.max(ft,1),255),u[F[at]]=ft}for(var Tt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Nt=0;Nt<64;Nt++){var Mt=l((Tt[Nt]*W+50)/100);Mt=Math.min(Math.max(Mt,1),255),h[F[Nt]]=Mt}for(var Zt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qt=0,ie=0;ie<8;ie++)for(var ee=0;ee<8;ee++)f[Qt]=1/(u[F[Qt]]*Zt[ie]*Zt[ee]*8),g[Qt]=1/(h[F[Qt]]*Zt[ie]*Zt[ee]*8),Qt++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),a=j)}this.encode=function(j,W){W&&vt(W),N=new Array,I=0,O=7,_t(65496),_t(65504),_t(16),lt(74),lt(70),lt(73),lt(70),lt(0),lt(1),lt(1),lt(0),_t(1),_t(1),lt(0),lt(0),function(){_t(65499),_t(132),lt(0);for(var oe=0;oe<64;oe++)lt(u[oe]);lt(1);for(var ve=0;ve<64;ve++)lt(h[ve])}(),function(oe,ve){_t(65472),_t(17),lt(8),_t(ve),_t(oe),lt(3),lt(1),lt(17),lt(0),lt(2),lt(17),lt(1),lt(3),lt(17),lt(1)}(j.width,j.height),function(){_t(65476),_t(418),lt(0);for(var oe=0;oe<16;oe++)lt(C[oe+1]);for(var ve=0;ve<=11;ve++)lt(k[ve]);lt(16);for(var De=0;De<16;De++)lt(U[De+1]);for(var je=0;je<=161;je++)lt(R[je]);lt(1);for(var be=0;be<16;be++)lt(L[be+1]);for(var ye=0;ye<=11;ye++)lt(M[ye]);lt(17);for(var He=0;He<16;He++)lt(nt[He+1]);for(var pe=0;pe<=161;pe++)lt(pt[pe])}(),_t(65498),_t(12),lt(3),lt(1),lt(0),lt(2),lt(17),lt(3),lt(17),lt(0),lt(63),lt(0);var tt=0,at=0,ft=0;I=0,O=7,this.encode.displayName="_encode_";for(var Tt,Nt,Mt,Zt,Qt,ie,ee,we,Vt,ct=j.data,Ae=j.width,de=j.height,$t=4*Ae,te=0;te<de;){for(Tt=0;Tt<$t;){for(Qt=$t*te+Tt,ee=-1,we=0,Vt=0;Vt<64;Vt++)ie=Qt+(we=Vt>>3)*$t+(ee=4*(7&Vt)),te+we>=de&&(ie-=$t*(te+1+we-de)),Tt+ee>=$t&&(ie-=Tt+ee-$t+4),Nt=ct[ie++],Mt=ct[ie++],Zt=ct[ie++],q[Vt]=(ut[Nt]+ut[Mt+256>>0]+ut[Zt+512>>0]>>16)-128,J[Vt]=(ut[Nt+768>>0]+ut[Mt+1024>>0]+ut[Zt+1280>>0]>>16)-128,ot[Vt]=(ut[Nt+1280>>0]+ut[Mt+1536>>0]+ut[Zt+1792>>0]>>16)-128;tt=Q(q,f,tt,t,i),at=Q(J,g,at,e,r),ft=Q(ot,g,ft,e,r),Tt+=32}te+=8}if(O>=0){var ae=[];ae[1]=O+1,ae[0]=(1<<O+1)-1,ht(ae)}return _t(65497),new Uint8Array(N)},n=n||50,function(){for(var j=String.fromCharCode,W=0;W<256;W++)$[W]=j(W)}(),t=et(C,k),e=et(L,M),i=et(U,R),r=et(nt,pt),function(){for(var j=1,W=2,tt=1;tt<=15;tt++){for(var at=j;at<W;at++)w[32767+at]=tt,v[32767+at]=[],v[32767+at][1]=tt,v[32767+at][0]=at;for(var ft=-(W-1);ft<=-j;ft++)w[32767+ft]=tt,v[32767+ft]=[],v[32767+ft][1]=tt,v[32767+ft][0]=W-1+ft;j<<=1,W<<=1}}(),function(){for(var j=0;j<256;j++)ut[j]=19595*j,ut[j+256>>0]=38470*j,ut[j+512>>0]=7471*j+32768,ut[j+768>>0]=-11059*j,ut[j+1024>>0]=-21709*j,ut[j+1280>>0]=32768*j+8421375,ut[j+1536>>0]=-27439*j,ut[j+1792>>0]=-5329*j}(),vt(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function so(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wb(n){function t(C){if(!C)throw Error("assert :P")}function e(C,k,U){for(var R=0;4>R;R++)if(C[k+R]!=U.charCodeAt(R))return!0;return!1}function i(C,k,U,R,L){for(var M=0;M<L;M++)C[k+M]=U[R+M]}function r(C,k,U,R){for(var L=0;L<R;L++)C[k+L]=U}function a(C){return new Int32Array(C)}function l(C,k){for(var U=[],R=0;R<C;R++)U.push(new k);return U}function u(C,k){var U=[];return function R(L,M,nt){for(var pt=nt[M],et=0;et<pt&&(L.push(nt.length>M+1?[]:new k),!(nt.length<M+1));et++)R(L[et],M+1,nt)}(U,0,C),U}var h=function(){var C=this;function k(p,b){for(var A=1<<b-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function U(p,b,A,D,B){t(!(D%A));do p[b+(D-=A)]=B;while(0<D)}function R(p,b,A,D,B){if(t(2328>=B),512>=B)var H=a(512);else if((H=a(B))==null)return 0;return function(G,Y,Z,rt,mt,Rt){var Ct,At,Ht=Y,kt=1<<Z,yt=a(16),wt=a(16);for(t(mt!=0),t(rt!=null),t(G!=null),t(0<Z),At=0;At<mt;++At){if(15<rt[At])return 0;++yt[rt[At]]}if(yt[0]==mt)return 0;for(wt[1]=0,Ct=1;15>Ct;++Ct){if(yt[Ct]>1<<Ct)return 0;wt[Ct+1]=wt[Ct]+yt[Ct]}for(At=0;At<mt;++At)Ct=rt[At],0<rt[At]&&(Rt[wt[Ct]++]=At);if(wt[15]==1)return(rt=new L).g=0,rt.value=Rt[0],U(G,Ht,1,kt,rt),kt;var Ft,Gt=-1,qt=kt-1,he=0,ne=1,_e=1,se=1<<Z;for(At=0,Ct=1,mt=2;Ct<=Z;++Ct,mt<<=1){if(ne+=_e<<=1,0>(_e-=yt[Ct]))return 0;for(;0<yt[Ct];--yt[Ct])(rt=new L).g=Ct,rt.value=Rt[At++],U(G,Ht+he,mt,se,rt),he=k(he,Ct)}for(Ct=Z+1,mt=2;15>=Ct;++Ct,mt<<=1){if(ne+=_e<<=1,0>(_e-=yt[Ct]))return 0;for(;0<yt[Ct];--yt[Ct]){if(rt=new L,(he&qt)!=Gt){for(Ht+=se,Ft=1<<(Gt=Ct)-Z;15>Gt&&!(0>=(Ft-=yt[Gt]));)++Gt,Ft<<=1;kt+=se=1<<(Ft=Gt-Z),G[Y+(Gt=he&qt)].g=Ft+Z,G[Y+Gt].value=Ht-Y-Gt}rt.g=Ct-Z,rt.value=Rt[At++],U(G,Ht+(he>>Z),mt,se,rt),he=k(he,Ct)}}return ne!=2*wt[15]-1?0:kt}(p,b,A,D,B,H)}function L(){this.value=this.g=0}function M(){this.value=this.g=0}function nt(){this.G=l(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ii,M)}function pt(p,b,A,D){t(p!=null),t(b!=null),t(2147483648>D),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=A,p.Jd=b,p.Yc=A+D,p.Zc=4<=D?A+D-4+1:A,Tt(p)}function et(p,b){for(var A=0;0<b--;)A|=Mt(p,128)<<b;return A}function ht(p,b){var A=et(p,b);return Nt(p)?-A:A}function lt(p,b,A,D){var B,H=0;for(t(p!=null),t(b!=null),t(4294967288>D),p.Sb=D,p.Ra=0,p.u=0,p.h=0,4<D&&(D=4),B=0;B<D;++B)H+=b[A+B]<<8*B;p.Ra=H,p.bb=D,p.oa=b,p.pa=A}function _t(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<gl-8>>>0,++p.bb,p.u-=8;tt(p)&&(p.h=1,p.u=0)}function Q(p,b){if(t(0<=b),!p.h&&b<=pl){var A=W(p)&wo[b];return p.u+=b,_t(p),A}return p.h=1,p.u=0}function vt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(p){return p.Ra>>>(p.u&gl-1)>>>0}function tt(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>gl}function at(p,b){p.u=b,p.h=tt(p)}function ft(p){p.u>=iu&&(t(p.u>=iu),_t(p))}function Tt(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Nt(p){return et(p,1)}function Mt(p,b){var A=p.Ca;0>p.b&&Tt(p);var D=p.b,B=A*b>>>8,H=(p.I>>>D>B)+0;for(H?(A-=B,p.I-=B+1<<D>>>0):A=B+1,D=A,B=0;256<=D;)B+=8,D>>=8;return D=7^B+qr[D],p.b-=D,p.Ca=(A<<D)-1,H}function Zt(p,b,A){p[b+0]=A>>24&255,p[b+1]=A>>16&255,p[b+2]=A>>8&255,p[b+3]=A>>0&255}function Qt(p,b){return p[b+0]<<0|p[b+1]<<8}function ie(p,b){return Qt(p,b)|p[b+2]<<16}function ee(p,b){return Qt(p,b)|Qt(p,b+2)<<16}function we(p,b){var A=1<<b;return t(p!=null),t(0<b),p.X=a(A),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function Vt(p,b){t(p!=null),t(b!=null),t(p.Xa==b.Xa),i(b.X,0,p.X,0,1<<b.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function Ae(p,b,A,D){t(A!=null),t(D!=null);var B=A[0],H=D[0];return B==0&&(B=(p*H+b/2)/b),H==0&&(H=(b*B+p/2)/p),0>=B||0>=H?0:(A[0]=B,D[0]=H,1)}function de(p,b){return p+(1<<b)-1>>>b}function $t(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function te(p,b){C[b]=function(A,D,B,H,G,Y,Z){var rt;for(rt=0;rt<G;++rt){var mt=C[p](Y[Z+rt-1],B,H+rt);Y[Z+rt]=$t(A[D+rt],mt)}}}function ae(){this.ud=this.hd=this.jd=0}function oe(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function ve(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function De(p,b){return ve(p+(p-b+.5>>1))}function je(p,b,A){return Math.abs(b-A)-Math.abs(p-A)}function be(p,b,A,D,B,H,G){for(D=H[G-1],A=0;A<B;++A)H[G+A]=D=$t(p[b+A],D)}function ye(p,b,A,D,B){var H;for(H=0;H<A;++H){var G=p[b+H],Y=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((Y<<16)+Y));D[B+H]=(4278255360&G)+Z>>>0}}function He(p,b){b.jd=p>>0&255,b.hd=p>>8&255,b.ud=p>>16&255}function pe(p,b,A,D,B,H){var G;for(G=0;G<D;++G){var Y=b[A+G],Z=Y>>>8,rt=Y,mt=255&(mt=(mt=Y>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));rt=255&(rt=(rt=rt+((p.hd<<24>>24)*(Z<<24>>24)>>>5))+((p.ud<<24>>24)*(mt<<24>>24)>>>5)),B[H+G]=(4278255360&Y)+(mt<<16)+rt}}function Ge(p,b,A,D,B){C[b]=function(H,G,Y,Z,rt,mt,Rt,Ct,At){for(Z=Rt;Z<Ct;++Z)for(Rt=0;Rt<At;++Rt)rt[mt++]=B(Y[D(H[G++])])},C[p]=function(H,G,Y,Z,rt,mt,Rt){var Ct=8>>H.b,At=H.Ea,Ht=H.K[0],kt=H.w;if(8>Ct)for(H=(1<<H.b)-1,kt=(1<<Ct)-1;G<Y;++G){var yt,wt=0;for(yt=0;yt<At;++yt)yt&H||(wt=D(Z[rt++])),mt[Rt++]=B(Ht[wt&kt]),wt>>=Ct}else C["VP8LMapColor"+A](Z,rt,Ht,kt,mt,Rt,G,Y,At)}}function ue(p,b,A,D,B){for(A=b+A;b<A;){var H=p[b++];D[B++]=H>>16&255,D[B++]=H>>8&255,D[B++]=H>>0&255}}function ai(p,b,A,D,B){for(A=b+A;b<A;){var H=p[b++];D[B++]=H>>16&255,D[B++]=H>>8&255,D[B++]=H>>0&255,D[B++]=H>>24&255}}function Xe(p,b,A,D,B){for(A=b+A;b<A;){var H=(G=p[b++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;D[B++]=H,D[B++]=G}}function Ji(p,b,A,D,B){for(A=b+A;b<A;){var H=(G=p[b++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;D[B++]=H,D[B++]=G}}function Qe(p,b,A,D,B){for(A=b+A;b<A;){var H=p[b++];D[B++]=H>>0&255,D[B++]=H>>8&255,D[B++]=H>>16&255}}function Nn(p,b,A,D,B,H){if(H==0)for(A=b+A;b<A;)Zt(D,((H=p[b++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else i(D,B,p,b,A)}function fr(p,b){C[b][0]=C[p+"0"],C[b][1]=C[p+"1"],C[b][2]=C[p+"2"],C[b][3]=C[p+"3"],C[b][4]=C[p+"4"],C[b][5]=C[p+"5"],C[b][6]=C[p+"6"],C[b][7]=C[p+"7"],C[b][8]=C[p+"8"],C[b][9]=C[p+"9"],C[b][10]=C[p+"10"],C[b][11]=C[p+"11"],C[b][12]=C[p+"12"],C[b][13]=C[p+"13"],C[b][14]=C[p+"0"],C[b][15]=C[p+"0"]}function an(p){return p==rc||p==Do||p==Wa||p==ou}function Ms(){this.eb=[],this.size=this.A=this.fb=0}function Bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ci(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ms,this.f.kb=new Bn,this.sd=null}function tr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ee(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function on(p,b){var A=p.T,D=b.ba.f.RGBA,B=D.eb,H=D.fb+p.ka*D.A,G=Yi[b.ba.S],Y=p.y,Z=p.O,rt=p.f,mt=p.N,Rt=p.ea,Ct=p.W,At=b.cc,Ht=b.dc,kt=b.Mc,yt=b.Nc,wt=p.ka,Ft=p.ka+p.T,Gt=p.U,qt=Gt+1>>1;for(wt==0?G(Y,Z,null,null,rt,mt,Rt,Ct,rt,mt,Rt,Ct,B,H,null,null,Gt):(G(b.ec,b.fc,Y,Z,At,Ht,kt,yt,rt,mt,Rt,Ct,B,H-D.A,B,H,Gt),++A);wt+2<Ft;wt+=2)At=rt,Ht=mt,kt=Rt,yt=Ct,mt+=p.Rc,Ct+=p.Rc,H+=2*D.A,G(Y,(Z+=2*p.fa)-p.fa,Y,Z,At,Ht,kt,yt,rt,mt,Rt,Ct,B,H-D.A,B,H,Gt);return Z+=p.fa,p.j+Ft<p.o?(i(b.ec,b.fc,Y,Z,Gt),i(b.cc,b.dc,rt,mt,qt),i(b.Mc,b.Nc,Rt,Ct,qt),A--):1&Ft||G(Y,Z,null,null,rt,mt,Rt,Ct,rt,mt,Rt,Ct,B,H+D.A,null,null,Gt),A}function Or(p,b,A){var D=p.F,B=[p.J];if(D!=null){var H=p.U,G=b.ba.S,Y=G==_l||G==Wa;b=b.ba.f.RGBA;var Z=[0],rt=p.ka;Z[0]=p.T,p.Kb&&(rt==0?--Z[0]:(--rt,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-rt));var mt=b.eb;rt=b.fb+rt*b.A,p=Ze(D,B[0],p.width,H,Z,mt,rt+(Y?0:3),b.A),t(A==Z),p&&an(G)&&ls(mt,rt,Y,H,Z,b.A)}return 0}function oi(p){var b=p.ma,A=b.ba.S,D=11>A,B=A==au||A==ic||A==_l||A==Ga||A==12||an(A);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!_o(b.Oa,p,B?11:12))return 0;if(B&&an(A)&&Xt(),p.da)alert("todo:use_scaling");else{if(D){if(b.Ib=Ee,p.Kb){if(A=p.U+1>>1,b.memory=a(p.U+2*A),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+A,b.Ib=on,Xt()}}else alert("todo:EmitYUV");B&&(b.Jb=Or,D&&St())}if(D&&!zd){for(p=0;256>p;++p)Em[p]=89858*(p-128)+Pi>>wa,oc[p]=-22014*(p-128)+Pi,of[p]=-45773*(p-128),Oi[p]=113618*(p-128)+Pi>>wa;for(p=Po;p<Zc;++p)b=76283*(p-16)+Pi>>wa,lc[p-Po]=xn(b,255),lf[p-Po]=xn(b+8>>4,15);zd=1}return 1}function er(p){var b=p.ma,A=p.U,D=p.T;return t(!(1&p.ka)),0>=A||0>=D?0:(A=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,A),b.Dc+=A,1)}function rs(p){p.ma.memory=null}function ce(p,b,A,D){return Q(p,8)!=47?0:(b[0]=Q(p,14)+1,A[0]=Q(p,14)+1,D[0]=Q(p,1),Q(p,3)!=0?0:!p.h)}function Cn(p,b){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+Q(b,A)+1}function Ln(p,b){return 120<b?b-120:1<=(A=((A=Xa[b-1])>>4)*p+(8-(15&A)))?A:1;var A}function Xn(p,b,A){var D=W(A),B=p[b+=255&D].g-8;return 0<B&&(at(A,A.u+8),D=W(A),b+=p[b].value,b+=D&(1<<B)-1),at(A,A.u+p[b].g),p[b].value}function ni(p,b,A){return A.g+=p.g,A.value+=p.value<<b>>>0,t(8>=A.g),p.g}function li(p,b,A){var D=p.xc;return t((b=D==0?0:p.vc[p.md*(A>>D)+(b>>D)])<p.Wb),p.Ya[b]}function bi(p,b,A,D){var B=p.ab,H=p.c*b,G=p.C;b=G+b;var Y=A,Z=D;for(D=p.Ta,A=p.Ua;0<B--;){var rt=p.gc[B],mt=G,Rt=b,Ct=Y,At=Z,Ht=(Z=D,Y=A,rt.Ea);switch(t(mt<Rt),t(Rt<=rt.nc),rt.hc){case 2:Gc(Ct,At,(Rt-mt)*Ht,Z,Y);break;case 0:var kt=mt,yt=Rt,wt=Z,Ft=Y,Gt=(se=rt).Ea;kt==0&&(sf(Ct,At,null,null,1,wt,Ft),be(Ct,At+1,0,0,Gt-1,wt,Ft+1),At+=Gt,Ft+=Gt,++kt);for(var qt=1<<se.b,he=qt-1,ne=de(Gt,se.b),_e=se.K,se=se.w+(kt>>se.b)*ne;kt<yt;){var fn=_e,Sn=se,Ke=1;for(ec(Ct,At,wt,Ft-Gt,1,wt,Ft);Ke<Gt;){var We=(Ke&~he)+qt;We>Gt&&(We=Gt),(0,qa[fn[Sn++]>>8&15])(Ct,At+ +Ke,wt,Ft+Ke-Gt,We-Ke,wt,Ft+Ke),Ke=We}At+=Gt,Ft+=Gt,++kt&he||(se+=ne)}Rt!=rt.nc&&i(Z,Y-Ht,Z,Y+(Rt-mt-1)*Ht,Ht);break;case 1:for(Ht=Ct,yt=At,Gt=(Ct=rt.Ea)-(Ft=Ct&~(wt=(At=1<<rt.b)-1)),kt=de(Ct,rt.b),qt=rt.K,rt=rt.w+(mt>>rt.b)*kt;mt<Rt;){for(he=qt,ne=rt,_e=new ae,se=yt+Ft,fn=yt+Ct;yt<se;)He(he[ne++],_e),So(_e,Ht,yt,At,Z,Y),yt+=At,Y+=At;yt<fn&&(He(he[ne++],_e),So(_e,Ht,yt,Gt,Z,Y),yt+=Gt,Y+=Gt),++mt&wt||(rt+=kt)}break;case 3:if(Ct==Z&&At==Y&&0<rt.b){for(yt=Z,Ct=Ht=Y+(Rt-mt)*Ht-(Ft=(Rt-mt)*de(rt.Ea,rt.b)),At=Z,wt=Y,kt=[],Ft=(Gt=Ft)-1;0<=Ft;--Ft)kt[Ft]=At[wt+Ft];for(Ft=Gt-1;0<=Ft;--Ft)yt[Ct+Ft]=kt[Ft];_s(rt,mt,Rt,Z,Ht,Z,Y)}else _s(rt,mt,Rt,Ct,At,Z,Y)}Y=D,Z=A}Z!=A&&i(D,A,Y,Z,H)}function Ia(p,b){var A=p.V,D=p.Ba+p.c*p.C,B=b-p.C;if(t(b<=p.l.o),t(16>=B),0<B){var H=p.l,G=p.Ta,Y=p.Ua,Z=H.width;if(bi(p,B,A,D),B=Y=[Y],t((A=p.C)<(D=b)),t(H.v<H.va),D>H.o&&(D=H.o),A<H.j){var rt=H.j-A;A=H.j,B[0]+=rt*Z}if(A>=D?A=0:(B[0]+=4*H.v,H.ka=A-H.j,H.U=H.va-H.v,H.T=D-A,A=1),A){if(Y=Y[0],11>(A=p.ca).S){var mt=A.f.RGBA,Rt=(D=A.S,B=H.U,H=H.T,rt=mt.eb,mt.A),Ct=H;for(mt=mt.fb+p.Ma*mt.A;0<Ct--;){var At=G,Ht=Y,kt=B,yt=rt,wt=mt;switch(D){case vr:Tr(At,Ht,kt,yt,wt);break;case au:sr(At,Ht,kt,yt,wt);break;case rc:sr(At,Ht,kt,yt,wt),ls(yt,wt,0,kt,1,0);break;case ya:Gs(At,Ht,kt,yt,wt);break;case ic:Nn(At,Ht,kt,yt,wt,1);break;case Do:Nn(At,Ht,kt,yt,wt,1),ls(yt,wt,0,kt,1,0);break;case _l:Nn(At,Ht,kt,yt,wt,0);break;case Wa:Nn(At,Ht,kt,yt,wt,0),ls(yt,wt,1,kt,1,0);break;case Ga:Ao(At,Ht,kt,yt,wt);break;case ou:Ao(At,Ht,kt,yt,wt),$e(yt,wt,kt,1,0);break;case Yc:Ur(At,Ht,kt,yt,wt);break;default:t(0)}Y+=Z,mt+=Rt}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=A.height)}}p.C=b,t(p.C<=p.i)}function Ar(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var A=p.Ya[b].G,D=p.Ya[b].H;if(0<A[1][D[1]+0].g||0<A[2][D[2]+0].g||0<A[3][D[3]+0].g)return 0}return 1}function Ui(p,b,A,D,B,H){if(p.Z!=0){var G=p.qd,Y=p.rd;for(t(ba[p.Z]!=null);b<A;++b)ba[p.Z](G,Y,D,B,D,B,H),G=D,Y=B,B+=H;p.qd=G,p.rd=Y}}function Li(p,b){var A=p.l.ma,D=A.Z==0||A.Z==1?p.l.j:p.C;if(D=p.C<D?D:p.C,t(b<=p.l.o),b>D){var B=p.l.width,H=A.ca,G=A.tb+B*D,Y=p.V,Z=p.Ba+p.c*D,rt=p.gc;t(p.ab==1),t(rt[0].hc==3),xo(rt[0],D,b,Y,Z,H,G),Ui(A,D,b,H,G,B)}p.C=p.Ma=b}function _i(p,b,A,D,B,H,G){var Y=p.$/D,Z=p.$%D,rt=p.m,mt=p.s,Rt=A+p.$,Ct=Rt;B=A+D*B;var At=A+D*H,Ht=280+mt.ua,kt=p.Pb?Y:16777216,yt=0<mt.ua?mt.Wa:null,wt=mt.wc,Ft=Rt<At?li(mt,Z,Y):null;t(p.C<H),t(At<=B);var Gt=!1;t:for(;;){for(;Gt||Rt<At;){var qt=0;if(Y>=kt){var he=Rt-A;t((kt=p).Pb),kt.wd=kt.m,kt.xd=he,0<kt.s.ua&&Vt(kt.s.Wa,kt.s.vb),kt=Y+Vd}if(Z&wt||(Ft=li(mt,Z,Y)),t(Ft!=null),Ft.Qb&&(b[Rt]=Ft.qb,Gt=!0),!Gt)if(ft(rt),Ft.jc){qt=rt,he=b;var ne=Rt,_e=Ft.pd[W(qt)&Ii-1];t(Ft.jc),256>_e.g?(at(qt,qt.u+_e.g),he[ne]=_e.value,qt=0):(at(qt,qt.u+_e.g-256),t(256<=_e.value),qt=_e.value),qt==0&&(Gt=!0)}else qt=Xn(Ft.G[0],Ft.H[0],rt);if(rt.h)break;if(Gt||256>qt){if(!Gt)if(Ft.nd)b[Rt]=(Ft.qb|qt<<8)>>>0;else{if(ft(rt),Gt=Xn(Ft.G[1],Ft.H[1],rt),ft(rt),he=Xn(Ft.G[2],Ft.H[2],rt),ne=Xn(Ft.G[3],Ft.H[3],rt),rt.h)break;b[Rt]=(ne<<24|Gt<<16|qt<<8|he)>>>0}if(Gt=!1,++Rt,++Z>=D&&(Z=0,++Y,G!=null&&Y<=H&&!(Y%16)&&G(p,Y),yt!=null))for(;Ct<Rt;)qt=b[Ct++],yt.X[(506832829*qt&4294967295)>>>yt.Mb]=qt}else if(280>qt){if(qt=Cn(qt-256,rt),he=Xn(Ft.G[4],Ft.H[4],rt),ft(rt),he=Ln(D,he=Cn(he,rt)),rt.h)break;if(Rt-A<he||B-Rt<qt)break t;for(ne=0;ne<qt;++ne)b[Rt+ne]=b[Rt+ne-he];for(Rt+=qt,Z+=qt;Z>=D;)Z-=D,++Y,G!=null&&Y<=H&&!(Y%16)&&G(p,Y);if(t(Rt<=B),Z&wt&&(Ft=li(mt,Z,Y)),yt!=null)for(;Ct<Rt;)qt=b[Ct++],yt.X[(506832829*qt&4294967295)>>>yt.Mb]=qt}else{if(!(qt<Ht))break t;for(Gt=qt-280,t(yt!=null);Ct<Rt;)qt=b[Ct++],yt.X[(506832829*qt&4294967295)>>>yt.Mb]=qt;qt=Rt,t(!(Gt>>>(he=yt).Xa)),b[qt]=he.X[Gt],Gt=!0}Gt||t(rt.h==tt(rt))}if(p.Pb&&rt.h&&Rt<B)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Vt(p.s.vb,p.s.Wa);else{if(rt.h)break t;G?.(p,Y>H?H:Y),p.a=0,p.$=Rt-A}return 1}return p.a=3,0}function Ri(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,t(p!=null)}function qn(){var p=new eu;return p==null?null:(p.a=0,p.xb=lu,fr("Predictor","VP8LPredictors"),fr("Predictor","VP8LPredictors_C"),fr("PredictorAdd","VP8LPredictorsAdd"),fr("PredictorAdd","VP8LPredictorsAdd_C"),Gc=ye,So=pe,Tr=ue,sr=ai,Ao=Xe,Ur=Ji,Gs=Qe,C.VP8LMapColor32b=Gi,C.VP8LMapColor8b=nc,p)}function _n(p,b,A,D,B){var H=1,G=[p],Y=[b],Z=D.m,rt=D.s,mt=null,Rt=0;t:for(;;){if(A)for(;H&&Q(Z,1);){var Ct=G,At=Y,Ht=D,kt=1,yt=Ht.m,wt=Ht.gc[Ht.ab],Ft=Q(yt,2);if(Ht.Oc&1<<Ft)H=0;else{switch(Ht.Oc|=1<<Ft,wt.hc=Ft,wt.Ea=Ct[0],wt.nc=At[0],wt.K=[null],++Ht.ab,t(4>=Ht.ab),Ft){case 0:case 1:wt.b=Q(yt,3)+2,kt=_n(de(wt.Ea,wt.b),de(wt.nc,wt.b),0,Ht,wt.K),wt.K=wt.K[0];break;case 3:var Gt,qt=Q(yt,8)+1,he=16<qt?0:4<qt?1:2<qt?2:3;if(Ct[0]=de(wt.Ea,he),wt.b=he,Gt=kt=_n(qt,1,0,Ht,wt.K)){var ne,_e=qt,se=wt,fn=1<<(8>>se.b),Sn=a(fn);if(Sn==null)Gt=0;else{var Ke=se.K[0],We=se.w;for(Sn[0]=se.K[0][0],ne=1;ne<1*_e;++ne)Sn[ne]=$t(Ke[We+ne],Sn[ne-1]);for(;ne<4*fn;++ne)Sn[ne]=0;se.K[0]=null,se.K[0]=Sn,Gt=1}}kt=Gt;break;case 2:break;default:t(0)}H=kt}}if(G=G[0],Y=Y[0],H&&Q(Z,1)&&!(H=1<=(Rt=Q(Z,4))&&11>=Rt)){D.a=3;break t}var In;if(In=H)e:{var An,Fe,On,Te=D,Me=G,hn=Y,dn=Rt,Xi=A,ki=Te.m,gi=Te.s,mi=[null],Ai=1,As=0,En=xl[dn];n:for(;;){if(Xi&&Q(ki,1)){var Ei=Q(ki,3)+2,Xs=de(Me,Ei),Oo=de(hn,Ei),El=Xs*Oo;if(!_n(Xs,Oo,0,Te,mi))break n;for(mi=mi[0],gi.xc=Ei,An=0;An<El;++An){var ko=mi[An]>>8&65535;mi[An]=ko,ko>=Ai&&(Ai=ko+1)}}if(ki.h)break n;for(Fe=0;5>Fe;++Fe){var ti=us[Fe];!Fe&&0<dn&&(ti+=1<<dn),As<ti&&(As=ti)}var uc=l(Ai*En,L),Jc=Ai,Cr=l(Jc,nt);if(Cr==null)var ii=null;else t(65536>=Jc),ii=Cr;var Tl=a(As);if(ii==null||Tl==null||uc==null){Te.a=1;break n}var jo=uc;for(An=On=0;An<Ai;++An){var Gr=ii[An],Vo=Gr.G,Wr=Gr.H,cc=0,cu=1,th=0;for(Fe=0;5>Fe;++Fe){ti=us[Fe],Vo[Fe]=jo,Wr[Fe]=On,!Fe&&0<dn&&(ti+=1<<dn);r:{var hc,eh=ti,fc=Te,hu=Tl,Hd=jo,Gd=On,dc=0,Za=fc.m,Nm=Q(Za,1);if(r(hu,0,0,eh),Nm){var Wd=Q(Za,1)+1,Yd=Q(Za,1),uf=Q(Za,Yd==0?1:8);hu[uf]=1,Wd==2&&(hu[uf=Q(Za,8)]=1);var fu=1}else{var cf=a(19),hf=Q(Za,4)+4;if(19<hf){fc.a=3;var pc=0;break r}for(hc=0;hc<hf;++hc)cf[Ya[hc]]=Q(Za,3);var nh=void 0,du=void 0,Xd=fc,Kd=cf,Ja=eh,gc=hu,ih=0,Ks=Xd.m,pu=8,ff=l(128,L);i:for(;R(ff,0,7,Kd,19);){if(Q(Ks,1)){var Qd=2+2*Q(Ks,3);if((nh=2+Q(Ks,Qd))>Ja)break i}else nh=Ja;for(du=0;du<Ja&&nh--;){ft(Ks);var df=ff[0+(127&W(Ks))];at(Ks,Ks.u+df.g);var Nl=df.value;if(16>Nl)gc[du++]=Nl,Nl!=0&&(pu=Nl);else{var $d=Nl==16,pf=Nl-16,gf=Ss[pf],mf=Q(Ks,Xc[pf])+gf;if(du+mf>Ja)break i;for(var Zd=$d?pu:0;0<mf--;)gc[du++]=Zd}}ih=1;break i}ih||(Xd.a=3),fu=ih}(fu=fu&&!Za.h)&&(dc=R(Hd,Gd,8,hu,eh)),fu&&dc!=0?pc=dc:(fc.a=3,pc=0)}if(pc==0)break n;if(cu&&wl[Fe]==1&&(cu=jo[On].g==0),cc+=jo[On].g,On+=pc,3>=Fe){var Cl,rh=Tl[0];for(Cl=1;Cl<ti;++Cl)Tl[Cl]>rh&&(rh=Tl[Cl]);th+=rh}}if(Gr.nd=cu,Gr.Qb=0,cu&&(Gr.qb=(Vo[3][Wr[3]+0].value<<24|Vo[1][Wr[1]+0].value<<16|Vo[2][Wr[2]+0].value)>>>0,cc==0&&256>Vo[0][Wr[0]+0].value&&(Gr.Qb=1,Gr.qb+=Vo[0][Wr[0]+0].value<<8)),Gr.jc=!Gr.Qb&&6>th,Gr.jc){var mc,to=Gr;for(mc=0;mc<Ii;++mc){var xa=mc,eo=to.pd[xa],yc=to.G[0][to.H[0]+xa];256<=yc.value?(eo.g=yc.g+256,eo.value=yc.value):(eo.g=0,eo.value=0,xa>>=ni(yc,8,eo),xa>>=ni(to.G[1][to.H[1]+xa],16,eo),xa>>=ni(to.G[2][to.H[2]+xa],0,eo),ni(to.G[3][to.H[3]+xa],24,eo))}}}gi.vc=mi,gi.Wb=Ai,gi.Ya=ii,gi.yc=uc,In=1;break e}In=0}if(!(H=In)){D.a=3;break t}if(0<Rt){if(rt.ua=1<<Rt,!we(rt.Wa,Rt)){D.a=1,H=0;break t}}else rt.ua=0;var vc=D,yf=G,Jd=Y,vf=vc.s,bf=vf.xc;if(vc.c=yf,vc.i=Jd,vf.md=de(yf,bf),vf.wc=bf==0?-1:(1<<bf)-1,A){D.xb=Bd;break t}if((mt=a(G*Y))==null){D.a=1,H=0;break t}H=(H=_i(D,mt,0,G,Y,Y,null))&&!Z.h;break t}return H?(B!=null?B[0]=mt:(t(mt==null),t(A)),D.$=0,A||Ri(rt)):Ri(rt),H}function Ps(p,b){var A=p.c*p.i,D=A+b+16*b;return t(p.c<=b),p.V=a(D),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+b,1)}function Os(p,b){var A=p.C,D=b-A,B=p.V,H=p.Ba+p.c*A;for(t(b<=p.l.o);0<D;){var G=16<D?16:D,Y=p.l.ma,Z=p.l.width,rt=Z*G,mt=Y.ca,Rt=Y.tb+Z*A,Ct=p.Ta,At=p.Ua;bi(p,G,B,H),Hn(Ct,At,mt,Rt,rt),Ui(Y,A,A+G,mt,Rt,Z),D-=G,B+=G*p.c,A+=G}t(A==b),p.C=p.Ma=b}function dr(){this.ub=this.yd=this.td=this.Rb=0}function kr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ma(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function sl(){this.Yb=function(){var p=[];return function b(A,D,B){for(var H=B[D],G=0;G<H&&(A.push(B.length>D+1?[]:0),!(B.length<D+1));G++)b(A[G],D+1,B)}(p,0,[3,11]),p}()}function Pa(){this.jb=a(3),this.Wc=u([4,8],sl),this.Xc=u([4,17],sl)}function Kl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ss(){this.ld=this.La=this.dd=this.tc=0}function as(){this.Na=this.la=0}function Di(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ks(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ql(){this.uc=this.M=this.Nb=0,this.wa=Array(new ss),this.Y=0,this.ya=Array(new ks),this.aa=0,this.l=new js}function hs(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ho(){this.cb=this.a=0,this.sc="",this.m=new vt,this.Od=new dr,this.Kc=new kr,this.ed=new Kl,this.Qa=new Ma,this.Ic=this.$c=this.Aa=0,this.D=new Ql,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,vt),this.ia=0,this.pb=l(4,Di),this.Pa=new Pa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hs),this.Hd=0,this.rb=Array(new as),this.sb=0,this.wa=Array(new ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ks),this.L=this.aa=0,this.gd=u([4,2],ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function js(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function al(){var p=new ho;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Mi||(Mi=$l)),p}function Un(p,b,A){return p.a==0&&(p.a=b,p.sc=A,p.cb=0),0}function Hi(p,b,A){return 3<=A&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function fo(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return Un(p,2,"null VP8Io passed to VP8GetHeaders()");var A=b.data,D=b.w,B=b.ha;if(4>B)return Un(p,7,"Truncated header.");var H=A[D+0]|A[D+1]<<8|A[D+2]<<16,G=p.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return Un(p,3,"Incorrect keyframe parameters.");if(!G.yd)return Un(p,4,"Frame not displayable.");D+=3,B-=3;var Y=p.Kc;if(G.Rb){if(7>B)return Un(p,7,"cannot parse picture header");if(!Hi(A,D,B))return Un(p,3,"Bad code word");Y.c=16383&(A[D+4]<<8|A[D+3]),Y.Td=A[D+4]>>6,Y.i=16383&(A[D+6]<<8|A[D+5]),Y.Ud=A[D+6]>>6,D+=7,B-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,b.width=Y.c,b.height=Y.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,r((H=p.Pa).jb,0,255,H.jb.length),t((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,r(H.Zb,0,0,H.Zb.length),r(H.Lb,0,0,H.Lb)}if(G.ub>B)return Un(p,7,"bad partition length");pt(H=p.m,A,D,G.ub),D+=G.ub,B-=G.ub,G.Rb&&(Y.Ld=Nt(H),Y.Kd=Nt(H)),Y=p.Qa;var Z,rt=p.Pa;if(t(H!=null),t(Y!=null),Y.Cb=Nt(H),Y.Cb){if(Y.Bb=Nt(H),Nt(H)){for(Y.Fb=Nt(H),Z=0;4>Z;++Z)Y.Zb[Z]=Nt(H)?ht(H,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=Nt(H)?ht(H,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)rt.jb[Z]=Nt(H)?et(H,8):255}else Y.Bb=0;if(H.Ka)return Un(p,3,"cannot parse segment header");if((Y=p.ed).zd=Nt(H),Y.Tb=et(H,6),Y.wb=et(H,3),Y.Pc=Nt(H),Y.Pc&&Nt(H)){for(rt=0;4>rt;++rt)Nt(H)&&(Y.vd[rt]=ht(H,6));for(rt=0;4>rt;++rt)Nt(H)&&(Y.od[rt]=ht(H,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,H.Ka)return Un(p,3,"cannot parse filter header");var mt=B;if(B=Z=D,D=Z+mt,Y=mt,p.Xb=(1<<et(p.m,2))-1,mt<3*(rt=p.Xb))A=7;else{for(Z+=3*rt,Y-=3*rt,mt=0;mt<rt;++mt){var Rt=A[B+0]|A[B+1]<<8|A[B+2]<<16;Rt>Y&&(Rt=Y),pt(p.Jc[+mt],A,Z,Rt),Z+=Rt,Y-=Rt,B+=3}pt(p.Jc[+rt],A,Z,Y),A=Z<D?0:5}if(A!=0)return Un(p,A,"cannot parse partitions");for(A=et(Z=p.m,7),B=Nt(Z)?ht(Z,4):0,D=Nt(Z)?ht(Z,4):0,Y=Nt(Z)?ht(Z,4):0,rt=Nt(Z)?ht(Z,4):0,Z=Nt(Z)?ht(Z,4):0,mt=p.Qa,Rt=0;4>Rt;++Rt){if(mt.Cb){var Ct=mt.Zb[Rt];mt.Fb||(Ct+=A)}else{if(0<Rt){p.pb[Rt]=p.pb[0];continue}Ct=A}var At=p.pb[Rt];At.Sc[0]=sc[xn(Ct+B,127)],At.Sc[1]=ac[xn(Ct+0,127)],At.Eb[0]=2*sc[xn(Ct+D,127)],At.Eb[1]=101581*ac[xn(Ct+Y,127)]>>16,8>At.Eb[1]&&(At.Eb[1]=8),At.Qc[0]=sc[xn(Ct+rt,117)],At.Qc[1]=ac[xn(Ct+Z,127)],At.lc=Ct+Z}if(!G.Rb)return Un(p,4,"Not a key frame.");for(Nt(H),G=p.Pa,A=0;4>A;++A){for(B=0;8>B;++B)for(D=0;3>D;++D)for(Y=0;11>Y;++Y)rt=Mt(H,Sl[A][B][D][Y])?et(H,8):va[A][B][D][Y],G.Wc[A][B].Yb[D][Y]=rt;for(B=0;17>B;++B)G.Xc[A][B]=G.Wc[A][Fd[B]]}return p.kc=Nt(H),p.kc&&(p.Bd=et(H,8)),p.cb=1}function $l(p,b,A,D,B,H,G){var Y=b[B].Yb[A];for(A=0;16>B;++B){if(!Mt(p,Y[A+0]))return B;for(;!Mt(p,Y[A+1]);)if(Y=b[++B].Yb[0],A=0,B==16)return 16;var Z=b[B+1].Yb;if(Mt(p,Y[A+2])){var rt=p,mt=0;if(Mt(rt,(Ct=Y)[(Rt=A)+3]))if(Mt(rt,Ct[Rt+6])){for(Y=0,Rt=2*(mt=Mt(rt,Ct[Rt+8]))+(Ct=Mt(rt,Ct[Rt+9+mt])),mt=0,Ct=hi[Rt];Ct[Y];++Y)mt+=mt+Mt(rt,Ct[Y]);mt+=3+(8<<Rt)}else Mt(rt,Ct[Rt+7])?(mt=7+2*Mt(rt,165),mt+=Mt(rt,145)):mt=5+Mt(rt,159);else mt=Mt(rt,Ct[Rt+4])?3+Mt(rt,Ct[Rt+5]):2;Y=Z[2]}else mt=1,Y=Z[1];Z=G+yn[B],0>(rt=p).b&&Tt(rt);var Rt,Ct=rt.b,At=(Rt=rt.Ca>>1)-(rt.I>>Ct)>>31;--rt.b,rt.Ca+=At,rt.Ca|=1,rt.I-=(Rt+1&At)<<Ct,H[Z]=((mt^At)-At)*D[(0<B)+0]}return 16}function ia(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0}function ol(p,b){if(p==null)return 0;if(b==null)return Un(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!fo(p,b))return 0;if(t(p.cb),b.ac==null||b.ac(b)){b.ob&&(p.L=0);var A=$a[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=b.v-A>>4,p.zb=b.j-A>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=b.o+15+A>>4,p.Hb=b.va+15+A>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var D=p.ed;for(A=0;4>A;++A){var B;if(p.Qa.Cb){var H=p.Qa.Lb[A];p.Qa.Fb||(H+=D.Tb)}else H=D.Tb;for(B=0;1>=B;++B){var G=p.gd[A][B],Y=H;if(D.Pc&&(Y+=D.vd[0],B&&(Y+=D.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var Z=Y;0<D.wb&&(Z=4<D.wb?Z>>2:Z>>1)>9-D.wb&&(Z=9-D.wb),1>Z&&(Z=1),G.dd=Z,G.tc=2*Y+Z,G.ld=40<=Y?2:15<=Y?1:0}else G.tc=0;G.La=B}}}A=0}else Un(p,6,"Frame setup failed"),A=p.a;if(A=A==0){if(A){p.$c=0,0<p.Aa||(p.Ic=qd);t:{A=p.Ic,D=4*(Z=p.za);var rt=32*Z,mt=Z+1,Rt=0<p.L?Z*(0<p.Aa?2:1):0,Ct=(p.Aa==2?2:1)*Z;if((G=D+832+(B=3*(16*A+$a[p.L])/2*rt)+(H=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=G)A=0;else{if(G>p.Vb){if(p.Vb=0,p.Ec=a(G),p.Fc=0,p.Ec==null){A=Un(p,1,"no memory during frame initialization.");break t}p.Vb=G}G=p.Ec,Y=p.Fc,p.Ac=G,p.Bc=Y,Y+=D,p.Gd=l(rt,hs),p.Hd=0,p.rb=l(mt+1,as),p.sb=1,p.wa=Rt?l(Rt,ss):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=Z),t(!0),p.oc=G,p.pc=Y,Y+=832,p.ya=l(Ct,ks),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=Z),p.R=16*Z,p.B=8*Z,Z=(rt=$a[p.L])*p.R,rt=rt/2*p.B,p.sa=G,p.ta=Y+Z,p.qa=p.sa,p.ra=p.ta+16*A*p.R+rt,p.Ha=p.qa,p.Ia=p.ra+8*A*p.B+rt,p.$c=0,Y+=B,p.mb=H?G:null,p.nb=H?Y:null,t(Y+H<=p.Fc+p.Vb),ia(p),r(p.Ac,p.Bc,0,D),A=1}}if(A){if(b.ka=0,b.y=p.sa,b.O=p.ta,b.f=p.qa,b.N=p.ra,b.ea=p.Ha,b.Vd=p.Ia,b.fa=p.R,b.Rc=p.B,b.F=null,b.J=0,!Ha){for(A=-255;255>=A;++A)pi[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)ws[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Lo[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)Ro[255+A]=0>A?0:255<A?255:A;Ha=1}ga=jr,Ws=sa,Ys=fs,Si=wn,Hr=aa,ui=ra,ml=ca,ma=Us,ru=yo,Eo=fl,To=mo,No=ja,yl=Va,su=ha,Co=os,Ua=mr,vl=xi,ci=tu,Nr[0]=pr,Nr[1]=Zl,Nr[2]=gs,Nr[3]=Jl,Nr[4]=Vr,Nr[5]=ms,Nr[6]=Er,Nr[7]=Fr,Nr[8]=qs,Nr[9]=oa,Ka[0]=ds,Ka[1]=ul,Ka[2]=Fs,Ka[3]=go,Ka[4]=Pn,Ka[5]=zs,Ka[6]=ps,cs[0]=ys,cs[1]=ll,cs[2]=cl,cs[3]=Br,cs[4]=Je,cs[5]=wi,cs[6]=la,A=1}else A=0}A&&(A=function(At,Ht){for(At.M=0;At.M<At.Va;++At.M){var kt,yt=At.Jc[At.M&At.Xb],wt=At.m,Ft=At;for(kt=0;kt<Ft.za;++kt){var Gt=wt,qt=Ft,he=qt.Ac,ne=qt.Bc+4*kt,_e=qt.zc,se=qt.ya[qt.aa+kt];if(qt.Qa.Bb?se.$b=Mt(Gt,qt.Pa.jb[0])?2+Mt(Gt,qt.Pa.jb[2]):Mt(Gt,qt.Pa.jb[1]):se.$b=0,qt.kc&&(se.Ad=Mt(Gt,qt.Bd)),se.Za=!Mt(Gt,145)+0,se.Za){var fn=se.Ob,Sn=0;for(qt=0;4>qt;++qt){var Ke,We=_e[0+qt];for(Ke=0;4>Ke;++Ke){We=af[he[ne+Ke]][We];for(var In=Io[Mt(Gt,We[0])];0<In;)In=Io[2*In+Mt(Gt,We[In])];We=-In,he[ne+Ke]=We}i(fn,Sn,he,ne,4),Sn+=4,_e[0+qt]=We}}else We=Mt(Gt,156)?Mt(Gt,128)?1:3:Mt(Gt,163)?2:0,se.Ob[0]=We,r(he,ne,We,4),r(_e,0,We,4);se.Dd=Mt(Gt,142)?Mt(Gt,114)?Mt(Gt,183)?1:3:2:0}if(Ft.m.Ka)return Un(At,7,"Premature end-of-partition0 encountered.");for(;At.ja<At.za;++At.ja){if(Ft=yt,Gt=(wt=At).rb[wt.sb-1],he=wt.rb[wt.sb+wt.ja],kt=wt.ya[wt.aa+wt.ja],ne=wt.kc?kt.Ad:0)Gt.la=he.la=0,kt.Za||(Gt.Na=he.Na=0),kt.Hc=0,kt.Gc=0,kt.ia=0;else{var An,Fe;if(Gt=he,he=Ft,ne=wt.Pa.Xc,_e=wt.ya[wt.aa+wt.ja],se=wt.pb[_e.$b],qt=_e.ad,fn=0,Sn=wt.rb[wt.sb-1],We=Ke=0,r(qt,fn,0,384),_e.Za)var On=0,Te=ne[3];else{In=a(16);var Me=Gt.Na+Sn.Na;if(Me=Mi(he,ne[1],Me,se.Eb,0,In,0),Gt.Na=Sn.Na=(0<Me)+0,1<Me)ga(In,0,qt,fn);else{var hn=In[0]+3>>3;for(In=0;256>In;In+=16)qt[fn+In]=hn}On=1,Te=ne[0]}var dn=15&Gt.la,Xi=15&Sn.la;for(In=0;4>In;++In){var ki=1&Xi;for(hn=Fe=0;4>hn;++hn)dn=dn>>1|(ki=(Me=Mi(he,Te,Me=ki+(1&dn),se.Sc,On,qt,fn))>On)<<7,Fe=Fe<<2|(3<Me?3:1<Me?2:qt[fn+0]!=0),fn+=16;dn>>=4,Xi=Xi>>1|ki<<7,Ke=(Ke<<8|Fe)>>>0}for(Te=dn,On=Xi>>4,An=0;4>An;An+=2){for(Fe=0,dn=Gt.la>>4+An,Xi=Sn.la>>4+An,In=0;2>In;++In){for(ki=1&Xi,hn=0;2>hn;++hn)Me=ki+(1&dn),dn=dn>>1|(ki=0<(Me=Mi(he,ne[2],Me,se.Qc,0,qt,fn)))<<3,Fe=Fe<<2|(3<Me?3:1<Me?2:qt[fn+0]!=0),fn+=16;dn>>=2,Xi=Xi>>1|ki<<5}We|=Fe<<4*An,Te|=dn<<4<<An,On|=(240&Xi)<<An}Gt.la=Te,Sn.la=On,_e.Hc=Ke,_e.Gc=We,_e.ia=43690&We?0:se.ia,ne=!(Ke|We)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[kt.$b][kt.Za],wt.wa[wt.Y+wt.ja].La|=!ne),Ft.Ka)return Un(At,7,"Premature end-of-file encountered.")}if(ia(At),wt=Ht,Ft=1,kt=(yt=At).D,Gt=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(kt.M=yt.M,kt.uc=Gt,zr(yt,kt),Ft=1,kt=(Fe=yt.D).Nb,Gt=(We=$a[yt.L])*yt.R,he=We/2*yt.B,In=16*kt*yt.R,hn=8*kt*yt.B,ne=yt.sa,_e=yt.ta-Gt+In,se=yt.qa,qt=yt.ra-he+hn,fn=yt.Ha,Sn=yt.Ia-he+hn,Xi=(dn=Fe.M)==0,Ke=dn>=yt.Va-1,yt.Aa==2&&zr(yt,Fe),Fe.uc)for(ki=(Me=yt).D.M,t(Me.D.uc),Fe=Me.yb;Fe<Me.Hb;++Fe){On=Fe,Te=ki;var gi=(mi=(ti=Me).D).Nb;An=ti.R;var mi=mi.wa[mi.Y+On],Ai=ti.sa,As=ti.ta+16*gi*An+16*On,En=mi.dd,Ei=mi.tc;if(Ei!=0)if(t(3<=Ei),ti.L==1)0<On&&Ua(Ai,As,An,Ei+4),mi.La&&ci(Ai,As,An,Ei),0<Te&&Co(Ai,As,An,Ei+4),mi.La&&vl(Ai,As,An,Ei);else{var Xs=ti.B,Oo=ti.qa,El=ti.ra+8*gi*Xs+8*On,ko=ti.Ha,ti=ti.Ia+8*gi*Xs+8*On;gi=mi.ld,0<On&&(ma(Ai,As,An,Ei+4,En,gi),Eo(Oo,El,ko,ti,Xs,Ei+4,En,gi)),mi.La&&(No(Ai,As,An,Ei,En,gi),su(Oo,El,ko,ti,Xs,Ei,En,gi)),0<Te&&(ml(Ai,As,An,Ei+4,En,gi),ru(Oo,El,ko,ti,Xs,Ei+4,En,gi)),mi.La&&(To(Ai,As,An,Ei,En,gi),yl(Oo,El,ko,ti,Xs,Ei,En,gi))}}if(yt.ia&&alert("todo:DitherRow"),wt.put!=null){if(Fe=16*dn,dn=16*(dn+1),Xi?(wt.y=yt.sa,wt.O=yt.ta+In,wt.f=yt.qa,wt.N=yt.ra+hn,wt.ea=yt.Ha,wt.W=yt.Ia+hn):(Fe-=We,wt.y=ne,wt.O=_e,wt.f=se,wt.N=qt,wt.ea=fn,wt.W=Sn),Ke||(dn-=We),dn>wt.o&&(dn=wt.o),wt.F=null,wt.J=null,yt.Fa!=null&&0<yt.Fa.length&&Fe<dn&&(wt.J=bo(yt,wt,Fe,dn-Fe),wt.F=yt.mb,wt.F==null&&wt.F.length==0)){Ft=Un(yt,3,"Could not decode alpha data.");break t}Fe<wt.j&&(We=wt.j-Fe,Fe=wt.j,t(!(1&We)),wt.O+=yt.R*We,wt.N+=yt.B*(We>>1),wt.W+=yt.B*(We>>1),wt.F!=null&&(wt.J+=wt.width*We)),Fe<dn&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=Fe-wt.j,wt.U=wt.va-wt.v,wt.T=dn-Fe,Ft=wt.put(wt))}kt+1!=yt.Ic||Ke||(i(yt.sa,yt.ta-Gt,ne,_e+16*yt.R,Gt),i(yt.qa,yt.ra-he,se,qt+8*yt.B,he),i(yt.Ha,yt.Ia-he,fn,Sn+8*yt.B,he))}if(!Ft)return Un(At,6,"Output aborted.")}return 1}(p,b)),b.bc!=null&&b.bc(b),A&=1}return A?(p.cb=0,A):0}function nr(p,b,A,D,B){B=p[b+A+32*D]+(B>>3),p[b+A+32*D]=-256&B?0>B?0:255:B}function po(p,b,A,D,B,H){nr(p,b,0,A,D+B),nr(p,b,1,A,D+H),nr(p,b,2,A,D-H),nr(p,b,3,A,D-B)}function cn(p){return(20091*p>>16)+p}function ir(p,b,A,D){var B,H=0,G=a(16);for(B=0;4>B;++B){var Y=p[b+0]+p[b+8],Z=p[b+0]-p[b+8],rt=(35468*p[b+4]>>16)-cn(p[b+12]),mt=cn(p[b+4])+(35468*p[b+12]>>16);G[H+0]=Y+mt,G[H+1]=Z+rt,G[H+2]=Z-rt,G[H+3]=Y-mt,H+=4,b++}for(B=H=0;4>B;++B)Y=(p=G[H+0]+4)+G[H+8],Z=p-G[H+8],rt=(35468*G[H+4]>>16)-cn(G[H+12]),nr(A,D,0,0,Y+(mt=cn(G[H+4])+(35468*G[H+12]>>16))),nr(A,D,1,0,Z+rt),nr(A,D,2,0,Z-rt),nr(A,D,3,0,Y-mt),H++,D+=32}function ra(p,b,A,D){var B=p[b+0]+4,H=35468*p[b+4]>>16,G=cn(p[b+4]),Y=35468*p[b+1]>>16;po(A,D,0,B+G,p=cn(p[b+1]),Y),po(A,D,1,B+H,p,Y),po(A,D,2,B-H,p,Y),po(A,D,3,B-G,p,Y)}function sa(p,b,A,D,B){ir(p,b,A,D),B&&ir(p,b+16,A,D+4)}function fs(p,b,A,D){Ws(p,b+0,A,D,1),Ws(p,b+32,A,D+128,1)}function wn(p,b,A,D){var B;for(p=p[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)nr(A,D,b,B,p)}function aa(p,b,A,D){p[b+0]&&Si(p,b+0,A,D),p[b+16]&&Si(p,b+16,A,D+4),p[b+32]&&Si(p,b+32,A,D+128),p[b+48]&&Si(p,b+48,A,D+128+4)}function jr(p,b,A,D){var B,H=a(16);for(B=0;4>B;++B){var G=p[b+0+B]+p[b+12+B],Y=p[b+4+B]+p[b+8+B],Z=p[b+4+B]-p[b+8+B],rt=p[b+0+B]-p[b+12+B];H[0+B]=G+Y,H[8+B]=G-Y,H[4+B]=rt+Z,H[12+B]=rt-Z}for(B=0;4>B;++B)G=(p=H[0+4*B]+3)+H[3+4*B],Y=H[1+4*B]+H[2+4*B],Z=H[1+4*B]-H[2+4*B],rt=p-H[3+4*B],A[D+0]=G+Y>>3,A[D+16]=rt+Z>>3,A[D+32]=G-Y>>3,A[D+48]=rt-Z>>3,D+=64}function Vs(p,b,A){var D,B=b-32,H=Wi,G=255-p[B-1];for(D=0;D<A;++D){var Y,Z=H,rt=G+p[b-1];for(Y=0;Y<A;++Y)p[b+Y]=Z[rt+p[B+Y]];b+=32}}function Zl(p,b){Vs(p,b,4)}function ll(p,b){Vs(p,b,8)}function ul(p,b){Vs(p,b,16)}function Fs(p,b){var A;for(A=0;16>A;++A)i(p,b+32*A,p,b-32,16)}function go(p,b){var A;for(A=16;0<A;--A)r(p,b,p[b-1],16),b+=32}function Bs(p,b,A){var D;for(D=0;16>D;++D)r(b,A+32*D,p,16)}function ds(p,b){var A,D=16;for(A=0;16>A;++A)D+=p[b-1+32*A]+p[b+A-32];Bs(D>>5,p,b)}function Pn(p,b){var A,D=8;for(A=0;16>A;++A)D+=p[b-1+32*A];Bs(D>>4,p,b)}function zs(p,b){var A,D=8;for(A=0;16>A;++A)D+=p[b+A-32];Bs(D>>4,p,b)}function ps(p,b){Bs(128,p,b)}function Ne(p,b,A){return p+2*b+A+2>>2}function gs(p,b){var A,D=b-32;for(D=new Uint8Array([Ne(p[D-1],p[D+0],p[D+1]),Ne(p[D+0],p[D+1],p[D+2]),Ne(p[D+1],p[D+2],p[D+3]),Ne(p[D+2],p[D+3],p[D+4])]),A=0;4>A;++A)i(p,b+32*A,D,0,D.length)}function Jl(p,b){var A=p[b-1],D=p[b-1+32],B=p[b-1+64],H=p[b-1+96];Zt(p,b+0,16843009*Ne(p[b-1-32],A,D)),Zt(p,b+32,16843009*Ne(A,D,B)),Zt(p,b+64,16843009*Ne(D,B,H)),Zt(p,b+96,16843009*Ne(B,H,H))}function pr(p,b){var A,D=4;for(A=0;4>A;++A)D+=p[b+A-32]+p[b-1+32*A];for(D>>=3,A=0;4>A;++A)r(p,b+32*A,D,4)}function Vr(p,b){var A=p[b-1+0],D=p[b-1+32],B=p[b-1+64],H=p[b-1-32],G=p[b+0-32],Y=p[b+1-32],Z=p[b+2-32],rt=p[b+3-32];p[b+0+96]=Ne(D,B,p[b-1+96]),p[b+1+96]=p[b+0+64]=Ne(A,D,B),p[b+2+96]=p[b+1+64]=p[b+0+32]=Ne(H,A,D),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Ne(G,H,A),p[b+3+64]=p[b+2+32]=p[b+1+0]=Ne(Y,G,H),p[b+3+32]=p[b+2+0]=Ne(Z,Y,G),p[b+3+0]=Ne(rt,Z,Y)}function Er(p,b){var A=p[b+1-32],D=p[b+2-32],B=p[b+3-32],H=p[b+4-32],G=p[b+5-32],Y=p[b+6-32],Z=p[b+7-32];p[b+0+0]=Ne(p[b+0-32],A,D),p[b+1+0]=p[b+0+32]=Ne(A,D,B),p[b+2+0]=p[b+1+32]=p[b+0+64]=Ne(D,B,H),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Ne(B,H,G),p[b+3+32]=p[b+2+64]=p[b+1+96]=Ne(H,G,Y),p[b+3+64]=p[b+2+96]=Ne(G,Y,Z),p[b+3+96]=Ne(Y,Z,Z)}function ms(p,b){var A=p[b-1+0],D=p[b-1+32],B=p[b-1+64],H=p[b-1-32],G=p[b+0-32],Y=p[b+1-32],Z=p[b+2-32],rt=p[b+3-32];p[b+0+0]=p[b+1+64]=H+G+1>>1,p[b+1+0]=p[b+2+64]=G+Y+1>>1,p[b+2+0]=p[b+3+64]=Y+Z+1>>1,p[b+3+0]=Z+rt+1>>1,p[b+0+96]=Ne(B,D,A),p[b+0+64]=Ne(D,A,H),p[b+0+32]=p[b+1+96]=Ne(A,H,G),p[b+1+32]=p[b+2+96]=Ne(H,G,Y),p[b+2+32]=p[b+3+96]=Ne(G,Y,Z),p[b+3+32]=Ne(Y,Z,rt)}function Fr(p,b){var A=p[b+0-32],D=p[b+1-32],B=p[b+2-32],H=p[b+3-32],G=p[b+4-32],Y=p[b+5-32],Z=p[b+6-32],rt=p[b+7-32];p[b+0+0]=A+D+1>>1,p[b+1+0]=p[b+0+64]=D+B+1>>1,p[b+2+0]=p[b+1+64]=B+H+1>>1,p[b+3+0]=p[b+2+64]=H+G+1>>1,p[b+0+32]=Ne(A,D,B),p[b+1+32]=p[b+0+96]=Ne(D,B,H),p[b+2+32]=p[b+1+96]=Ne(B,H,G),p[b+3+32]=p[b+2+96]=Ne(H,G,Y),p[b+3+64]=Ne(G,Y,Z),p[b+3+96]=Ne(Y,Z,rt)}function oa(p,b){var A=p[b-1+0],D=p[b-1+32],B=p[b-1+64],H=p[b-1+96];p[b+0+0]=A+D+1>>1,p[b+2+0]=p[b+0+32]=D+B+1>>1,p[b+2+32]=p[b+0+64]=B+H+1>>1,p[b+1+0]=Ne(A,D,B),p[b+3+0]=p[b+1+32]=Ne(D,B,H),p[b+3+32]=p[b+1+64]=Ne(B,H,H),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=H}function qs(p,b){var A=p[b-1+0],D=p[b-1+32],B=p[b-1+64],H=p[b-1+96],G=p[b-1-32],Y=p[b+0-32],Z=p[b+1-32],rt=p[b+2-32];p[b+0+0]=p[b+2+32]=A+G+1>>1,p[b+0+32]=p[b+2+64]=D+A+1>>1,p[b+0+64]=p[b+2+96]=B+D+1>>1,p[b+0+96]=H+B+1>>1,p[b+3+0]=Ne(Y,Z,rt),p[b+2+0]=Ne(G,Y,Z),p[b+1+0]=p[b+3+32]=Ne(A,G,Y),p[b+1+32]=p[b+3+64]=Ne(D,A,G),p[b+1+64]=p[b+3+96]=Ne(B,D,A),p[b+1+96]=Ne(H,B,D)}function cl(p,b){var A;for(A=0;8>A;++A)i(p,b+32*A,p,b-32,8)}function Br(p,b){var A;for(A=0;8>A;++A)r(p,b,p[b-1],8),b+=32}function gr(p,b,A){var D;for(D=0;8>D;++D)r(b,A+32*D,p,8)}function ys(p,b){var A,D=8;for(A=0;8>A;++A)D+=p[b+A-32]+p[b-1+32*A];gr(D>>4,p,b)}function wi(p,b){var A,D=4;for(A=0;8>A;++A)D+=p[b+A-32];gr(D>>3,p,b)}function Je(p,b){var A,D=4;for(A=0;8>A;++A)D+=p[b-1+32*A];gr(D>>3,p,b)}function la(p,b){gr(128,p,b)}function vs(p,b,A){var D=p[b-A],B=p[b+0],H=3*(B-D)+Wc[1020+p[b-2*A]-p[b+A]],G=bl[112+(H+4>>3)];p[b-A]=Wi[255+D+bl[112+(H+3>>3)]],p[b+0]=Wi[255+B-G]}function hl(p,b,A,D){var B=p[b+0],H=p[b+A];return xs[255+p[b-2*A]-p[b-A]]>D||xs[255+H-B]>D}function Oa(p,b,A,D){return 4*xs[255+p[b-A]-p[b+0]]+xs[255+p[b-2*A]-p[b+A]]<=D}function ka(p,b,A,D,B){var H=p[b-3*A],G=p[b-2*A],Y=p[b-A],Z=p[b+0],rt=p[b+A],mt=p[b+2*A],Rt=p[b+3*A];return 4*xs[255+Y-Z]+xs[255+G-rt]>D?0:xs[255+p[b-4*A]-H]<=B&&xs[255+H-G]<=B&&xs[255+G-Y]<=B&&xs[255+Rt-mt]<=B&&xs[255+mt-rt]<=B&&xs[255+rt-Z]<=B}function os(p,b,A,D){var B=2*D+1;for(D=0;16>D;++D)Oa(p,b+D,A,B)&&vs(p,b+D,A)}function mr(p,b,A,D){var B=2*D+1;for(D=0;16>D;++D)Oa(p,b+D*A,1,B)&&vs(p,b+D*A,1)}function xi(p,b,A,D){var B;for(B=3;0<B;--B)os(p,b+=4*A,A,D)}function tu(p,b,A,D){var B;for(B=3;0<B;--B)mr(p,b+=4,A,D)}function ua(p,b,A,D,B,H,G,Y){for(H=2*H+1;0<B--;){if(ka(p,b,A,H,G))if(hl(p,b,A,Y))vs(p,b,A);else{var Z=p,rt=b,mt=A,Rt=Z[rt-2*mt],Ct=Z[rt-mt],At=Z[rt+0],Ht=Z[rt+mt],kt=Z[rt+2*mt],yt=27*(Ft=Wc[1020+3*(At-Ct)+Wc[1020+Rt-Ht]])+63>>7,wt=18*Ft+63>>7,Ft=9*Ft+63>>7;Z[rt-3*mt]=Wi[255+Z[rt-3*mt]+Ft],Z[rt-2*mt]=Wi[255+Rt+wt],Z[rt-mt]=Wi[255+Ct+yt],Z[rt+0]=Wi[255+At-yt],Z[rt+mt]=Wi[255+Ht-wt],Z[rt+2*mt]=Wi[255+kt-Ft]}b+=D}}function rr(p,b,A,D,B,H,G,Y){for(H=2*H+1;0<B--;){if(ka(p,b,A,H,G))if(hl(p,b,A,Y))vs(p,b,A);else{var Z=p,rt=b,mt=A,Rt=Z[rt-mt],Ct=Z[rt+0],At=Z[rt+mt],Ht=bl[112+((kt=3*(Ct-Rt))+4>>3)],kt=bl[112+(kt+3>>3)],yt=Ht+1>>1;Z[rt-2*mt]=Wi[255+Z[rt-2*mt]+yt],Z[rt-mt]=Wi[255+Rt+kt],Z[rt+0]=Wi[255+Ct-Ht],Z[rt+mt]=Wi[255+At-yt]}b+=D}}function ca(p,b,A,D,B,H){ua(p,b,A,1,16,D,B,H)}function Us(p,b,A,D,B,H){ua(p,b,1,A,16,D,B,H)}function mo(p,b,A,D,B,H){var G;for(G=3;0<G;--G)rr(p,b+=4*A,A,1,16,D,B,H)}function ja(p,b,A,D,B,H){var G;for(G=3;0<G;--G)rr(p,b+=4,1,A,16,D,B,H)}function yo(p,b,A,D,B,H,G,Y){ua(p,b,B,1,8,H,G,Y),ua(A,D,B,1,8,H,G,Y)}function fl(p,b,A,D,B,H,G,Y){ua(p,b,1,B,8,H,G,Y),ua(A,D,1,B,8,H,G,Y)}function Va(p,b,A,D,B,H,G,Y){rr(p,b+4*B,B,1,8,H,G,Y),rr(A,D+4*B,B,1,8,H,G,Y)}function ha(p,b,A,D,B,H,G,Y){rr(p,b+4,1,B,8,H,G,Y),rr(A,D+4,1,B,8,H,G,Y)}function Fa(){this.ba=new Ci,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ba(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fa(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new nt,this.yc=new L}function eu(){this.xb=this.a=0,this.l=new js,this.ca=new Ci,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fa,this.ab=0,this.gc=l(4,Ba),this.Oc=0}function Hs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new js,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function da(p,b,A,D,B,H,G){for(p=p==null?0:p[b+0],b=0;b<G;++b)B[H+b]=p+A[D+b]&255,p=B[H+b]}function za(p,b,A,D,B,H,G){var Y;if(p==null)da(null,null,A,D,B,H,G);else for(Y=0;Y<G;++Y)B[H+Y]=p[b+Y]+A[D+Y]&255}function yr(p,b,A,D,B,H,G){if(p==null)da(null,null,A,D,B,H,G);else{var Y,Z=p[b+0],rt=Z,mt=Z;for(Y=0;Y<G;++Y)rt=mt+(Z=p[b+Y])-rt,mt=A[D+Y]+(-256&rt?0>rt?0:255:rt)&255,rt=Z,B[H+Y]=mt}}function bo(p,b,A,D){var B=b.width,H=b.o;if(t(p!=null&&b!=null),0>A||0>=D||A+D>H)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Hs,(G=p.ga==null)||(G=b.width*b.o,t(p.Gb.length==0),p.Gb=a(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var Y=p.Fa,Z=p.P,rt=p.qc,mt=p.mb,Rt=p.nb,Ct=Z+1,At=rt-1,Ht=G.l;if(t(Y!=null&&mt!=null&&b!=null),ba[0]=null,ba[1]=da,ba[2]=za,ba[3]=yr,G.ca=mt,G.tb=Rt,G.c=b.width,G.i=b.height,t(0<G.c&&0<G.i),1>=rt)b=0;else if(G.$a=Y[Z+0]>>0&3,G.Z=Y[Z+0]>>2&3,G.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)b=0;else if(Ht.put=er,Ht.ac=oi,Ht.bc=rs,Ht.ma=G,Ht.width=b.width,Ht.height=b.height,Ht.Da=b.Da,Ht.v=b.v,Ht.va=b.va,Ht.j=b.j,Ht.o=b.o,G.$a)t:{t(G.$a==1),b=qn();e:for(;;){if(b==null){b=0;break t}if(t(G!=null),G.mc=b,b.c=G.c,b.i=G.i,b.l=G.l,b.l.ma=G,b.l.width=G.c,b.l.height=G.i,b.a=0,lt(b.m,Y,Ct,At),!_n(G.c,G.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ar(b.s)?(G.ic=1,Y=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(Y),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(G.ic=0,b=Ps(b,G.c)),!b))break e;b=1;break t}G.mc=null,b=0}else b=At>=G.c*G.i;G=!b}if(G)return null;p.ga.Lc!=1?p.Ga=0:D=H-A}t(p.ga!=null),t(A+D<=H);t:{if(b=(Y=p.ga).c,H=Y.l.o,Y.$a==0){if(Ct=p.rc,At=p.Vc,Ht=p.Fa,Z=p.P+1+A*b,rt=p.mb,mt=p.nb+A*b,t(Z<=p.P+p.qc),Y.Z!=0)for(t(ba[Y.Z]!=null),G=0;G<D;++G)ba[Y.Z](Ct,At,Ht,Z,rt,mt,b),Ct=rt,At=mt,mt+=b,Z+=b;else for(G=0;G<D;++G)i(rt,mt,Ht,Z,b),Ct=rt,At=mt,mt+=b,Z+=b;p.rc=Ct,p.Vc=At}else{if(t(Y.mc!=null),b=A+D,t((G=Y.mc)!=null),t(b<=G.i),G.C>=b)b=1;else if(Y.ic||St(),Y.ic){Y=G.V,Ct=G.Ba,At=G.c;var kt=G.i,yt=(Ht=1,Z=G.$/At,rt=G.$%At,mt=G.m,Rt=G.s,G.$),wt=At*kt,Ft=At*b,Gt=Rt.wc,qt=yt<Ft?li(Rt,rt,Z):null;t(yt<=wt),t(b<=kt),t(Ar(Rt));e:for(;;){for(;!mt.h&&yt<Ft;){if(rt&Gt||(qt=li(Rt,rt,Z)),t(qt!=null),ft(mt),256>(kt=Xn(qt.G[0],qt.H[0],mt)))Y[Ct+yt]=kt,++yt,++rt>=At&&(rt=0,++Z<=b&&!(Z%16)&&Li(G,Z));else{if(!(280>kt)){Ht=0;break e}kt=Cn(kt-256,mt);var he,ne=Xn(qt.G[4],qt.H[4],mt);if(ft(mt),!(yt>=(ne=Ln(At,ne=Cn(ne,mt)))&&wt-yt>=kt)){Ht=0;break e}for(he=0;he<kt;++he)Y[Ct+yt+he]=Y[Ct+yt+he-ne];for(yt+=kt,rt+=kt;rt>=At;)rt-=At,++Z<=b&&!(Z%16)&&Li(G,Z);yt<Ft&&rt&Gt&&(qt=li(Rt,rt,Z))}t(mt.h==tt(mt))}Li(G,Z>b?b:Z);break e}!Ht||mt.h&&yt<wt?(Ht=0,G.a=mt.h?5:3):G.$=yt,b=Ht}else b=_i(G,G.V,G.Ba,G.c,G.i,b,Os);if(!b){D=0;break t}}A+D>=H&&(p.Cc=1),D=1}if(!D)return null;if(p.Cc&&((D=p.ga)!=null&&(D.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*B}function S(p,b,A,D,B,H){for(;0<B--;){var G,Y=p,Z=b+(A?1:0),rt=p,mt=b+(A?0:3);for(G=0;G<D;++G){var Rt=rt[mt+4*G];Rt!=255&&(Rt*=32897,Y[Z+4*G+0]=Y[Z+4*G+0]*Rt>>23,Y[Z+4*G+1]=Y[Z+4*G+1]*Rt>>23,Y[Z+4*G+2]=Y[Z+4*G+2]*Rt>>23)}b+=H}}function z(p,b,A,D,B){for(;0<D--;){var H;for(H=0;H<A;++H){var G=p[b+2*H+0],Y=15&(rt=p[b+2*H+1]),Z=4369*Y,rt=(240&rt|rt>>4)*Z>>16;p[b+2*H+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,p[b+2*H+1]=240&rt|Y}b+=B}}function st(p,b,A,D,B,H,G,Y){var Z,rt,mt=255;for(rt=0;rt<B;++rt){for(Z=0;Z<D;++Z){var Rt=p[b+Z];H[G+4*Z]=Rt,mt&=Rt}b+=A,G+=Y}return mt!=255}function gt(p,b,A,D,B){var H;for(H=0;H<B;++H)A[D+H]=p[b+H]>>8}function St(){ls=S,$e=z,Ze=st,Hn=gt}function jt(p,b,A){C[p]=function(D,B,H,G,Y,Z,rt,mt,Rt,Ct,At,Ht,kt,yt,wt,Ft,Gt){var qt,he=Gt-1>>1,ne=Y[Z+0]|rt[mt+0]<<16,_e=Rt[Ct+0]|At[Ht+0]<<16;t(D!=null);var se=3*ne+_e+131074>>2;for(b(D[B+0],255&se,se>>16,kt,yt),H!=null&&(se=3*_e+ne+131074>>2,b(H[G+0],255&se,se>>16,wt,Ft)),qt=1;qt<=he;++qt){var fn=Y[Z+qt]|rt[mt+qt]<<16,Sn=Rt[Ct+qt]|At[Ht+qt]<<16,Ke=ne+fn+_e+Sn+524296,We=Ke+2*(fn+_e)>>3;se=We+ne>>1,ne=(Ke=Ke+2*(ne+Sn)>>3)+fn>>1,b(D[B+2*qt-1],255&se,se>>16,kt,yt+(2*qt-1)*A),b(D[B+2*qt-0],255&ne,ne>>16,kt,yt+(2*qt-0)*A),H!=null&&(se=Ke+_e>>1,ne=We+Sn>>1,b(H[G+2*qt-1],255&se,se>>16,wt,Ft+(2*qt-1)*A),b(H[G+2*qt+0],255&ne,ne>>16,wt,Ft+(2*qt+0)*A)),ne=fn,_e=Sn}1&Gt||(se=3*ne+_e+131074>>2,b(D[B+Gt-1],255&se,se>>16,kt,yt+(Gt-1)*A),H!=null&&(se=3*_e+ne+131074>>2,b(H[G+Gt-1],255&se,se>>16,wt,Ft+(Gt-1)*A)))}}function Xt(){Yi[vr]=Qa,Yi[au]=_a,Yi[ya]=Mo,Yi[ic]=Kc,Yi[_l]=Qc,Yi[Ga]=uu,Yi[Yc]=$c,Yi[rc]=_a,Yi[Do]=Kc,Yi[Wa]=Qc,Yi[ou]=uu}function re(p){return p&-16384?0>p?0:255:p>>Am}function m(p,b){return re((19077*p>>8)+(26149*b>>8)-14234)}function E(p,b,A){return re((19077*p>>8)-(6419*b>>8)-(13320*A>>8)+8708)}function P(p,b){return re((19077*p>>8)+(33050*b>>8)-17685)}function X(p,b,A,D,B){D[B+0]=m(p,A),D[B+1]=E(p,b,A),D[B+2]=P(p,b)}function xt(p,b,A,D,B){D[B+0]=P(p,b),D[B+1]=E(p,b,A),D[B+2]=m(p,A)}function Dt(p,b,A,D,B){var H=E(p,b,A);b=H<<3&224|P(p,b)>>3,D[B+0]=248&m(p,A)|H>>5,D[B+1]=b}function Kt(p,b,A,D,B){var H=240&P(p,b)|15;D[B+0]=240&m(p,A)|E(p,b,A)>>4,D[B+1]=H}function Ce(p,b,A,D,B){D[B+0]=255,X(p,b,A,D,B+1)}function tn(p,b,A,D,B){xt(p,b,A,D,B),D[B+3]=255}function Ve(p,b,A,D,B){X(p,b,A,D,B),D[B+3]=255}function xn(p,b){return 0>p?0:p>b?b:p}function Dn(p,b,A){C[p]=function(D,B,H,G,Y,Z,rt,mt,Rt){for(var Ct=mt+(-2&Rt)*A;mt!=Ct;)b(D[B+0],H[G+0],Y[Z+0],rt,mt),b(D[B+1],H[G+0],Y[Z+0],rt,mt+A),B+=2,++G,++Z,mt+=2*A;1&Rt&&b(D[B+0],H[G+0],Y[Z+0],rt,mt)}}function bs(p,b,A){return A==0?p==0?b==0?6:5:b==0?4:0:A}function di(p,b,A,D,B){switch(p>>>30){case 3:Ws(b,A,D,B,0);break;case 2:ui(b,A,D,B);break;case 1:Si(b,A,D,B)}}function zr(p,b){var A,D,B=b.M,H=b.Nb,G=p.oc,Y=p.pc+40,Z=p.oc,rt=p.pc+584,mt=p.oc,Rt=p.pc+600;for(A=0;16>A;++A)G[Y+32*A-1]=129;for(A=0;8>A;++A)Z[rt+32*A-1]=129,mt[Rt+32*A-1]=129;for(0<B?G[Y-1-32]=Z[rt-1-32]=mt[Rt-1-32]=129:(r(G,Y-32-1,127,21),r(Z,rt-32-1,127,9),r(mt,Rt-32-1,127,9)),D=0;D<p.za;++D){var Ct=b.ya[b.aa+D];if(0<D){for(A=-1;16>A;++A)i(G,Y+32*A-4,G,Y+32*A+12,4);for(A=-1;8>A;++A)i(Z,rt+32*A-4,Z,rt+32*A+4,4),i(mt,Rt+32*A-4,mt,Rt+32*A+4,4)}var At=p.Gd,Ht=p.Hd+D,kt=Ct.ad,yt=Ct.Hc;if(0<B&&(i(G,Y-32,At[Ht].y,0,16),i(Z,rt-32,At[Ht].f,0,8),i(mt,Rt-32,At[Ht].ea,0,8)),Ct.Za){var wt=G,Ft=Y-32+16;for(0<B&&(D>=p.za-1?r(wt,Ft,At[Ht].y[15],4):i(wt,Ft,At[Ht+1].y,0,4)),A=0;4>A;A++)wt[Ft+128+A]=wt[Ft+256+A]=wt[Ft+384+A]=wt[Ft+0+A];for(A=0;16>A;++A,yt<<=2)wt=G,Ft=Y+Al[A],Nr[Ct.Ob[A]](wt,Ft),di(yt,kt,16*+A,wt,Ft)}else if(wt=bs(D,B,Ct.Ob[0]),Ka[wt](G,Y),yt!=0)for(A=0;16>A;++A,yt<<=2)di(yt,kt,16*+A,G,Y+Al[A]);for(A=Ct.Gc,wt=bs(D,B,Ct.Dd),cs[wt](Z,rt),cs[wt](mt,Rt),yt=kt,wt=Z,Ft=rt,255&(Ct=A>>0)&&(170&Ct?Ys(yt,256,wt,Ft):Hr(yt,256,wt,Ft)),Ct=mt,yt=Rt,255&(A>>=8)&&(170&A?Ys(kt,320,Ct,yt):Hr(kt,320,Ct,yt)),B<p.Ub-1&&(i(At[Ht].y,0,G,Y+480,16),i(At[Ht].f,0,Z,rt+224,8),i(At[Ht].ea,0,mt,Rt+224,8)),A=8*H*p.B,At=p.sa,Ht=p.ta+16*D+16*H*p.R,kt=p.qa,Ct=p.ra+8*D+A,yt=p.Ha,wt=p.Ia+8*D+A,A=0;16>A;++A)i(At,Ht+A*p.R,G,Y+32*A,16);for(A=0;8>A;++A)i(kt,Ct+A*p.B,Z,rt+32*A,8),i(yt,wt+A*p.B,mt,Rt+32*A,8)}}function pa(p,b,A,D,B,H,G,Y,Z){var rt=[0],mt=[0],Rt=0,Ct=Z!=null?Z.kd:0,At=Z??new vo;if(p==null||12>A)return 7;At.data=p,At.w=b,At.ha=A,b=[b],A=[A],At.gb=[At.gb];t:{var Ht=b,kt=A,yt=At.gb;if(t(p!=null),t(kt!=null),t(yt!=null),yt[0]=0,12<=kt[0]&&!e(p,Ht[0],"RIFF")){if(e(p,Ht[0]+8,"WEBP")){yt=3;break t}var wt=ee(p,Ht[0]+4);if(12>wt||4294967286<wt){yt=3;break t}if(Ct&&wt>kt[0]-8){yt=7;break t}yt[0]=wt,Ht[0]+=12,kt[0]-=12}yt=0}if(yt!=0)return yt;for(wt=0<At.gb[0],A=A[0];;){t:{var Ft=p;kt=b,yt=A;var Gt=rt,qt=mt,he=Ht=[0];if((se=Rt=[Rt])[0]=0,8>yt[0])yt=7;else{if(!e(Ft,kt[0],"VP8X")){if(ee(Ft,kt[0]+4)!=10){yt=3;break t}if(18>yt[0]){yt=7;break t}var ne=ee(Ft,kt[0]+8),_e=1+ie(Ft,kt[0]+12);if(2147483648<=_e*(Ft=1+ie(Ft,kt[0]+15))){yt=3;break t}he!=null&&(he[0]=ne),Gt!=null&&(Gt[0]=_e),qt!=null&&(qt[0]=Ft),kt[0]+=18,yt[0]-=18,se[0]=1}yt=0}}if(Rt=Rt[0],Ht=Ht[0],yt!=0)return yt;if(kt=!!(2&Ht),!wt&&Rt)return 3;if(H!=null&&(H[0]=!!(16&Ht)),G!=null&&(G[0]=kt),Y!=null&&(Y[0]=0),G=rt[0],Ht=mt[0],Rt&&kt&&Z==null){yt=0;break}if(4>A){yt=7;break}if(wt&&Rt||!wt&&!Rt&&!e(p,b[0],"ALPH")){A=[A],At.na=[At.na],At.P=[At.P],At.Sa=[At.Sa];t:{ne=p,yt=b,wt=A;var se=At.gb;Gt=At.na,qt=At.P,he=At.Sa,_e=22,t(ne!=null),t(wt!=null),Ft=yt[0];var fn=wt[0];for(t(Gt!=null),t(he!=null),Gt[0]=null,qt[0]=null,he[0]=0;;){if(yt[0]=Ft,wt[0]=fn,8>fn){yt=7;break t}var Sn=ee(ne,Ft+4);if(4294967286<Sn){yt=3;break t}var Ke=8+Sn+1&-2;if(_e+=Ke,0<se&&_e>se){yt=3;break t}if(!e(ne,Ft,"VP8 ")||!e(ne,Ft,"VP8L")){yt=0;break t}if(fn[0]<Ke){yt=7;break t}e(ne,Ft,"ALPH")||(Gt[0]=ne,qt[0]=Ft+8,he[0]=Sn),Ft+=Ke,fn-=Ke}}if(A=A[0],At.na=At.na[0],At.P=At.P[0],At.Sa=At.Sa[0],yt!=0)break}A=[A],At.Ja=[At.Ja],At.xa=[At.xa];t:if(se=p,yt=b,wt=A,Gt=At.gb[0],qt=At.Ja,he=At.xa,ne=yt[0],Ft=!e(se,ne,"VP8 "),_e=!e(se,ne,"VP8L"),t(se!=null),t(wt!=null),t(qt!=null),t(he!=null),8>wt[0])yt=7;else{if(Ft||_e){if(se=ee(se,ne+4),12<=Gt&&se>Gt-12){yt=3;break t}if(Ct&&se>wt[0]-8){yt=7;break t}qt[0]=se,yt[0]+=8,wt[0]-=8,he[0]=_e}else he[0]=5<=wt[0]&&se[ne+0]==47&&!(se[ne+4]>>5),qt[0]=wt[0];yt=0}if(A=A[0],At.Ja=At.Ja[0],At.xa=At.xa[0],b=b[0],yt!=0)break;if(4294967286<At.Ja)return 3;if(Y==null||kt||(Y[0]=At.xa?2:1),G=[G],Ht=[Ht],At.xa){if(5>A){yt=7;break}Y=G,Ct=Ht,kt=H,p==null||5>A?p=0:5<=A&&p[b+0]==47&&!(p[b+4]>>5)?(wt=[0],se=[0],Gt=[0],lt(qt=new j,p,b,A),ce(qt,wt,se,Gt)?(Y!=null&&(Y[0]=wt[0]),Ct!=null&&(Ct[0]=se[0]),kt!=null&&(kt[0]=Gt[0]),p=1):p=0):p=0}else{if(10>A){yt=7;break}Y=Ht,p==null||10>A||!Hi(p,b+3,A-3)?p=0:(Ct=p[b+0]|p[b+1]<<8|p[b+2]<<16,kt=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&Ct||3<(Ct>>1&7)||!(Ct>>4&1)||Ct>>5>=At.Ja||!kt||!p?p=0:(G&&(G[0]=kt),Y&&(Y[0]=p),p=1))}if(!p||(G=G[0],Ht=Ht[0],Rt&&(rt[0]!=G||mt[0]!=Ht)))return 3;Z!=null&&(Z[0]=At,Z.offset=b-Z.w,t(4294967286>b-Z.w),t(Z.offset==Z.ha-A));break}return yt==0||yt==7&&Rt&&Z==null?(H!=null&&(H[0]|=At.na!=null&&0<At.na.length),D!=null&&(D[0]=G),B!=null&&(B[0]=Ht),0):yt}function _o(p,b,A){var D=b.width,B=b.height,H=0,G=0,Y=D,Z=B;if(b.Da=p!=null&&0<p.Da,b.Da&&(Y=p.cd,Z=p.bd,H=p.v,G=p.j,11>A||(H&=-2,G&=-2),0>H||0>G||0>=Y||0>=Z||H+Y>D||G+Z>B))return 0;if(b.v=H,b.j=G,b.va=H+Y,b.o=G+Z,b.U=Y,b.T=Z,b.da=p!=null&&0<p.da,b.da){if(!Ae(Y,Z,A=[p.ib],H=[p.hb]))return 0;b.ib=A[0],b.hb=H[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*D/4&&b.hb<3*B/4,b.Kb=0),1}function nu(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function dl(p,b,A,D){if(D==null||0>=p||0>=b)return 2;if(A!=null){if(A.Da){var B=A.cd,H=A.bd,G=-2&A.v,Y=-2&A.j;if(0>G||0>Y||0>=B||0>=H||G+B>p||Y+H>b)return 2;p=B,b=H}if(A.da){if(!Ae(p,b,B=[A.ib],H=[A.hb]))return 2;p=B[0],b=H[0]}}D.width=p,D.height=b;t:{var Z=D.width,rt=D.height;if(p=D.S,0>=Z||0>=rt||!(p>=vr&&13>p))p=2;else{if(0>=D.Rd&&D.sd==null){G=H=B=b=0;var mt=(Y=Z*Ud[p])*rt;if(11>p||(H=(rt+1)/2*(b=(Z+1)/2),p==12&&(G=(B=Z)*rt)),(rt=a(mt+2*H+G))==null){p=1;break t}D.sd=rt,11>p?((Z=D.f.RGBA).eb=rt,Z.fb=0,Z.A=Y,Z.size=mt):((Z=D.f.kb).y=rt,Z.O=0,Z.fa=Y,Z.Fd=mt,Z.f=rt,Z.N=0+mt,Z.Ab=b,Z.Cd=H,Z.ea=rt,Z.W=0+mt+H,Z.Db=b,Z.Ed=H,p==12&&(Z.F=rt,Z.J=0+mt+2*H),Z.Tc=G,Z.lb=B)}if(b=1,B=D.S,H=D.width,G=D.height,B>=vr&&13>B)if(11>B)p=D.f.RGBA,b&=(Y=Math.abs(p.A))*(G-1)+H<=p.size,b&=Y>=H*Ud[B],b&=p.eb!=null;else{p=D.f.kb,Y=(H+1)/2,mt=(G+1)/2,Z=Math.abs(p.fa),rt=Math.abs(p.Ab);var Rt=Math.abs(p.Db),Ct=Math.abs(p.lb),At=Ct*(G-1)+H;b&=Z*(G-1)+H<=p.Fd,b&=rt*(mt-1)+Y<=p.Cd,b=(b&=Rt*(mt-1)+Y<=p.Ed)&Z>=H&rt>=Y&Rt>=Y,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,B==12&&(b&=Ct>=H,b&=At<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||A!=null&&A.fd&&(p=nu(D)),p}var Ii=64,wo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pl=24,gl=32,iu=8,qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];te("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(p){return p},C.Predictor2=function(p,b,A){return b[A+0]},C.Predictor3=function(p,b,A){return b[A+1]},C.Predictor4=function(p,b,A){return b[A-1]},C.Predictor5=function(p,b,A){return oe(oe(p,b[A+1]),b[A+0])},C.Predictor6=function(p,b,A){return oe(p,b[A-1])},C.Predictor7=function(p,b,A){return oe(p,b[A+0])},C.Predictor8=function(p,b,A){return oe(b[A-1],b[A+0])},C.Predictor9=function(p,b,A){return oe(b[A+0],b[A+1])},C.Predictor10=function(p,b,A){return oe(oe(p,b[A-1]),oe(b[A+0],b[A+1]))},C.Predictor11=function(p,b,A){var D=b[A+0];return 0>=je(D>>24&255,p>>24&255,(b=b[A-1])>>24&255)+je(D>>16&255,p>>16&255,b>>16&255)+je(D>>8&255,p>>8&255,b>>8&255)+je(255&D,255&p,255&b)?D:p},C.Predictor12=function(p,b,A){var D=b[A+0];return(ve((p>>24&255)+(D>>24&255)-((b=b[A-1])>>24&255))<<24|ve((p>>16&255)+(D>>16&255)-(b>>16&255))<<16|ve((p>>8&255)+(D>>8&255)-(b>>8&255))<<8|ve((255&p)+(255&D)-(255&b)))>>>0},C.Predictor13=function(p,b,A){var D=b[A-1];return(De((p=oe(p,b[A+0]))>>24&255,D>>24&255)<<24|De(p>>16&255,D>>16&255)<<16|De(p>>8&255,D>>8&255)<<8|De(p>>0&255,D>>0&255))>>>0};var sf=C.PredictorAdd0;C.PredictorAdd1=be,te("Predictor2","PredictorAdd2"),te("Predictor3","PredictorAdd3"),te("Predictor4","PredictorAdd4"),te("Predictor5","PredictorAdd5"),te("Predictor6","PredictorAdd6"),te("Predictor7","PredictorAdd7"),te("Predictor8","PredictorAdd8"),te("Predictor9","PredictorAdd9"),te("Predictor10","PredictorAdd10"),te("Predictor11","PredictorAdd11"),te("Predictor12","PredictorAdd12"),te("Predictor13","PredictorAdd13");var ec=C.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Gc,_s=C.ColorIndexInverseTransform,Gi=C.MapARGB,xo=C.VP8LColorIndexInverseTransformAlpha,nc=C.MapAlpha,qa=C.VP8LPredictorsAdd=[];qa.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var So,Tr,sr,Ao,Ur,Gs,ga,Ws,ui,Ys,Si,Hr,ml,ma,ru,Eo,To,No,yl,su,Co,Ua,vl,ci,ls,$e,Ze,Hn,pi=a(511),ws=a(2041),Lo=a(225),Ro=a(767),Ha=0,Wc=ws,bl=Lo,Wi=Ro,xs=pi,vr=0,au=1,ya=2,ic=3,_l=4,Ga=5,Yc=6,rc=7,Do=8,Wa=9,ou=10,Xc=[2,3,7],Ss=[3,3,11],us=[280,256,256,256,40],wl=[0,1,1,1,0],Ya=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vd=8,sc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ac=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mi=null,hi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Io=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],va=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],af=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ka=[],Nr=[],cs=[],Bd=1,lu=2,ba=[],Yi=[];jt("UpsampleRgbLinePair",X,3),jt("UpsampleBgrLinePair",xt,3),jt("UpsampleRgbaLinePair",Ve,4),jt("UpsampleBgraLinePair",tn,4),jt("UpsampleArgbLinePair",Ce,4),jt("UpsampleRgba4444LinePair",Kt,2),jt("UpsampleRgb565LinePair",Dt,2);var Qa=C.UpsampleRgbLinePair,Mo=C.UpsampleBgrLinePair,_a=C.UpsampleRgbaLinePair,Kc=C.UpsampleBgraLinePair,Qc=C.UpsampleArgbLinePair,uu=C.UpsampleRgba4444LinePair,$c=C.UpsampleRgb565LinePair,wa=16,Pi=1<<wa-1,Po=-227,Zc=482,Am=6,zd=0,Em=a(256),Oi=a(256),of=a(256),oc=a(256),lc=a(Zc-Po),lf=a(Zc-Po);Dn("YuvToRgbRow",X,3),Dn("YuvToBgrRow",xt,3),Dn("YuvToRgbaRow",Ve,4),Dn("YuvToBgraRow",tn,4),Dn("YuvToArgbRow",Ce,4),Dn("YuvToRgba4444Row",Kt,2),Dn("YuvToRgb565Row",Dt,2);var Al=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$a=[0,2,8],Tm=[8,7,6,4,4,2,2,2,1,1,1,1],qd=1;this.WebPDecodeRGBA=function(p,b,A,D,B){var H=au,G=new Fa,Y=new Ci;G.ba=Y,Y.S=H,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,rt=Y.height,mt=new tr;if(mt==null||p==null)var Rt=2;else t(mt!=null),Rt=pa(p,b,A,mt.width,mt.height,mt.Pd,mt.Qd,mt.format,null);if(Rt!=0?Z=0:(Z!=null&&(Z[0]=mt.width[0]),rt!=null&&(rt[0]=mt.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],D!=null&&(D[0]=Y.width),B!=null&&(B[0]=Y.height);t:{if(D=new js,(B=new vo).data=p,B.w=b,B.ha=A,B.kd=1,b=[0],t(B!=null),((p=pa(B.data,B.w,B.ha,null,null,null,b,null,B))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(t(G!=null),D.data=B.data,D.w=B.w+B.offset,D.ha=B.ha-B.offset,D.put=er,D.ac=oi,D.bc=rs,D.ma=G,B.xa){if((p=qn())==null){G=1;break t}if(function(Ct,At){var Ht=[0],kt=[0],yt=[0];e:for(;;){if(Ct==null)return 0;if(At==null)return Ct.a=2,0;if(Ct.l=At,Ct.a=0,lt(Ct.m,At.data,At.w,At.ha),!ce(Ct.m,Ht,kt,yt)){Ct.a=3;break e}if(Ct.xb=lu,At.width=Ht[0],At.height=kt[0],!_n(Ht[0],kt[0],1,Ct,null))break e;return 1}return t(Ct.a!=0),0}(p,D)){if(D=(b=dl(D.width,D.height,G.Oa,G.ba))==0){e:{D=p;n:for(;;){if(D==null){D=0;break e}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((A=D.l)!=null),t((B=A.ma)!=null),D.xb!=0){if(D.ca=B.ba,D.tb=B.tb,t(D.ca!=null),!_o(B.Oa,A,ic)){D.a=2;break n}if(!Ps(D,A.width)||A.da)break n;if((A.da||an(D.ca.S))&&St(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&St()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!we(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!_i(D,D.V,D.Ba,D.c,D.i,A.o,Ia))break n;B.Dc=D.Ma,D=1;break e}t(D.a!=0),D=0}D=!D}D&&(b=p.a)}else b=p.a}else{if((p=new al)==null){G=1;break t}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,fo(p,D)){if((b=dl(D.width,D.height,G.Oa,G.ba))==0){if(p.Aa=0,A=G.Oa,t((B=p)!=null),A!=null){if(0<(Z=0>(Z=A.Md)?0:100<Z?255:255*Z/100)){for(rt=mt=0;4>rt;++rt)12>(Rt=B.pb[rt]).lc&&(Rt.ia=Z*Tm[0>Rt.lc?0:Rt.lc]>>3),mt|=Rt.ia;mt&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=A.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}ol(p,D)||(b=p.a)}}else b=p.a}b==0&&G.Oa!=null&&G.Oa.fd&&(b=nu(G.ba))}G=b}H=G!=0?null:11>H?Y.f.RGBA.eb:Y.f.kb.y}else H=null;return H};var Ud=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(C,k){for(var U="",R=0;R<4;R++)U+=String.fromCharCode(C[k++]);return U}function g(C,k){return(C[k+0]<<0|C[k+1]<<8|C[k+2]<<16)>>>0}function v(C,k){return(C[k+0]<<0|C[k+1]<<8|C[k+2]<<16|C[k+3]<<24)>>>0}new h;var w=[0],_=[0],T=[],N=new h,I=n,O=function(C,k){var U={},R=0,L=!1,M=0,nt=0;if(U.frames=[],!function(W,tt,at,ft){for(var Tt=0;Tt<ft;Tt++)if(W[tt+Tt]!=at.charCodeAt(Tt))return!0;return!1}(C,k,"RIFF",4)){for(v(C,k+=4),k+=8;k<C.length;){var pt=f(C,k),et=v(C,k+=4);k+=4;var ht=et+(1&et);switch(pt){case"VP8 ":case"VP8L":U.frames[R]===void 0&&(U.frames[R]={}),(Q=U.frames[R]).src_off=L?nt:k-8,Q.src_size=M+et+8,R++,L&&(L=!1,M=0,nt=0);break;case"VP8X":(Q=U.header={}).feature_flags=C[k];var lt=k+4;Q.canvas_width=1+g(C,lt),lt+=3,Q.canvas_height=1+g(C,lt),lt+=3;break;case"ALPH":L=!0,M=ht+8,nt=k-8;break;case"ANIM":(Q=U.header).bgcolor=v(C,k),lt=k+4,Q.loop_count=(vt=C)[(j=lt)+0]<<0|vt[j+1]<<8,lt+=2;break;case"ANMF":var _t,Q;(Q=U.frames[R]={}).offset_x=2*g(C,k),k+=3,Q.offset_y=2*g(C,k),k+=3,Q.width=1+g(C,k),k+=3,Q.height=1+g(C,k),k+=3,Q.duration=g(C,k),k+=3,_t=C[k++],Q.dispose=1&_t,Q.blend=_t>>1&1}pt!="ANMF"&&(k+=ht)}var vt,j;return U}}(I,0);O.response=I,O.rgbaoutput=!0,O.dataurl=!1;var q=O.header?O.header:null,J=O.frames?O.frames:null;if(q){q.loop_counter=q.loop_count,w=[q.canvas_height],_=[q.canvas_width];for(var ot=0;ot<J.length&&J[ot].blend!=0;ot++);}var $=J[0],ut=N.WebPDecodeRGBA(I,$.src_off,$.src_size,_,w);$.rgba=ut,$.imgwidth=_[0],$.imgheight=w[0];for(var F=0;F<_[0]*w[0]*4;F++)T[F]=ut[F];return this.width=_,this.height=w,this.data=T,this}(function(n){var t=function(){return typeof q0=="function"},e=function(w,_,T,N){var I=4,O=l;switch(N){case n.image_compression.FAST:I=1,O=a;break;case n.image_compression.MEDIUM:I=6,O=u;break;case n.image_compression.SLOW:I=9,O=h}w=i(w,_,T,O);var q=q0(w,{level:I});return n.__addimage__.arrayBufferToBinaryString(q)},i=function(w,_,T,N){for(var I,O,q,J=w.length/_,ot=new Uint8Array(w.length+J),$=g(),ut=0;ut<J;ut+=1){if(q=ut*_,I=w.subarray(q,q+_),N)ot.set(N(I,T,O),q+ut);else{for(var F,C=$.length,k=[];F<C;F+=1)k[F]=$[F](I,T,O);var U=v(k.concat());ot.set(k[U],q+ut)}O=I}return ot},r=function(w){var _=Array.apply([],w);return _.unshift(0),_},a=function(w,_){var T,N=[],I=w.length;N[0]=1;for(var O=0;O<I;O+=1)T=w[O-_]||0,N[O+1]=w[O]-T+256&255;return N},l=function(w,_,T){var N,I=[],O=w.length;I[0]=2;for(var q=0;q<O;q+=1)N=T&&T[q]||0,I[q+1]=w[q]-N+256&255;return I},u=function(w,_,T){var N,I,O=[],q=w.length;O[0]=3;for(var J=0;J<q;J+=1)N=w[J-_]||0,I=T&&T[J]||0,O[J+1]=w[J]+256-(N+I>>>1)&255;return O},h=function(w,_,T){var N,I,O,q,J=[],ot=w.length;J[0]=4;for(var $=0;$<ot;$+=1)N=w[$-_]||0,I=T&&T[$]||0,O=T&&T[$-_]||0,q=f(N,I,O),J[$+1]=w[$]-q+256&255;return J},f=function(w,_,T){if(w===_&&_===T)return w;var N=Math.abs(_-T),I=Math.abs(w-T),O=Math.abs(w+_-T-T);return N<=I&&N<=O?w:I<=O?_:T},g=function(){return[r,a,l,u,h]},v=function(w){var _=w.map(function(T){return T.reduce(function(N,I){return N+Math.abs(I)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(w,_,T,N){var I,O,q,J,ot,$,ut,F,C,k,U,R,L,M,nt,pt=this.decode.FLATE_DECODE,et="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(q=new C7(w)).imgData,O=q.bits,I=q.colorSpace,ot=q.colors,[4,6].indexOf(q.colorType)!==-1){if(q.bits===8){C=(F=q.pixelBitlength==32?new Uint32Array(q.decodePixels().buffer):q.pixelBitlength==16?new Uint16Array(q.decodePixels().buffer):new Uint8Array(q.decodePixels().buffer)).length,U=new Uint8Array(C*q.colors),k=new Uint8Array(C);var ht,lt=q.pixelBitlength-q.bits;for(M=0,nt=0;M<C;M++){for(L=F[M],ht=0;ht<lt;)U[nt++]=L>>>ht&255,ht+=q.bits;k[M]=L>>>ht&255}}if(q.bits===16){C=(F=new Uint32Array(q.decodePixels().buffer)).length,U=new Uint8Array(C*(32/q.pixelBitlength)*q.colors),k=new Uint8Array(C*(32/q.pixelBitlength)),R=q.colors>1,M=0,nt=0;for(var _t=0;M<C;)L=F[M++],U[nt++]=L>>>0&255,R&&(U[nt++]=L>>>16&255,L=F[M++],U[nt++]=L>>>0&255),k[_t++]=L>>>16&255;O=8}N!==n.image_compression.NONE&&t()?(w=e(U,q.width*q.colors,q.colors,N),ut=e(k,q.width,1,N)):(w=U,ut=k,pt=void 0)}if(q.colorType===3&&(I=this.color_spaces.INDEXED,$=q.palette,q.transparency.indexed)){var Q=q.transparency.indexed,vt=0;for(M=0,C=Q.length;M<C;++M)vt+=Q[M];if((vt/=255)===C-1&&Q.indexOf(0)!==-1)J=[Q.indexOf(0)];else if(vt!==C){for(F=q.decodePixels(),k=new Uint8Array(F.length),M=0,C=F.length;M<C;M++)k[M]=Q[F[M]];ut=e(k,q.width,1)}}var j=function(W){var tt;switch(W){case n.image_compression.FAST:tt=11;break;case n.image_compression.MEDIUM:tt=13;break;case n.image_compression.SLOW:tt=14;break;default:tt=12}return tt}(N);return pt===this.decode.FLATE_DECODE&&(et="/Predictor "+j+" "),et+="/Colors "+ot+" /BitsPerComponent "+O+" /Columns "+q.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(ut&&this.__addimage__.isArrayBuffer(ut)||this.__addimage__.isArrayBufferView(ut))&&(ut=this.__addimage__.arrayBufferToBinaryString(ut)),{alias:T,data:w,index:_,filter:pt,decodeParameters:et,transparency:J,palette:$,sMask:ut,predictor:j,width:q.width,height:q.height,bitsPerComponent:O,colorSpace:I}}}})(Re.API),function(n){n.processGIF89A=function(t,e,i,r){var a=new L7(t),l=a.width,u=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:l,height:u},g=new Z1(100).encode(f,100);return n.processJPEG.call(this,g,e,i,r)},n.processGIF87A=n.processGIF89A}(Re.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Qn.log("bit decode error:"+e)}},so.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var h=this.palette[a>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var a=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*r*4,u=a>>4,h=15&a,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*r+1>=this.width)break;f=this.palette[h],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;if(r<this.palette.length){var l=this.palette[r];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,u=(a>>5&t)/t*255|0,h=(a>>10&t)/t*255|0,f=a>>15?255:0,g=i*this.width*4+4*r;this.data[g]=h,this.data[g+1]=u,this.data[g+2]=l,this.data[g+3]=f}this.pos+=n}},so.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&t)/t*255|0,h=(l>>5&e)/e*255|0,f=(l>>11)/t*255|0,g=r*this.width*4+4*a;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=u,this.data[g+3]=255}this.pos+=n}},so.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=a,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=l}},so.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var a=new so(t,!1),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},f=new Z1(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(Re.API),Wb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var a=new Wb(t),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},f=new Z1(100).encode(h,100);return n.processJPEG.call(this,f,e,i,r)}}(Re.API),Re.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,a=new Uint8Array(r/4*3),l=new Uint8Array(r/4),u=0,h=0,f=0;f<r;f+=4){var g=i[f],v=i[f+1],w=i[f+2],_=i[f+3];a[u++]=g,a[u++]=v,a[u++]=w,l[h++]=_}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:T,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Re.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wh=Re.API,Hp=wh.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:r.metadata.Unicode.widths,h=u.fof?u.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,g=f.fof?f.fof:1,v=t.doKerning!==!1,w=0,_=n.length,T=0,N=u[0]||h,I=[];for(e=0;e<_;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+l*(1e3/a)||0)/1e3):(w=v&&Fn(f[i])==="object"&&!isNaN(parseInt(f[i][T],10))?f[i][T]/g:0,I.push((u[i]||N)/h+w)),T=i;return I},qb=wh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return wh.processArabic&&(n=wh.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:Hp.apply(this,arguments).reduce(function(a,l){return a+l},0)},Ub=function(n,t,e,i){for(var r=[],a=0,l=n.length,u=0;a!==l&&u+t[a]<e;)u+=t[a],a++;r.push(n.slice(0,a));var h=a;for(u=0;a!==l;)u+t[a]>i&&(r.push(n.slice(h,a)),u=0,h=a),u+=t[a],a++;return h!==a&&r.push(n.slice(h,a)),r},Hb=function(n,t,e){e||(e={});var i,r,a,l,u,h,f,g=[],v=[g],w=e.textIndent||0,_=0,T=0,N=n.split(" "),I=Hp.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var O=Array(h).join(" "),q=[];N.map(function(ot){(ot=ot.split(/\s*\n/)).length>1?q=q.concat(ot.map(function($,ut){return(ut&&$.length?`
`:"")+$})):q.push(ot[0])}),N=q,h=qb.apply(this,[O,e])}for(a=0,l=N.length;a<l;a++){var J=0;if(i=N[a],h&&i[0]==`
`&&(i=i.substr(1),J=1),w+_+(T=(r=Hp.apply(this,[i,e])).reduce(function(ot,$){return ot+$},0))>t||J){if(T>t){for(u=Ub.apply(this,[i,r,t-(w+_),t]),g.push(u.shift()),g=[u.pop()];u.length;)v.push([u.shift()]);T=r.slice(i.length-(g[0]?g[0].length:0)).reduce(function(ot,$){return ot+$},0)}else g=[i];v.push(g),w=T+h,_=I}else g.push(i),w+=_+T,_=I}return f=h?function(ot,$){return($?O:"")+ot.join(" ")}:function(ot){return ot.join(" ")},v.map(f)},wh.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var v=this.internal.getFont(g.fontName,g.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/r;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=e.lineIndent;var u,h,f=[];for(u=0,h=i.length;u<h;u++)f=f.concat(Hb.apply(this,[i[u],l,a]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var a=function(v){return"0x"+parseInt(v,10).toString(16)},l=n.__fontmetrics__.compress=function(v){var w,_,T,N,I=["{"];for(var O in v){if(w=v[O],isNaN(parseInt(O,10))?_="'"+O+"'":(O=parseInt(O,10),_=(_=a(O).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof w=="number")w<0?(T=a(w).slice(3),N="-"):(T=a(w).slice(2),N=""),T=N+T.slice(0,-1)+i[T.slice(-1)];else{if(Fn(w)!=="object")throw new Error("Don't know what to do with value type "+Fn(w)+".");T=l(w)}I.push(_+T)}return I.push("}"),I.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,_,T,N,I={},O=1,q=I,J=[],ot="",$="",ut=v.length-1,F=1;F<ut;F+=1)(N=v[F])=="'"?w?(T=w.join(""),w=void 0):w=[]:w?w.push(N):N=="{"?(J.push([q,T]),q={},T=void 0):N=="}"?((_=J.pop())[0][_[1]]=q,T=void 0,q=_[0]):N=="-"?O=-1:T===void 0?e.hasOwnProperty(N)?(ot+=e[N],T=parseInt(ot,16)*O,O=1,ot=""):ot+=N:e.hasOwnProperty(N)?($+=e[N],q[T]=parseInt($,16)*O,O=1,T=void 0,$=""):$+=N;return I},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var w=v.font,_=g.Unicode[w.postScriptName];_&&(w.metadata.Unicode={},w.metadata.Unicode.widths=_.widths,w.metadata.Unicode.kerning=_.kerning);var T=f.Unicode[w.postScriptName];T&&(w.metadata.Unicode.encoding=T,w.encoding=T.codePages[0])}])}(Re.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=e.charCodeAt(a);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,a=e.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(ld(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(r,i)}}])}(Re),function(n){function t(){return(Pe.canvg?Promise.resolve(Pe.canvg):j0(()=>import("./index.es-B3o3UrRE.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Re.API.addSvgAsImage=function(e,i,r,a,l,u,h,f){if(isNaN(i)||isNaN(r))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=a,g.height=l;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return t().then(function(T){return T.fromString(v,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(w)}).then(function(){_.addImage(g.toDataURL("image/jpeg",1),i,r,a,l,h,f)})}}(),Re.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Re.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],f=0,g=0,v=0;function w(T,N){var I,O=!1;for(I=0;I<T.length;I+=1)T[I]===N&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var _=u.length;for(v=0;v<_;v+=1)e[u[v]].value=e[u[v]].defaultValue,e[u[v]].explicitSet=!1}if(Fn(n)==="object"){for(r in n)if(a=n[r],w(u,r)&&a!==void 0){if(e[r].type==="boolean"&&typeof a=="boolean")e[r].value=a;else if(e[r].type==="name"&&w(e[r].valueSet,a))e[r].value=a;else if(e[r].type==="integer"&&Number.isInteger(a))e[r].value=a;else if(e[r].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(g=0;g<a[f].length;g+=1)typeof a[f][g]!="number"&&(i=!1);i===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}e[r].value="["+h.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,N=[];for(T in e)e[T].explicitSet===!0&&(e[T].type==="name"?N.push("/"+T+" /"+e[T].value):N.push("/"+T+" "+e[T].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+l.length+u.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+a+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Re.API),function(n){var t=n.API,e=t.pdfEscape16=function(a,l){for(var u,h=l.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],v=0,w=a.length;v<w;++v){if(u=l.metadata.characterToGlyph(a.charCodeAt(v)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=a.charCodeAt(v),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(f[4-u.length],u)}return g.join("")},i=function(a){var l,u,h,f,g,v,w;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],v=0,w=(u=Object.keys(a).sort(function(_,T){return _-T})).length;v<w;v++)l=u[v],h.length>=100&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(f=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+f+">"));return h.length&&(g+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,f=l.newObject,g=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),_="",T=0;T<w.length;T++)_+=String.fromCharCode(w[T]);var N=f();g({data:_,addLength1:!0,objectId:N}),h("endobj");var I=f();g({data:i(u.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var O=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Lh(u.fontName)),h("/FontFile2 "+N+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var q=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Lh(u.fontName)),h("/FontDescriptor "+O+" 0 R"),h("/W "+n.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+I+" 0 R"),h("/BaseFont /"+Lh(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+q+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,f=l.newObject,g=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,w="",_=0;_<v.length;_++)w+=String.fromCharCode(v[_]);var T=f();g({data:w,addLength1:!0,objectId:T}),h("endobj");var N=f();g({data:i(u.metadata.toUnicode),addLength1:!0,objectId:N}),h("endobj");var I=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Lh(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var O=0;O<u.metadata.hmtx.widths.length;O++)u.metadata.hmtx.widths[O]=parseInt(u.metadata.hmtx.widths[O]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Lh(u.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]);var r=function(a){var l,u=a.text||"",h=a.x,f=a.y,g=a.options||{},v=a.mutex||{},w=v.pdfEscape,_=v.activeFontKey,T=v.fonts,N=_,I="",O=0,q="",J=T[N].encoding;if(T[N].encoding!=="Identity-H")return{text:u,x:h,y:f,options:g,mutex:v};for(q=u,N=_,Array.isArray(u)&&(q=u[0]),O=0;O<q.length;O+=1)T[N].metadata.hasOwnProperty("cmap")&&(l=T[N].metadata.cmap.unicode.codeMap[q[O].charCodeAt(0)]),l||q[O].charCodeAt(0)<256&&T[N].metadata.hasOwnProperty("Unicode")?I+=q[O]:I+="";var ot="";return parseInt(N.slice(1))<14||J==="WinAnsiEncoding"?ot=w(I,N).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&(ot=e(I,T[N])),v.isHex=!0,{text:ot,x:h,y:f,options:g,mutex:v}};t.events.push(["postProcessText",function(a){var l=a.text||"",u=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([r(Object.assign({},h,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(r(Object.assign({},h,{text:l[f]})).text);a.text=u}else a.text=r(Object.assign({},h,{text:l})).text}])}(Re),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Re.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,a,l,u,h,f,g,v=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,J=0;this.__bidiEngine__={};var ot=function(R){var L=R.charCodeAt(),M=L>>8,nt=N[M];return nt!==void 0?v[256*nt+(255&L)]:M===252||M===253?"AL":O.test(M)?"L":M===8?"R":"N"},$=function(R){for(var L,M=0;M<R.length;M++){if((L=ot(R.charAt(M)))==="L")return!1;if(L==="R")return!0}return!1},ut=function(R,L,M,nt){var pt,et,ht,lt,_t=L[nt];switch(_t){case"L":case"R":q=!1;break;case"N":case"AN":break;case"EN":q&&(_t="AN");break;case"AL":q=!0,_t="R";break;case"WS":_t="N";break;case"CS":nt<1||nt+1>=L.length||(pt=M[nt-1])!=="EN"&&pt!=="AN"||(et=L[nt+1])!=="EN"&&et!=="AN"?_t="N":q&&(et="AN"),_t=et===pt?et:"N";break;case"ES":_t=(pt=nt>0?M[nt-1]:"B")==="EN"&&nt+1<L.length&&L[nt+1]==="EN"?"EN":"N";break;case"ET":if(nt>0&&M[nt-1]==="EN"){_t="EN";break}if(q){_t="N";break}for(ht=nt+1,lt=L.length;ht<lt&&L[ht]==="ET";)ht++;_t=ht<lt&&L[ht]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(lt=L.length,ht=nt+1;ht<lt&&L[ht]==="NSM";)ht++;if(ht<lt){var Q=R[nt],vt=Q>=1425&&Q<=2303||Q===64286;if(pt=L[ht],vt&&(pt==="R"||pt==="AL")){_t="R";break}}}_t=nt<1||(pt=L[nt-1])==="B"?"N":M[nt-1];break;case"B":q=!1,r=!0,_t=J;break;case"S":a=!0,_t="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"BN":_t="N"}return _t},F=function(R,L,M){var nt=R.split("");return M&&C(nt,M,{hiLevel:J}),nt.reverse(),L&&L.reverse(),nt.join("")},C=function(R,L,M){var nt,pt,et,ht,lt,_t=-1,Q=R.length,vt=0,j=[],W=J?_:w,tt=[];for(q=!1,r=!1,a=!1,pt=0;pt<Q;pt++)tt[pt]=ot(R[pt]);for(et=0;et<Q;et++){if(lt=vt,j[et]=ut(R,tt,j,et),nt=240&(vt=W[lt][T[j[et]]]),vt&=15,L[et]=ht=W[vt][5],nt>0)if(nt===16){for(pt=_t;pt<et;pt++)L[pt]=1;_t=-1}else _t=-1;if(W[vt][6])_t===-1&&(_t=et);else if(_t>-1){for(pt=_t;pt<et;pt++)L[pt]=ht;_t=-1}tt[et]==="B"&&(L[et]=0),M.hiLevel|=ht}a&&function(at,ft,Tt){for(var Nt=0;Nt<Tt;Nt++)if(at[Nt]==="S"){ft[Nt]=J;for(var Mt=Nt-1;Mt>=0&&at[Mt]==="WS";Mt--)ft[Mt]=J}}(tt,L,Q)},k=function(R,L,M,nt,pt){if(!(pt.hiLevel<R)){if(R===1&&J===1&&!r)return L.reverse(),void(M&&M.reverse());for(var et,ht,lt,_t,Q=L.length,vt=0;vt<Q;){if(nt[vt]>=R){for(lt=vt+1;lt<Q&&nt[lt]>=R;)lt++;for(_t=vt,ht=lt-1;_t<ht;_t++,ht--)et=L[_t],L[_t]=L[ht],L[ht]=et,M&&(et=M[_t],M[_t]=M[ht],M[ht]=et);vt=lt}vt++}}},U=function(R,L,M){var nt=R.split(""),pt={hiLevel:J};return M||(M=[]),C(nt,M,pt),function(et,ht,lt){if(lt.hiLevel!==0&&g)for(var _t,Q=0;Q<et.length;Q++)ht[Q]===1&&(_t=I.indexOf(et[Q]))>=0&&(et[Q]=I[_t+1])}(nt,M,pt),k(2,nt,L,M,pt),k(1,nt,L,M,pt),nt.join("")};return this.__bidiEngine__.doBidiReorder=function(R,L,M){if(function(pt,et){if(et)for(var ht=0;ht<pt.length;ht++)et[ht]=ht;u===void 0&&(u=$(pt)),f===void 0&&(f=$(pt))}(R,L),l||!h||f)if(l&&h&&u^f)J=u?1:0,R=F(R,L,M);else if(!l&&h&&f)J=u?1:0,R=U(R,L,M),R=F(R,L);else if(!l||u||h||f){if(l&&!h&&u^f)R=F(R,L),u?(J=0,R=U(R,L,M)):(J=1,R=U(R,L,M),R=F(R,L));else if(l&&u&&!h&&f)J=1,R=U(R,L,M),R=F(R,L);else if(!l&&!h&&u^f){var nt=g;u?(J=1,R=U(R,L,M),J=0,g=!1,R=U(R,L,M),g=nt):(J=0,R=U(R,L,M),R=F(R,L),J=1,g=!1,R=U(R,L,M),g=nt,R=F(R,L))}}else J=0,R=U(R,L,M);else J=u?1:0,R=U(R,L,M);return R},this.__bidiEngine__.setOptions=function(R){R&&(l=R.isInputVisual,h=R.isOutputVisual,u=R.isInputRtl,f=R.isOutputRtl,g=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(l=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?l.push([e.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):l.push([e.doBidiReorder(r[u])]);i.text=l}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Re),Re.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new $u(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new H7(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new R7(this.contents),this.head=new I7(this),this.name=new j7(this),this.cmap=new _3(this),this.toUnicode={},this.hhea=new M7(this),this.maxp=new V7(this),this.hmtx=new F7(this),this.post=new O7(this),this.os2=new P7(this),this.loca=new U7(this),this.glyf=new B7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,f;for(f=[],l=0,u=(h=this.bbox).length;l<u;l++)t=h[l],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(e=r>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,a,l,u;for(l=0,a=0,u=(t=""+t).length;0<=u?a<u:a>u;a=0<=u?++a:--a)r=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return l*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var co,$u=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,a,l,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*a+65536*l+256*u+h},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)e=t[i],a.push(this.writeByte(e));return a},n}(),R7=function(){var n;function t(e){var i,r,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,a,l,u,h,f,g,v,w,_,T,N;for(N in _=Object.keys(e).length,h=Math.log(2),v=16*Math.floor(Math.log(_)/h),l=Math.floor(v/h),g=16*_-v,(r=new $u).writeInt(this.scalarType),r.writeShort(_),r.writeShort(v),r.writeShort(l),r.writeShort(g),a=16*_,f=r.pos+a,u=null,T=[],e)for(w=e[N],r.writeString(N),r.writeInt(n(w)),r.writeInt(f),r.writeInt(w.length),T=T.concat(w),N==="head"&&(u=f),f+=w.length;f%4;)T.push(0),f++;return r.write(T),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(e){var i,r,a,l;for(e=w3.call(e);e.length%4;)e.push(0);for(a=new $u(e),r=0,i=0,l=e.length;i<l;i=i+=4)r+=a.readUInt32();return 4294967295&r},t}(),D7={}.hasOwnProperty,il=function(n,t){for(var e in t)D7.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};co=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var I7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new $u).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),Yb=function(){function n(t,e){var i,r,a,l,u,h,f,g,v,w,_,T,N,I,O,q,J;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(_=t.readUInt16(),w=_/2,t.pos+=6,a=function(){var ot,$;for($=[],h=ot=0;0<=w?ot<w:ot>w;h=0<=w?++ot:--ot)$.push(t.readUInt16());return $}(),t.pos+=2,N=function(){var ot,$;for($=[],h=ot=0;0<=w?ot<w:ot>w;h=0<=w?++ot:--ot)$.push(t.readUInt16());return $}(),f=function(){var ot,$;for($=[],h=ot=0;0<=w?ot<w:ot>w;h=0<=w?++ot:--ot)$.push(t.readUInt16());return $}(),g=function(){var ot,$;for($=[],h=ot=0;0<=w?ot<w:ot>w;h=0<=w?++ot:--ot)$.push(t.readUInt16());return $}(),r=(this.length-t.pos+this.offset)/2,u=function(){var ot,$;for($=[],h=ot=0;0<=r?ot<r:ot>r;h=0<=r?++ot:--ot)$.push(t.readUInt16());return $}(),h=O=0,J=a.length;O<J;h=++O)for(I=a[h],i=q=T=N[h];T<=I?q<=I:q>=I;i=T<=I?++q:--q)g[h]===0?l=i+f[h]:(l=u[g[h]/2+(i-T)-(w-h)]||0)!==0&&(l+=f[h]),this.codeMap[i]=65535&l}t.pos=v}return n.encode=function(t,e){var i,r,a,l,u,h,f,g,v,w,_,T,N,I,O,q,J,ot,$,ut,F,C,k,U,R,L,M,nt,pt,et,ht,lt,_t,Q,vt,j,W,tt,at,ft,Tt,Nt,Mt,Zt,Qt,ie;switch(nt=new $u,l=Object.keys(t).sort(function(ee,we){return ee-we}),e){case"macroman":for(N=0,I=function(){var ee=[];for(T=0;T<256;++T)ee.push(0);return ee}(),q={0:0},a={},pt=0,_t=l.length;pt<_t;pt++)q[Mt=t[r=l[pt]]]==null&&(q[Mt]=++N),a[r]={old:t[r],new:q[t[r]]},I[r]=q[t[r]];return nt.writeUInt16(1),nt.writeUInt16(0),nt.writeUInt32(12),nt.writeUInt16(0),nt.writeUInt16(262),nt.writeUInt16(0),nt.write(I),{charMap:a,subtable:nt.data,maxGlyphID:N+1};case"unicode":for(L=[],v=[],J=0,q={},i={},O=f=null,et=0,Q=l.length;et<Q;et++)q[$=t[r=l[et]]]==null&&(q[$]=++J),i[r]={old:$,new:q[$]},u=q[$]-r,O!=null&&u===f||(O&&v.push(O),L.push(r),f=u),O=r;for(O&&v.push(O),v.push(65535),L.push(65535),U=2*(k=L.length),C=2*Math.pow(Math.log(k)/Math.LN2,2),w=Math.log(C/2)/Math.LN2,F=2*k-C,h=[],ut=[],_=[],T=ht=0,vt=L.length;ht<vt;T=++ht){if(R=L[T],g=v[T],R===65535){h.push(0),ut.push(0);break}if(R-(M=i[R].new)>=32768)for(h.push(0),ut.push(2*(_.length+k-T)),r=lt=R;R<=g?lt<=g:lt>=g;r=R<=g?++lt:--lt)_.push(i[r].new);else h.push(M-R),ut.push(0)}for(nt.writeUInt16(3),nt.writeUInt16(1),nt.writeUInt32(12),nt.writeUInt16(4),nt.writeUInt16(16+8*k+2*_.length),nt.writeUInt16(0),nt.writeUInt16(U),nt.writeUInt16(C),nt.writeUInt16(w),nt.writeUInt16(F),Tt=0,j=v.length;Tt<j;Tt++)r=v[Tt],nt.writeUInt16(r);for(nt.writeUInt16(0),Nt=0,W=L.length;Nt<W;Nt++)r=L[Nt],nt.writeUInt16(r);for(Zt=0,tt=h.length;Zt<tt;Zt++)u=h[Zt],nt.writeUInt16(u);for(Qt=0,at=ut.length;Qt<at;Qt++)ot=ut[Qt],nt.writeUInt16(ot);for(ie=0,ft=_.length;ie<ft;ie++)N=_[ie],nt.writeUInt16(N);return{charMap:i,subtable:nt.data,maxGlyphID:J+1}}},n}(),_3=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)i=new Yb(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,a;return i==null&&(i="macroman"),r=Yb.encode(e,i),(a=new $u).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t}(),M7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),P7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),O7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var l;for(r=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)i=e.readByte(),a.push(this.names.push(e.readString(i)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=(function(){var u,h,f;for(f=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t}(),k7=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},j7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,a,l,u,h,f,g,v,w,_;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),r=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},l=v=0,w=r.length;v<w;l=++v)a=r[l],e.pos=a.offset,g=e.readString(a.length),u=new k7(g,a),f[_=a.nameID]==null&&(f[_]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),V7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),F7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,a,l,u,h,f;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,v;for(v=[],i=g=0;0<=a?g<a:g>a;i=0<=a?++g:--g)v.push(e.readInt16());return v}(),this.widths=(function(){var g,v,w,_;for(_=[],g=0,v=(w=this.metrics).length;g<v;g++)l=w[g],_.push(l.advance);return _}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=a?u<a:u>a;i=0<=a?++u:--u)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),w3=[].slice,B7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,a,l,u,h,f,g,v,w;return e in this.cache?this.cache[e]:(l=this.file.loca,i=this.file.contents,r=l.indexOf(e),(a=l.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,u=(h=new $u(i.read(a))).readShort(),g=h.readShort(),w=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=u===-1?new q7(h,g,w,f,v):new z7(h,u,g,w,f,v),this.cache[e]))},t.prototype.encode=function(e,i,r){var a,l,u,h,f;for(u=[],l=[],h=0,f=i.length;h<f;h++)a=e[i[h]],l.push(u.length),a&&(u=u.concat(a.encode(r)));return l.push(u.length),{table:u,offsets:l}},t}(),z7=function(){function n(t,e,i,r,a,l){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),q7=function(){function n(t,e,i,r,a){var l,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new $u(w3.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),U7=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return il(t,co),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,l;for(l=[],r=0,a=this.length;r<a;r+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],r=0,a=this.length;r<a;r+=4)l.push(e.readUInt32());return l}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),a=0,l=0,u=0;u<r.length;++u)if(r[u]=a,l<i.length&&i[l]==u){++l,r[u]=a;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(a+=f)}for(var g=new Array(4*r.length),v=0;v<r.length;++v)g[4*v+3]=255&r[v],g[4*v+2]=(65280&r[v])>>8,g[4*v+1]=(16711680&r[v])>>16,g[4*v]=(4278190080&r[v])>>24;return g},t}(),H7=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,a;for(e in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,a,l,u,h;for(r={},l=0,u=t.length;l<u;l++)r[a=t[l]]=this.font.glyf.glyphFor(a);for(a in e=[],r)(i=r[a])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(a in h=this.glyphsFor(e))i=h[a],r[a]=i;return r},n.prototype.encode=function(t,e){var i,r,a,l,u,h,f,g,v,w,_,T,N,I,O;for(r in i=_3.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),_={0:0},O=i.charMap)_[(h=O[r]).old]=h.new;for(T in w=i.maxGlyphID,l)T in _||(_[T]=w++);return g=function(q){var J,ot;for(J in ot={},q)ot[q[J]]=J;return ot}(_),v=Object.keys(g).sort(function(q,J){return q-J}),N=function(){var q,J,ot;for(ot=[],q=0,J=v.length;q<J;q++)u=v[q],ot.push(g[u]);return ot}(),a=this.font.glyf.encode(l,N,_),f=this.font.loca.encode(a.offsets,N),I={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n}();Re.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,a,l;if(Array.isArray(e))return"["+function(){var u,h,f;for(f=[],u=0,h=e.length;u<h;u++)i=e[u],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in a=["<<"],e)l=e[r],a.push("/"+r+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+e},t}();function x3(n,t,e,i,r){i=i||{};var a=1.15,l=r.internal.scaleFactor,u=r.internal.getFontSize()/l,h=r.getLineHeightFactor?r.getLineHeightFactor():a,f=u*h,g=/\r\n|\r|\n/g,v="",w=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(v=typeof n=="string"?n.split(g):n,w=v.length||1),e+=u*(2-a),i.valign==="middle"?e-=w/2*f:i.valign==="bottom"&&(e-=w*f),i.halign==="center"||i.halign==="right"){var _=u;if(i.halign==="center"&&(_*=.5),v&&w>=1){for(var T=0;T<v.length;T++)r.text(v[T],t-r.getStringUnitWidth(v[T])*_,e),e+=f;return r}t-=r.getStringUnitWidth(n)*_}return i.halign==="justify"?r.text(n,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(n,t,e),r}var Xb={},Bh=function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:Xb=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var i,r,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),u=l.fontStyle,h=l.fontName;if(t.font&&(h=t.font),t.fontStyle){u=t.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(h,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var g=n.unifyColor(t.fillColor);g&&(i=this.jsPDFDocument).setFillColor.apply(i,g),g=n.unifyColor(t.textColor),g&&(r=this.jsPDFDocument).setTextColor.apply(r,g),g=n.unifyColor(t.lineColor),g&&(a=this.jsPDFDocument).setDrawColor.apply(a,g),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},n.prototype.rect=function(t,e,i,r,a){return this.jsPDFDocument.rect(t,e,i,r,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Xb||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),K0=function(n,t){return K0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},K0(n,t)};function S3(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K0(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var A3=function(n){S3(t,n);function t(e){var i=n.call(this)||this;return i._element=e,i}return t}(Array);function G7(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function W7(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function jg(n,t,e){e.applyStyles(t,!0);var i=Array.isArray(n)?n:[n],r=i.map(function(a){return e.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return r}function E3(n,t,e,i){var r=t.settings.tableLineWidth,a=t.settings.tableLineColor;n.applyStyles({lineWidth:r,lineColor:a});var l=T3(r,!1);l&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),i.y-e.y,l)}function T3(n,t){var e=n>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function bm(n,t){var e,i,r,a;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(i=n.top)!==null&&i!==void 0?i:t,right:(r=n.right)!==null&&r!==void 0?r:t,bottom:(a=n.bottom)!==null&&a!==void 0?a:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function N3(n,t){var e=bm(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function Y7(n,t,e,i,r){var a={},l=1.3333333333333333,u=J1(t,function(J){return r.getComputedStyle(J).backgroundColor});u!=null&&(a.fillColor=u);var h=J1(t,function(J){return r.getComputedStyle(J).color});h!=null&&(a.textColor=h);var f=K7(i,e);f&&(a.cellPadding=f);var g="borderTopColor",v=l*e,w=i.borderTopWidth;if(i.borderBottomWidth===w&&i.borderRightWidth===w&&i.borderLeftWidth===w){var _=(parseFloat(w)||0)/v;_&&(a.lineWidth=_)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/v,right:(parseFloat(i.borderRightWidth)||0)/v,bottom:(parseFloat(i.borderBottomWidth)||0)/v,left:(parseFloat(i.borderLeftWidth)||0)/v},a.lineWidth.top||(a.lineWidth.right?g="borderRightColor":a.lineWidth.bottom?g="borderBottomColor":a.lineWidth.left&&(g="borderLeftColor"));var T=J1(t,function(J){return r.getComputedStyle(J)[g]});T!=null&&(a.lineColor=T);var N=["left","right","center","justify"];N.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),N=["middle","bottom","top"],N.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var I=parseInt(i.fontSize||"");isNaN(I)||(a.fontSize=I/l);var O=X7(i);O&&(a.fontStyle=O);var q=(i.fontFamily||"").toLowerCase();return n.indexOf(q)!==-1&&(a.font=q),a}function X7(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function J1(n,t){var e=C3(n,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function C3(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:C3(n.parentElement,t):e}function K7(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],i=96/(72/t),r=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,a=e.map(function(u){return parseInt(u||"0")/i}),l=bm(a,0);return r>l.top&&(l.top=r),r>l.bottom&&(l.bottom=r),l}function L3(n,t,e,i,r){var a,l;i===void 0&&(i=!1),r===void 0&&(r=!1);var u;typeof t=="string"?u=e.document.querySelector(t):u=t;var h=Object.keys(n.getFontList()),f=n.scaleFactor(),g=[],v=[],w=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:g,body:v,foot:w};for(var _=0;_<u.rows.length;_++){var T=u.rows[_],N=(l=(a=T?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),I=Q7(h,f,e,T,i,r);I&&(N==="thead"?g.push(I):N==="tfoot"?w.push(I):v.push(I))}return{head:g,body:v,foot:w}}function Q7(n,t,e,i,r,a){for(var l=new A3(i),u=0;u<i.cells.length;u++){var h=i.cells[u],f=e.getComputedStyle(h);if(r||f.display!=="none"){var g=void 0;a&&(g=Y7(n,h,t,f,e)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:g,_element:h,content:$7(h)})}}var v=e.getComputedStyle(i);if(l.length>0&&(r||v.display!=="none"))return l}function $7(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function Z7(n,t,e){for(var i=0,r=[n,t,e];i<r.length;i++){var a=r[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function zl(n,t,e,i,r){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])}return a}function R3(n,t){var e=new Bh(n),i=e.getDocumentOptions(),r=e.getGlobalOptions();Z7(r,i,t);var a=zl({},r,i,t),l;typeof window<"u"&&(l=window);var u=J7(r,i,t),h=tN(r,i,t),f=eN(e,a),g=iN(e,a,l);return{id:t.tableId,content:g,hooks:h,styles:u,settings:f}}function J7(n,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(h){if(h==="columnStyles"){var f=n[h],g=t[h],v=e[h];i.columnStyles=zl({},f,g,v)}else{var w=[n,t,e],_=w.map(function(T){return T[h]||{}});i[h]=zl({},_[0],_[1],_[2])}},a=0,l=Object.keys(i);a<l.length;a++){var u=l[a];r(u)}return i}function tN(n,t,e){for(var i=[n,t,e],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=i;a<l.length;a++){var u=l[a];u.didParseCell&&r.didParseCell.push(u.didParseCell),u.willDrawCell&&r.willDrawCell.push(u.willDrawCell),u.didDrawCell&&r.didDrawCell.push(u.didDrawCell),u.willDrawPage&&r.willDrawPage.push(u.willDrawPage),u.didDrawPage&&r.didDrawPage.push(u.didDrawPage)}return r}function eN(n,t){var e,i,r,a,l,u,h,f,g,v,w,_,T=bm(t.margin,40/n.scaleFactor()),N=(e=nN(n,t.startY))!==null&&e!==void 0?e:T.top,I;t.showFoot===!0?I="everyPage":t.showFoot===!1?I="never":I=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var O;t.showHead===!0?O="everyPage":t.showHead===!1?O="never":O=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var q=(a=t.useCss)!==null&&a!==void 0?a:!1,J=t.theme||(q?"plain":"striped"),ot=!!t.horizontalPageBreak,$=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:q,theme:J,startY:N,margin:T,pageBreak:(h=t.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=t.tableWidth)!==null&&g!==void 0?g:"auto",showHead:O,showFoot:I,tableLineWidth:(v=t.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:ot,horizontalPageBreakRepeat:$,horizontalPageBreakBehaviour:(_=t.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function nN(n,t){var e=n.getLastAutoTable(),i=n.scaleFactor(),r=n.pageNumber(),a=!1;if(e&&e.startPageNumber){var l=e.startPageNumber+e.pageNumber-1;a=l===r}return typeof t=="number"?t:(t==null||t===!1)&&a&&e?.finalY!=null?e.finalY+20/i:null}function iN(n,t,e){var i=t.head||[],r=t.body||[],a=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(e){var u=L3(n,t.html,e,l,t.useCss)||{};i=u.head||i,r=u.body||i,a=u.foot||i}else console.error("Cannot parse html in non browser environment")}var h=t.columns||rN(i,r,a);return{columns:h,head:i,body:r,foot:a}}function rN(n,t,e){var i=n[0]||t[0]||e[0]||[],r=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,u;Array.isArray(i)?u=i[parseInt(a)]:u=i[a],typeof u=="object"&&!Array.isArray(u)&&(l=u?.colSpan||1);for(var h=0;h<l;h++){var f=void 0;Array.isArray(i)?f=r.length:f=a+(h>0?"_".concat(h):"");var g={dataKey:f};r.push(g)}}),r}var Q0=function(){function n(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return n}(),sN=function(n){S3(t,n);function t(e,i,r,a,l,u){var h=n.call(this,e,i,u)||this;return h.cell=r,h.row=a,h.column=l,h.section=a.section,h}return t}(Q0),aN=function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,i,r,a,l){for(var u=0,h=e;u<h.length;u++){var f=h[u],g=new sN(t,this,i,r,a,l),v=f(g)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],v)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var a=r[i];a(new Q0(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var a=r[i];a(new Q0(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(r,a){return r+a.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},n}(),D3=function(){function n(t,e,i,r,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof A3&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=r,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,r){var a;return Math.max(i,((a=e.cells[r.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var r=e.cells[i.index];return r?r.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(r,a){var l=i.cells[a.index];if(!l)return 0;var u=e.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),f=h+u;return f>r?f:r},0)},n}(),I3=function(){function n(t,e,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",u=/\r\n|\r|\n/g;this.text=l.split(u)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*e,a=i*r+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=bm(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n}(),oN=function(){function n(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,r=t.allRows();i<r.length;i++){var a=r[i],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(e=Math.max(e,l.styles.cellWidth))}return e},n}();function lN(n,t){uN(n,t);var e=[],i=0;t.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(t);l?a.width=l:(a.width=a.wrappedWidth,e.push(a)),i+=a.width});var r=t.getWidth(n.pageSize().width)-i;r&&(r=$0(e,r,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),r&&(r=$0(e,r,function(a){return a.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/n.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),hN(t),fN(t,n),cN(t)}function uN(n,t){var e=n.scaleFactor(),i=t.settings.horizontalPageBreak,r=N3(n,t);t.allRows().forEach(function(a){for(var l=0,u=t.columns;l<u.length;l++){var h=u[l],f=a.cells[h.index];if(f){var g=t.hooks.didParseCell;t.callCellHooks(n,g,f,a,h,null);var v=f.padding("horizontal");f.contentWidth=jg(f.text,f.styles,n)+v;var w=jg(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,n);if(f.minReadableWidth=w+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||i===!0)f.contentWidth>r?(f.minWidth=r,f.wrappedWidth=r):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/e;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(a){for(var l=0,u=t.columns;l<u.length;l++){var h=u[l],f=a.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var g=t.styles.columnStyles[h.dataKey]||t.styles.columnStyles[h.index]||{},v=g.cellWidth||g.minCellWidth;v&&typeof v=="number"&&(h.minWidth=v,h.wrappedWidth=v)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function $0(n,t,e){for(var i=t,r=n.reduce(function(_,T){return _+T.wrappedWidth},0),a=0;a<n.length;a++){var l=n[a],u=l.wrappedWidth/r,h=i*u,f=l.width+h,g=e(l),v=f<g?g:f;t-=v-l.width,l.width=v}if(t=Math.round(t*1e10)/1e10,t){var w=n.filter(function(_){return t<0?_.width>e(_):!0});w.length&&(t=$0(w,t,e))}return t}function cN(n){for(var t={},e=1,i=n.allRows(),r=0;r<i.length;r++)for(var a=i[r],l=0,u=n.columns;l<u.length;l++){var h=u[l],f=t[h.index];if(e>1)e--,delete a.cells[h.index];else if(f)f.cell.height+=a.height,e=f.cell.colSpan,delete a.cells[h.index],f.left--,f.left<=1&&delete t[h.index];else{var g=a.cells[h.index];if(!g)continue;if(g.height=a.height,g.rowSpan>1){var v=i.length-r,w=g.rowSpan>v?v:g.rowSpan;t[h.index]={cell:g,left:w,row:a}}}}}function hN(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var i=t[e],r=null,a=0,l=0,u=0;u<n.columns.length;u++){var h=n.columns[u];if(l-=1,l>1&&n.columns[u+1])a+=h.width,delete i.cells[h.index];else if(r){var f=r;delete i.cells[h.index],r=null,f.width=h.width+a}else{var f=i.cells[h.index];if(!f)continue;if(l=f.colSpan,a=0,f.colSpan>1){r=f,a+=h.width;continue}f.width=h.width+a}}}function fN(n,t){for(var e={count:0,height:0},i=0,r=n.allRows();i<r.length;i++){for(var a=r[i],l=0,u=n.columns;l<u.length;l++){var h=u[l],f=a.cells[h.index];if(f){t.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,g+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=Kb(f.text,g,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=Kb(f.text,g,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,g);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=f.contentHeight/f.rowSpan;f.rowSpan>1&&e.count*e.height<w*f.rowSpan?e={height:w,count:f.rowSpan}:e&&e.count>0&&e.height>w&&(w=e.height),w>a.height&&(a.height=w)}}e.count--}}function Kb(n,t,e,i,r){return n.map(function(a){return dN(a,t,e,i,r)})}function dN(n,t,e,i,r){var a=1e4*i.scaleFactor();if(t=Math.ceil(t*a)/a,t>=jg(n,e,i))return n;for(;t<jg(n+r,e,i)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+r}function M3(n,t){var e=new Bh(n),i=pN(t,e.scaleFactor()),r=new aN(t,i);return lN(e,r),e.applyStyles(e.userStyles),r}function pN(n,t){var e=n.content,i=mN(e.columns);if(e.head.length===0){var r=Qb(i,"head");r&&e.head.push(r)}if(e.foot.length===0){var r=Qb(i,"foot");r&&e.foot.push(r)}var a=n.settings.theme,l=n.styles;return{columns:i,head:t0("head",e.head,i,l,a,t),body:t0("body",e.body,i,l,a,t),foot:t0("foot",e.foot,i,l,a,t)}}function t0(n,t,e,i,r,a){var l={},u=t.map(function(h,f){for(var g=0,v={},w=0,_=0,T=0,N=e;T<N.length;T++){var I=N[T];if(l[I.index]==null||l[I.index].left===0)if(_===0){var O=void 0;Array.isArray(h)?O=h[I.index-w-g]:O=h[I.dataKey];var q={};typeof O=="object"&&!Array.isArray(O)&&(q=O?.styles||{});var J=yN(n,I,f,r,i,a,q),ot=new I3(O,J,n);v[I.dataKey]=ot,v[I.index]=ot,_=ot.colSpan-1,l[I.index]={left:ot.rowSpan-1,times:_}}else _--,w++;else l[I.index].left--,_=l[I.index].times,g++}return new D3(h,f,n,v)});return u}function Qb(n,t){var e={};return n.forEach(function(i){if(i.raw!=null){var r=gN(t,i.raw);r!=null&&(e[i.dataKey]=r)}}),Object.keys(e).length>0?e:null}function gN(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function mN(n){return n.map(function(t,e){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:e:r=e,new oN(r,t,e)})}function yN(n,t,e,i,r,a,l){var u=W7(i),h;n==="head"?h=r.headStyles:n==="body"?h=r.bodyStyles:n==="foot"&&(h=r.footStyles);var f=zl({},u.table,u[n],r.styles,h),g=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},v=n==="body"?g:{},w=n==="body"&&e%2===0?zl({},u.alternateRow,r.alternateRowStyles):{},_=G7(a),T=zl({},_,f,w,v);return zl(T,l)}function vN(n,t,e){var i;e===void 0&&(e={});var r=N3(n,t),a=new Map,l=[],u=[],h=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?h=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(h=[t.settings.horizontalPageBreakRepeat]),h.forEach(function(w){var _=t.columns.find(function(T){return T.dataKey===w||T.index===w});_&&!a.has(_.index)&&(a.set(_.index,!0),l.push(_.index),u.push(t.columns[_.index]),r-=_.wrappedWidth)});for(var f=!0,g=(i=e?.start)!==null&&i!==void 0?i:0;g<t.columns.length;){if(a.has(g)){g++;continue}var v=t.columns[g].wrappedWidth;if(f||r>=v)f=!1,l.push(g),u.push(t.columns[g]),r-=v;else break;g++}return{colIndexes:l,columns:u,lastIndex:g-1}}function bN(n,t){for(var e=[],i=0;i<t.columns.length;i++){var r=vN(n,t,{start:i});r.columns.length&&(e.push(r),i=r.lastIndex)}return e}function P3(n,t){var e=t.settings,i=e.startY,r=e.margin,a={x:r.left,y:i},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=i+r.bottom+l;if(e.pageBreak==="avoid"){var h=t.body,f=h.reduce(function(w,_){return w+_.height},0);u+=f}var g=new Bh(n);(e.pageBreak==="always"||e.startY!=null&&u>g.pageSize().height)&&(k3(g),a.y=r.top),t.callWillDrawPageHooks(g,a);var v=zl({},a);t.startPageNumber=g.pageNumber(),e.horizontalPageBreak?_N(g,t,v,a):(g.applyStyles(g.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(w){return Yl(g,t,w,a,t.columns)}),g.applyStyles(g.userStyles),t.body.forEach(function(w,_){var T=_===t.body.length-1;Vg(g,t,w,T,v,a,t.columns)}),g.applyStyles(g.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(w){return Yl(g,t,w,a,t.columns)})),E3(g,t,v,a),t.callEndPageHooks(g,a),t.finalY=a.y,n.lastAutoTable=t,g.applyStyles(g.userStyles)}function _N(n,t,e,i){var r=bN(n,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(f,g){n.applyStyles(n.userStyles),g>0?ud(n,t,e,i,f.columns,!0):$b(n,t,i,f.columns),wN(n,t,e,i,f.columns),e0(n,t,i,f.columns)});else for(var l=-1,u=r[0],h=function(){var f=l;if(u){n.applyStyles(n.userStyles);var g=u.columns;l>=0?ud(n,t,e,i,g,!0):$b(n,t,i,g),f=Zb(n,t,l+1,i,g),e0(n,t,i,g)}var v=f-l;r.slice(1).forEach(function(w){n.applyStyles(n.userStyles),ud(n,t,e,i,w.columns,!0),Zb(n,t,l+1,i,w.columns,v),e0(n,t,i,w.columns)}),l=f};l<t.body.length-1;)h()}function $b(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(a){return Yl(n,t,a,e,i)})}function wN(n,t,e,i,r){n.applyStyles(n.userStyles),t.body.forEach(function(a,l){var u=l===t.body.length-1;Vg(n,t,a,u,e,i,r)})}function Zb(n,t,e,i,r,a){n.applyStyles(n.userStyles),a=a??t.body.length;var l=Math.min(e+a,t.body.length),u=-1;return t.body.slice(e,l).forEach(function(h,f){var g=e+f===t.body.length-1,v=O3(n,t,g,i);h.canEntireRowFit(v,r)&&(Yl(n,t,h,i,r),u=e+f)}),u}function e0(n,t,e,i){var r=t.settings;n.applyStyles(n.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(a){return Yl(n,t,a,e,i)})}function xN(n,t,e){var i=e.getLineHeight(n.styles.fontSize),r=n.padding("vertical"),a=Math.floor((t-r)/i);return Math.max(0,a)}function SN(n,t,e,i){var r={};n.spansMultiplePages=!0,n.height=0;for(var a=0,l=0,u=e.columns;l<u.length;l++){var h=u[l],f=n.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new I3(f.raw,f.styles,f.section);g=zl(g,f),g.text=[];var v=xN(f,t,i);f.text.length>v&&(g.text=f.text.splice(v,f.text.length));var w=i.scaleFactor(),_=i.getLineHeightFactor();f.contentHeight=f.getContentHeight(w,_),f.contentHeight>=t&&(f.contentHeight=t,g.styles.minCellHeight-=t),f.contentHeight>n.height&&(n.height=f.contentHeight),g.contentHeight=g.getContentHeight(w,_),g.contentHeight>a&&(a=g.contentHeight),r[h.index]=g}}var T=new D3(n.raw,-1,n.section,r,!0);T.height=a;for(var N=0,I=e.columns;N<I.length;N++){var h=I[N],g=T.cells[h.index];g&&(g.height=T.height);var f=n.cells[h.index];f&&(f.height=n.height)}return T}function AN(n,t,e,i){var r=n.pageSize().height,a=i.settings.margin,l=a.top+a.bottom,u=r-l;t.section==="body"&&(u-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var h=t.getMinimumRowHeight(i.columns,n),f=h<e;if(h>u)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=t.hasRowSpan(i.columns),v=t.getMaxCellHeight(i.columns)>u;return v?(g&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||i.settings.rowPageBreak==="avoid")}function Vg(n,t,e,i,r,a,l){var u=O3(n,t,i,a);if(e.canEntireRowFit(u,l))Yl(n,t,e,a,l);else if(AN(n,e,u,t)){var h=SN(e,u,t,n);Yl(n,t,e,a,l),ud(n,t,r,a,l),Vg(n,t,h,i,r,a,l)}else ud(n,t,r,a,l),Vg(n,t,e,i,r,a,l)}function Yl(n,t,e,i,r){i.x=t.settings.margin.left;for(var a=0,l=r;a<l.length;a++){var u=l[a],h=e.cells[u.index];if(!h){i.x+=u.width;continue}n.applyStyles(h.styles),h.x=i.x,h.y=i.y;var f=t.callCellHooks(n,t.hooks.willDrawCell,h,e,u,i);if(f===!1){i.x+=u.width;continue}EN(n,h,i);var g=h.getTextPos();x3(h.text,g.x,g.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,h,e,u,i),i.x+=u.width}i.y+=e.height}function EN(n,t,e){var i=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=T3(i.lineWidth,i.fillColor);r&&n.rect(t.x,e.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),TN(n,t,e,i.lineWidth))}function TN(n,t,e,i){var r,a,l,u;i.top&&(r=e.x,a=e.y,l=e.x+t.width,u=e.y,i.right&&(l+=.5*i.right),i.left&&(r-=.5*i.left),h(i.top,r,a,l,u)),i.bottom&&(r=e.x,a=e.y+t.height,l=e.x+t.width,u=e.y+t.height,i.right&&(l+=.5*i.right),i.left&&(r-=.5*i.left),h(i.bottom,r,a,l,u)),i.left&&(r=e.x,a=e.y,l=e.x,u=e.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(u+=.5*i.bottom),h(i.left,r,a,l,u)),i.right&&(r=e.x+t.width,a=e.y,l=e.x+t.width,u=e.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(u+=.5*i.bottom),h(i.right,r,a,l,u));function h(f,g,v,w,_){n.getDocument().setLineWidth(f),n.getDocument().line(g,v,w,_,"S")}}function O3(n,t,e,i){var r=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(r+=t.getFootHeight(t.columns)),n.pageSize().height-i.y-r}function ud(n,t,e,i,r,a){r===void 0&&(r=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(u){return Yl(n,t,u,i,r)}),t.callEndPageHooks(n,i);var l=t.settings.margin;E3(n,t,e,i),k3(n),t.pageNumber++,i.x=l.left,i.y=l.top,e.y=l.top,t.callWillDrawPageHooks(n,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return Yl(n,t,u,i,r)}),n.applyStyles(n.userStyles))}function k3(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function NN(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=R3(this,i),a=M3(this,r);return P3(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,i,r){x3(t,e,i,r,this)},n.API.autoTableSetDefaults=function(t){return Bh.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){Bh.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Bh(this),a=L3(r,t,window,e,!1),l=a.head,u=a.body,h=((i=l[0])===null||i===void 0?void 0:i.map(function(f){return f.content}))||[];return{columns:h,rows:u,data:u}}}var n0;function pg(n,t){var e=R3(n,t),i=M3(n,e);P3(n,i)}try{if(typeof window<"u"&&window){var Jb=window,t_=Jb.jsPDF||((n0=Jb.jspdf)===null||n0===void 0?void 0:n0.jsPDF);t_&&NN(t_)}}catch(n){console.error("Could not apply autoTable plugin",n)}const e_="Alexander Alvarez",CN=({recetas:n})=>{const t=async $=>{if(window.confirm("Seguro que deseas eliminar este reporte de produccin?"))try{await Od(jc(Ue,"ordenesProduccion",$)),N(F=>F.filter(C=>C.id!==$))}catch{alert("Error al eliminar el reporte")}},[e,i]=Jt.useState(null),[r,a]=Jt.useState(1),[l,u]=Jt.useState(15),[h,f]=Jt.useState([]),[g,v]=Jt.useState(""),[w,_]=Jt.useState(""),[T,N]=Jt.useState([]),[I,O]=Jt.useState({});Jt.useEffect(()=>{(async()=>{try{const ut=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc")),C=(await Rn(ut)).docs.map(U=>({id:U.id,...U.data()}));N(C);const k={};C.forEach(U=>{k[U.id]={lotes:typeof U.lotes=="number"?U.lotes:Number(U.lotes)||1,hielitosPorLote:typeof U.hielitosPorLote=="number"?U.hielitosPorLote:Number(U.hielitosPorLote)||15}}),O(k)}catch(ut){console.error("Error al obtener historial de reportes:",ut)}})()},[]),Jt.useEffect(()=>{e&&f(e.ingredientes.map($=>({...$})))},[e]),Jt.useEffect(()=>{u(15)},[e]);const q=($,ut)=>{f(F=>F.map((C,k)=>k===$?{...C,precioUnitario:parseFloat(ut)||0}:C))},J=async()=>{if(!e)return alert("Selecciona una receta");const $=h.map(U=>({...U,cantidad:Number(U.cantidad)*r,precioUnitario:Number(U.precioUnitario)})),ut=h.reduce((U,R)=>U+Number(R.cantidad)*Number(R.precioUnitario),0),F=ut*r,C=parseFloat(g)||0,k=F+C;try{const U=await kd(sn(Ue,"ordenesProduccion"),{recetaId:e.id,recetaNombre:e.nombre,lotes:r,hielitosPorLote:l,ingredientes:$,gastosExtra:C,tiempo:parseFloat(w)||0,costoPorLote:ut+C/r,costoTotal:k,fecha:Yn.now(),imageBase64:e?.imageBase64||null});alert("Reporte guardado correctamente");const R=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc")),M=(await Rn(R)).docs.map(et=>({id:et.id,...et.data()}));N(M);const nt={};M.forEach(et=>{nt[et.id]={lotes:et.lotes,hielitosPorLote:et.hielitosPorLote||15}}),O(nt);const pt=M.find(et=>et.id===U.id);pt&&await ot(pt)}catch{alert("Error al guardar el reporte")}},ot=async($=null)=>{let ut=null;$&&!$.imageBase64&&$.recetaId&&(ut=n.find(_t=>_t.id===$.recetaId)?.imageBase64||null);let F=$||{recetaNombre:e?.nombre,lotes:r,hielitosPorLote:F.hielitosPorLote||15,ingredientes:h.map(lt=>({...lt,cantidad:Number(lt.cantidad)*r})),gastosExtra:g,tiempo:w,fecha:new Date,id:null,imageBase64:e?.imageBase64||null,usuario:e_};if(!F.recetaNombre)return alert("No hay datos para generar el PDF");const C=new Re;C.setFillColor(41,128,185),C.rect(0,0,210,30,"F"),C.setTextColor(255,255,255),C.setFontSize(20),C.text("ORDEN DE PRODUCCIN",105,18,{align:"center"}),C.setFontSize(10),C.text("Hielitos App",200,10,{align:"right"}),C.setTextColor(0,0,0),C.setFontSize(12),C.setFont(void 0,"bold"),C.text("N de Orden:",10,38),C.setFont(void 0,"normal"),C.text(`${F.id||"-"}`,45,38),C.setFont(void 0,"bold"),C.text("Usuario:",10,46),C.setFont(void 0,"normal"),C.text(`${F.usuario||e_}`,45,46),C.setFont(void 0,"bold"),C.text("Fecha:",10,54),C.setFont(void 0,"normal"),C.text(`${F.fecha&&F.fecha.toDate?F.fecha.toDate().toLocaleString():F.fecha?.toLocaleString?.()||"-"}`,45,54),C.setFont(void 0,"bold"),C.text("Receta:",10,62),C.setFont(void 0,"normal"),C.text(`${F.recetaNombre}`,45,62),C.setFont(void 0,"bold"),C.text("Lotes:",10,70),C.setFont(void 0,"normal"),C.text(`${F.lotes}`,45,70);const k=(F.ingredientes||[]).reduce((lt,_t)=>lt+Number(_t.cantidad)*Number(_t.precioUnitario),0)/(F.lotes||1),U=k*(F.lotes||1),R=Number(F.gastosExtra||0),L=U+R;C.setFont(void 0,"bold"),C.text("Costo por lote:",10,78),C.setFont(void 0,"normal"),C.text(`$${k.toFixed(2)}`,45,78),C.setFont(void 0,"bold"),C.text("Costo total:",10,86),C.setFont(void 0,"normal"),C.text(`$${L.toFixed(2)}`,45,86),C.setFont(void 0,"bold"),C.text("Gastos extra:",10,94),C.setFont(void 0,"normal"),C.text(`$${F.gastosExtra}`,45,94),C.setFont(void 0,"bold"),C.text("Tiempo invertido:",10,102),C.setFont(void 0,"normal"),C.text(`${F.tiempo} min`,45,102);let M=null,nt="JPEG";F.imageBase64?F.imageBase64.startsWith("data:image")&&(M=F.imageBase64,F.imageBase64.startsWith("data:image/png")&&(nt="PNG")):ut&&ut.startsWith("data:image")&&(M=ut,ut.startsWith("data:image/png")&&(nt="PNG"));let pt=110;M&&(C.setFont(void 0,"bold"),C.text("Fotografa del producto:",10,pt),C.setFont(void 0,"normal"),pt+=4,C.addImage(M,nt,10,pt,50,32),pt+=36),pg(C,{startY:M?pt:118,head:[["Ingrediente","Cantidad","Unidad","Precio Unitario ($)","Costo Total ($)"]],body:(F.ingredientes||[]).map(lt=>[lt.nombre,lt.cantidad,lt.unidadMedida,lt.precioUnitario,(Number(lt.cantidad)*Number(lt.precioUnitario)).toFixed(2)]),theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},styles:{fontSize:10}}),C.setFontSize(10),C.text("Generado por Hielitos App",10,290);const et=C.output("blob"),ht=URL.createObjectURL(et);window.open(ht,"_blank"),setTimeout(()=>URL.revokeObjectURL(ht),1e4)};return it.jsxs("div",{children:[it.jsx("h2",{children:"Reporte de Orden de Produccin"}),it.jsxs("label",{children:["Selecciona receta:",it.jsxs("select",{value:e?.id||"",onChange:$=>{const ut=n.find(F=>F.id===$.target.value);i(ut)},children:[it.jsx("option",{value:"",children:"-- Selecciona --"}),n.map($=>it.jsx("option",{value:$.id,children:$.nombre},$.id))]})]}),e&&it.jsxs(it.Fragment,{children:[e.imageBase64&&it.jsx("div",{style:{margin:"1rem 0"},children:it.jsx("img",{src:e.imageBase64,alt:`Imagen de ${e.nombre}`,style:{width:"220px",height:"auto",borderRadius:"8px",border:"1px solid #bbb"}})}),it.jsx("div",{children:it.jsxs("label",{children:["Lotes producidos:",it.jsx("input",{type:"number",min:"1",value:r,onChange:$=>a(Number($.target.value))}),it.jsx("span",{style:{marginLeft:"1rem"},children:"Hielitos por lote:"}),it.jsx("input",{type:"number",min:"1",value:l,onChange:$=>u(Number($.target.value)),style:{width:"60px",marginLeft:"0.5rem"}})]})}),it.jsx("h3",{children:"Ingredientes"}),it.jsx("ul",{children:h.map(($,ut)=>it.jsxs("li",{children:[$.nombre," - ",$.cantidad," ",$.unidadMedida," - Precio unitario:",it.jsx("input",{type:"number",step:"0.01",value:$.precioUnitario,onChange:F=>q(ut,F.target.value),style:{width:"80px",marginLeft:"5px"}})]},ut))}),it.jsx("div",{children:it.jsxs("label",{children:["Gastos extra ($):",it.jsx("input",{type:"number",step:"0.01",value:g,onChange:$=>v($.target.value)})]})}),it.jsx("div",{children:it.jsxs("label",{children:["Tiempo invertido (minutos):",it.jsx("input",{type:"number",min:"0",value:w,onChange:$=>_($.target.value)})]})}),it.jsx("button",{onClick:J,style:{marginRight:"1rem"},children:"Guardar Reporte"}),it.jsx("button",{onClick:()=>ot(),children:"Generar PDF"})]}),it.jsx("hr",{style:{margin:"2rem 0"}}),it.jsx("h3",{children:"Historial de Reportes de Produccin"}),T.length===0?it.jsx("p",{children:"No hay reportes registrados."}):it.jsx("ul",{children:T.map($=>{let ut=$.imageBase64;!ut&&$.recetaId&&(ut=n.find(R=>R.id===$.recetaId)?.imageBase64);const F=I[$.id]||{lotes:typeof $.lotes=="number"?$.lotes:Number($.lotes)||1,hielitosPorLote:typeof $.hielitosPorLote=="number"?$.hielitosPorLote:Number($.hielitosPorLote)||15},C=(U,R)=>{O(L=>({...L,[$.id]:{...L[$.id],[U]:R===""||isNaN(R)?1:R}}))},k=async()=>{try{if(!$.id)throw new Error("ID de reporte no encontrado");const U=jc(Ue,"ordenesProduccion",$.id);await B8(U,{lotes:F.lotes,hielitosPorLote:F.hielitosPorLote}),N(T.map(R=>R.id===$.id?{...R,lotes:F.lotes,hielitosPorLote:F.hielitosPorLote}:R)),alert("Reporte actualizado")}catch(U){alert("Error al actualizar el reporte: "+(U&&U.message?U.message:U))}};return it.jsxs("li",{style:{marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"6px",padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"1rem"},children:[ut&&it.jsx("img",{src:ut,alt:"Foto receta",style:{width:60,height:40,objectFit:"cover",borderRadius:4,border:"1px solid #aaa"}}),it.jsxs("div",{style:{flex:1},children:[it.jsxs("strong",{children:["Orden #",$.id]})," | ",it.jsx("strong",{children:$.recetaNombre})," | Lotes: ",it.jsx("input",{type:"number",min:"1",value:F.lotes??1,onChange:U=>C("lotes",Number(U.target.value)),style:{width:50}})," | Hielitos por lote: ",it.jsx("input",{type:"number",min:"1",value:F.hielitosPorLote??15,onChange:U=>C("hielitosPorLote",Number(U.target.value)),style:{width:50}})," | Costo por lote: $",$.costoPorLote?Number($.costoPorLote).toFixed(2):"-"," | Costo total: $",$.costoTotal?Number($.costoTotal).toFixed(2):"-"," | Gastos extra: $",$.gastosExtra," | Tiempo: ",$.tiempo," min",it.jsx("br",{}),"Fecha: ",$.fecha&&$.fecha.toDate?$.fecha.toDate().toLocaleString():"-",it.jsx("br",{}),it.jsx("button",{onClick:k,style:{marginTop:"0.5rem",marginRight:"0.5rem",background:"#27ae60",color:"#fff"},children:"Guardar cambios"}),it.jsx("button",{onClick:()=>ot($),style:{marginTop:"0.5rem",marginRight:"0.5rem"},children:"Reimprimir PDF"}),it.jsx("button",{onClick:()=>t($.id),style:{marginTop:"0.5rem",background:"#e74c3c"},children:"Eliminar"})]})]},$.id)})})]})};function Z0({orden:n,historial:t,totales:e}){const i=new Re;i.setFillColor(41,128,185),i.rect(0,0,210,30,"F"),i.setTextColor(255,255,255),i.setFontSize(20),i.text("REPORTE DE VENTAS",105,18,{align:"center"}),i.setFontSize(10),i.text("Hielitos App",200,10,{align:"right"}),i.setTextColor(0,0,0),i.setFontSize(12);let r=36,a=null,l="JPEG";if(n){if(n.imageBase64&&n.imageBase64.startsWith("data:image"))a=n.imageBase64;else if(n.receta&&n.receta.imageBase64&&n.receta.imageBase64.startsWith("data:image"))a=n.receta.imageBase64;else if(t&&t.length>0){const f=t.find(g=>g.imageBase64&&g.imageBase64.startsWith("data:image"));f&&(a=f.imageBase64)}a&&a.startsWith("data:image/png")&&(l="PNG"),pg(i,{startY:r,head:[["Receta","Lotes","Fecha","Costo produccin"]],body:[[n.recetaNombre||"-",n.lotes,n.fecha&&n.fecha.toDate?n.fecha.toDate().toLocaleString():"-",`$${(n.costoTotal||0).toFixed(2)}`]],theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},styles:{fontSize:11},margin:{left:10,right:a?70:10},tableWidth:a?120:"auto"}),a&&a.startsWith("data:image")&&i.addImage(a,l,145,r+2,50,36),r=i.lastAutoTable.finalY+8}i.setFont(void 0,"bold"),i.text("Historial de ventas:",10,r),i.setFont(void 0,"normal"),r+=4,!t||t.length===0?(i.text("No hay ventas registradas.",10,r+8),r+=12):(pg(i,{startY:r+2,head:[["#","Fecha","Vendidos","Estropeados","Precio ($)","Comentarios"]],body:t.map((f,g)=>[g+1,f.fecha&&f.fecha.toDate?f.fecha.toDate().toLocaleString():"-",f.cantidadVendida,f.cantidadEstropeada,f.precioVenta,f.comentarios||"-"]),theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},styles:{fontSize:10},margin:{left:10,right:10}}),r=i.lastAutoTable.finalY+6),pg(i,{startY:r,head:[["Total vendidos","Total estropeados","Total ingresos ($)","Costo produccin ($)","Rentabilidad ($)"]],body:[[e.totalVendidos,e.totalEstropeados,e.totalIngresos.toFixed(2),e.costoProduccion.toFixed(2),e.rentabilidad.toFixed(2)]],theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},styles:{fontSize:11},margin:{left:10,right:10}}),r=i.lastAutoTable.finalY+6,i.setFontSize(10),i.text("Generado por Hielitos App",10,290);const u=i.output("blob"),h=URL.createObjectURL(u);window.open(h,"_blank"),setTimeout(()=>URL.revokeObjectURL(h),1e4)}const LN=({clienteId:n,setClienteId:t})=>{const[e,i]=Jt.useState([]);return Jt.useEffect(()=>{(async()=>{const a=await Rn(sn(Ue,"clientes"));i(a.docs.map(l=>({id:l.id,...l.data()})))})()},[]),it.jsxs("label",{style:{marginLeft:"1rem"},children:["Cliente (opcional):",it.jsxs("select",{value:n||"",onChange:r=>t(r.target.value||null),children:[it.jsx("option",{value:"",children:"-- Sin cliente --"}),e.map(r=>it.jsxs("option",{value:r.id,children:[r.nombre," (",r.telefono||"sin tel",")"]},r.id))]})]})},RN=({trigger:n,onVentaEliminada:t})=>{const[e,i]=Jt.useState([]);Jt.useEffect(()=>{(async()=>{const l=or(sn(Ue,"ventas"),Ca("fecha","desc")),u=await Rn(l);i(u.docs.map(h=>({id:h.id,...h.data()})))})()},[n]);const r=async a=>{if(window.confirm("Seguro que deseas eliminar este reporte de venta?"))try{await Od(jc(Ue,"ventas",a)),typeof n.set=="function"&&n.set(l=>l+1),typeof t=="function"&&t(),alert("Venta eliminada correctamente")}catch(l){alert("Error al eliminar la venta: "+(l&&l.message?l.message:JSON.stringify(l))),console.error("Error al eliminar la venta:",l)}};return e.length===0?it.jsx("p",{children:"No hay ventas registradas."}):it.jsx("ul",{children:e.map(a=>it.jsxs("li",{style:{marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"6px",padding:"0.5rem 1rem",position:"relative"},children:[it.jsx("strong",{children:"Fecha:"})," ",a.fecha&&a.fecha.toDate?a.fecha.toDate().toLocaleString():"-"," | ",it.jsx("strong",{children:"Orden:"})," ",a.ordenId," | ",it.jsx("strong",{children:"Vendidos:"})," ",a.cantidadVendida," | ",it.jsx("strong",{children:"Estropeados:"})," ",a.cantidadEstropeada," | ",it.jsx("strong",{children:"Precio venta:"})," $",a.precioVenta," ",it.jsx("br",{}),it.jsx("strong",{children:"Comentarios:"})," ",a.comentarios,it.jsx("button",{onClick:()=>r(a.id),style:{position:"absolute",top:8,right:8,background:"#e74c3c",color:"#fff",border:"none",borderRadius:"4px",padding:"2px 8px",cursor:"pointer"},children:"Eliminar"})]},a.id))})},DN=async(n,t,e)=>{if(window.confirm("Seguro que deseas eliminar este reporte de venta?"))try{await Od(jc(Ue,"ventas",n));const i=or(sn(Ue,"ventas"),Pg("ordenId","==",t.id),Ca("fecha","desc")),r=await Rn(i);e(r.docs.map(_=>({id:_.id,..._.data()})));const a=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc")),u=(await Rn(a)).docs.map(_=>({id:_.id,..._.data()})),h=or(sn(Ue,"ventas")),g=(await Rn(h)).docs.map(_=>({id:_.id,..._.data()})),v={};g.forEach(_=>{const T=Number(_.cantidadVendida)||0,N=Number(_.cantidadEstropeada)||0;v[_.ordenId]=(v[_.ordenId]||0)+T+N});const w=u.filter(_=>{const T=Number(_.hielitosPorLote)||15,N=Number(_.lotes)*T;return(v[_.id]||0)<N});setOrdenes(u),setOrdenesDisponibles(w),alert("Venta eliminada correctamente")}catch(i){alert("Error al eliminar la venta: "+(i&&i.message?i.message:JSON.stringify(i))),console.error("Error al eliminar la venta:",i)}},IN=()=>{const[n,t]=Jt.useState(0),[e,i]=Jt.useState([]),[r,a]=Jt.useState([]),[l,u]=Jt.useState(null),[h,f]=Jt.useState([]),[g,v]=Jt.useState(0),[w,_]=Jt.useState(0),[T,N]=Jt.useState(0),[I,O]=Jt.useState(""),[q,J]=Jt.useState(null),[ot,$]=Jt.useState([]),ut=async()=>{const M=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc")),pt=(await Rn(M)).docs.map(vt=>({id:vt.id,...vt.data()})),et=or(sn(Ue,"ventas")),lt=(await Rn(et)).docs.map(vt=>({id:vt.id,...vt.data()})),_t={};lt.forEach(vt=>{const j=Number(vt.cantidadVendida)||0,W=Number(vt.cantidadEstropeada)||0;_t[vt.ordenId]=(_t[vt.ordenId]||0)+j+W});const Q=pt.filter(vt=>{const j=Number(vt.lotes)*15;return(_t[vt.id]||0)<j});i(pt),a(Q)};Jt.useEffect(()=>{(async()=>{const nt=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc")),et=(await Rn(nt)).docs.map(j=>({id:j.id,...j.data()})),ht=or(sn(Ue,"ventas")),_t=(await Rn(ht)).docs.map(j=>({id:j.id,...j.data()})),Q={};_t.forEach(j=>{const W=Number(j.cantidadVendida)||0,tt=Number(j.cantidadEstropeada)||0;Q[j.ordenId]=(Q[j.ordenId]||0)+W+tt});const vt=et.filter(j=>{const W=Number(j.hielitosPorLote)||15,tt=Number(j.lotes)*W;return(Q[j.id]||0)<tt});i(et),a(vt)})()},[ot]),Jt.useEffect(()=>{if(!l)return $([]);(async()=>{const nt=or(sn(Ue,"ventas"),Pg("ordenId","==",l.id),Ca("fecha","desc")),pt=await Rn(nt);$(pt.docs.map(et=>({id:et.id,...et.data()})))})()},[l]);const F=async()=>{if(!l)return alert("Selecciona una orden de produccin");if(g<=0&&w<=0)return alert("Ingresa cantidad vendida o estropeada");try{await kd(sn(Ue,"ventas"),{ordenId:l.id,cantidadVendida:Number(g),cantidadEstropeada:Number(w),precioVenta:Number(T),comentarios:I,fecha:Yn.now(),clienteId:q||null});const M=or(sn(Ue,"ventas"),Pg("ordenId","==",l.id),Ca("fecha","desc")),pt=(await Rn(M)).docs.map(tt=>({id:tt.id,...tt.data()}));$(pt);const et=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc")),lt=(await Rn(et)).docs.map(tt=>({id:tt.id,...tt.data()})),_t=or(sn(Ue,"ventas")),vt=(await Rn(_t)).docs.map(tt=>({id:tt.id,...tt.data()})),j={};vt.forEach(tt=>{const at=Number(tt.cantidadVendida)||0,ft=Number(tt.cantidadEstropeada)||0;j[tt.ordenId]=(j[tt.ordenId]||0)+at+ft});const W=lt.filter(tt=>{const at=Number(tt.hielitosPorLote)||15,ft=Number(tt.lotes)*at;return(j[tt.id]||0)<ft});i(lt),a(W),Z0({orden:l,historial:pt,totales:{totalVendidos:pt.reduce((tt,at)=>tt+at.cantidadVendida,0),totalEstropeados:pt.reduce((tt,at)=>tt+at.cantidadEstropeada,0),totalIngresos:pt.reduce((tt,at)=>tt+at.cantidadVendida*at.precioVenta,0),costoProduccion:l?.costoTotal||0,rentabilidad:pt.reduce((tt,at)=>tt+at.cantidadVendida*at.precioVenta,0)-(l?.costoTotal||0)}}),v(0),_(0),N(0),O(""),u(null),J(null),t(tt=>tt+1),alert("Venta registrada correctamente y PDF generado")}catch(M){alert("Error al guardar la venta: "+(M&&M.message?M.message:JSON.stringify(M))),console.error("Error al guardar la venta:",M)}},C=ot.reduce((M,nt)=>M+nt.cantidadVendida*nt.precioVenta,0),k=ot.reduce((M,nt)=>M+nt.cantidadVendida,0),U=ot.reduce((M,nt)=>M+nt.cantidadEstropeada,0),R=l?.costoTotal||0,L=C-R;return it.jsxs("div",{children:[it.jsx("h2",{children:"Reporte de Ventas"}),it.jsxs("label",{children:["Selecciona orden de produccin:",it.jsxs("select",{value:l?.id||"",onChange:M=>{const nt=r.find(pt=>pt.id===M.target.value);u(nt)},children:[it.jsx("option",{value:"",children:"-- Selecciona --"}),r.map(M=>it.jsxs("option",{value:M.id,children:[M.recetaNombre," | Lotes: ",M.lotes," | Fecha: ",M.fecha&&M.fecha.toDate?M.fecha.toDate().toLocaleString():"-"]},M.id))]})]}),l&&it.jsxs(it.Fragment,{children:[it.jsxs("div",{style:{margin:"1rem 0"},children:[it.jsxs("label",{children:["Cantidad vendida:",it.jsx("input",{type:"number",min:"0",value:g,onChange:M=>v(M.target.value)})]}),it.jsxs("label",{style:{marginLeft:"1rem"},children:["Cantidad estropeada:",it.jsx("input",{type:"number",min:"0",value:w,onChange:M=>_(M.target.value)})]}),it.jsxs("label",{style:{marginLeft:"1rem"},children:["Precio de venta por hielito ($):",it.jsx("input",{type:"number",min:"0",step:"0.01",value:T,onChange:M=>N(M.target.value)})]})]}),it.jsxs("div",{children:[it.jsxs("label",{children:["Comentarios:",it.jsx("input",{type:"text",value:I,onChange:M=>O(M.target.value),style:{width:"300px"}})]}),it.jsx(LN,{clienteId:q,setClienteId:J})]}),it.jsx("button",{onClick:F,style:{marginTop:"1rem"},children:"Registrar Venta"}),it.jsx("h3",{style:{marginTop:"2rem"},children:"Historial de Ventas de esta Orden"}),ot.length===0?it.jsx("p",{children:"No hay ventas registradas para esta orden."}):it.jsxs(it.Fragment,{children:[it.jsx("button",{onClick:()=>Z0({orden:l,historial:ot,totales:{totalVendidos:k,totalEstropeados:U,totalIngresos:C,costoProduccion:R,rentabilidad:L}}),style:{marginBottom:"1rem",background:"#3498db",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 16px",cursor:"pointer"},children:"Exportar historial a PDF"}),it.jsx("ul",{children:ot.map(M=>it.jsxs("li",{style:{marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"6px",padding:"0.5rem 1rem",position:"relative"},children:[it.jsx("strong",{children:"Fecha:"})," ",M.fecha&&M.fecha.toDate?M.fecha.toDate().toLocaleString():"-"," | ",it.jsx("strong",{children:"Vendidos:"})," ",M.cantidadVendida," | ",it.jsx("strong",{children:"Estropeados:"})," ",M.cantidadEstropeada," | ",it.jsx("strong",{children:"Precio venta:"})," $",M.precioVenta," ",it.jsx("br",{}),it.jsx("strong",{children:"Comentarios:"})," ",M.comentarios,it.jsx("button",{onClick:()=>DN(M.id,l,$),style:{position:"absolute",top:8,right:8,background:"#e74c3c",color:"#fff",border:"none",borderRadius:"4px",padding:"2px 8px",cursor:"pointer"},children:"Eliminar"})]},M.id))})]}),it.jsxs("div",{style:{marginTop:"2rem",background:"#f8f8f8",padding:"1rem",borderRadius:"8px"},children:[it.jsx("strong",{children:"Total vendidos:"})," ",k," ",it.jsx("br",{}),it.jsx("strong",{children:"Total estropeados:"})," ",U," ",it.jsx("br",{}),it.jsx("strong",{children:"Total ingresos:"})," $",C.toFixed(2)," ",it.jsx("br",{}),it.jsx("strong",{children:"Costo de produccin:"})," $",R.toFixed(2)," ",it.jsx("br",{}),it.jsx("strong",{children:"Rentabilidad:"})," $",L.toFixed(2)]})]}),it.jsx("h3",{style:{marginTop:"2rem"},children:"Historial General de Ventas"}),it.jsx(RN,{trigger:{value:n,set:t},onVentaEliminada:ut})]})},MN=n=>n?"2px solid #27ae60":"2px solid #e74c3c",PN=()=>{const[n,t]=Jt.useState([]),[e,i]=Jt.useState({}),[r,a]=Jt.useState([]),[l,u]=Jt.useState(!0),[h,f]=Jt.useState(null),[g,v]=Jt.useState(!0),w=10,_=async(T=!1)=>{u(!0);let N;T||!h?N=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc"),Sb(w)):N=or(sn(Ue,"ordenesProduccion"),Ca("fecha","desc"),P8(h),Sb(w));const I=await Rn(N),O=I.docs.map(k=>({id:k.id,...k.data()})),q=I.docs[I.docs.length-1];f(q),v(I.docs.length===w);const J=O.map(k=>k.id);let ot=[];if(J.length>0){const k=or(sn(Ue,"ventas"));ot=(await Rn(k)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>J.includes(R.ordenId))}let $=[];const ut=O.map(k=>k.recetaId).filter(Boolean);ut.length>0&&($=(await Rn(sn(Ue,"recetas"))).docs.map(U=>({id:U.id,...U.data()})).filter(U=>ut.includes(U.id)));const F=O.map(k=>{if(!k.imageBase64&&k.recetaId){const U=$.find(R=>R.id===k.recetaId);if(U&&U.imageBase64)return{...k,imageBase64:U.imageBase64}}return k}),C={};ot.forEach(k=>{C[k.ordenId]||(C[k.ordenId]=[]),C[k.ordenId].push(k)}),t(k=>T?F:[...k,...F]),i(k=>T?C:{...k,...C}),a(k=>T?$:[...k,...$]),u(!1)};return Jt.useEffect(()=>{_(!0)},[]),l&&n.length===0?it.jsx("p",{children:"Cargando..."}):!l&&n.length===0?it.jsx("p",{children:"No hay rdenes de produccin registradas."}):it.jsxs("div",{children:[it.jsx("h2",{children:"rdenes de Produccin y Ventas"}),it.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.map(T=>{const N=e[T.id]||[],I=N.reduce((C,k)=>C+(k.cantidadVendida||0),0),O=N.reduce((C,k)=>C+(k.cantidadEstropeada||0),0),q=N.reduce((C,k)=>C+(k.cantidadVendida||0)*(k.precioVenta||0),0),J=T.costoTotal||0,ot=typeof T.hielitosPorLote=="number"?T.hielitosPorLote:Number(T.hielitosPorLote)||15,$=Number(T.lotes)*ot,ut=I+O<$;let F=null;if(T.imageBase64&&T.imageBase64.startsWith("data:image"))F=T.imageBase64;else if(T.receta&&T.receta.imageBase64&&T.receta.imageBase64.startsWith("data:image"))F=T.resceta.imageBase64;else if(T.recetaId&&r.length>0){const C=r.find(k=>k.id===T.recetaId);C&&C.imageBase64&&C.imageBase64.startsWith("data:image")&&(F=C.imageBase64)}return it.jsxs("div",{style:{border:MN(ut),borderRadius:14,padding:"clamp(14px, 4vw, 28px)",minWidth:0,width:"100%",background:"var(--card-bg)",boxShadow:"var(--shadow)",display:"flex",flexDirection:"row",gap:20,flexWrap:"wrap",alignItems:"center",boxSizing:"border-box",maxWidth:650,margin:"0 auto",transition:"background 0.2s, box-shadow 0.2s",borderLeft:ut?"6px solid #27ae60":"6px solid #e74c3c",borderRight:"none",borderTop:"none",borderBottom:"none"},children:[F&&it.jsx("img",{src:F,alt:"Foto receta",style:{width:"clamp(60px, 20vw, 100px)",height:"clamp(45px, 15vw, 80px)",objectFit:"cover",borderRadius:8,border:"2px solid var(--primary)",marginRight:18,flexShrink:0,background:"#fff1",boxShadow:"0 1px 4px #0002"}}),it.jsxs("div",{style:{flex:1},children:[it.jsx("h3",{style:{margin:0,color:"var(--primary)"},children:T.recetaNombre||"Sin nombre"}),it.jsxs("div",{style:{fontSize:14,color:"var(--text)"},children:[it.jsx("strong",{children:"Fecha:"})," ",T.fecha&&T.fecha.toDate?T.fecha.toDate().toLocaleString():"-"," ",it.jsx("br",{}),it.jsx("strong",{children:"Lotes:"})," ",T.lotes," ",it.jsx("br",{}),it.jsx("strong",{children:"Hielitos por lote:"})," ",ot," ",it.jsx("br",{}),it.jsx("strong",{children:"Producidos:"})," ",$," ",it.jsx("br",{}),it.jsx("strong",{children:"Costo produccin:"})," $",J.toFixed(2)," ",it.jsx("br",{}),it.jsx("strong",{children:"Estado:"})," ",ut?it.jsx("span",{style:{color:"#27ae60"},children:"Abierta"}):it.jsx("span",{style:{color:"#e74c3c"},children:"Cerrada"})]}),it.jsxs("div",{style:{marginTop:10},children:[it.jsx("strong",{children:"Ventas de esta orden:"}),N.length===0?it.jsx("p",{style:{margin:0,color:"var(--text)"},children:"No hay ventas registradas."}):it.jsxs(it.Fragment,{children:[it.jsx("button",{onClick:()=>Z0({orden:T,historial:N,totales:{totalVendidos:I,totalEstropeados:O,totalIngresos:q,costoProduccion:J,rentabilidad:q-J}}),style:{marginBottom:"1rem",background:"var(--primary)",color:"#fff",border:"none",borderRadius:"6px",padding:"7px 18px",cursor:"pointer",fontWeight:600,fontSize:15,boxShadow:"0 1px 4px #0002"},children:"Exportar historial a PDF"}),it.jsx("ul",{style:{margin:0,paddingLeft:18},children:N.map(C=>it.jsxs("li",{style:{fontSize:13,marginBottom:4,color:"var(--text)"},children:[it.jsx("strong",{children:"Fecha:"})," ",C.fecha&&C.fecha.toDate?C.fecha.toDate().toLocaleString():"-"," | ",it.jsx("strong",{children:"Vendidos:"})," ",C.cantidadVendida," | ",it.jsx("strong",{children:"Estropeados:"})," ",C.cantidadEstropeada," | ",it.jsx("strong",{children:"Precio venta:"})," $",C.precioVenta," ",it.jsx("br",{}),it.jsx("strong",{children:"Comentarios:"})," ",C.comentarios]},C.id))})]})]}),it.jsxs("div",{style:{marginTop:10,fontSize:14,color:"var(--text)"},children:[it.jsx("strong",{children:"Total vendidos:"})," ",I," ",it.jsx("br",{}),it.jsx("strong",{children:"Total estropeados:"})," ",O," ",it.jsx("br",{}),it.jsx("strong",{children:"Total ingresos:"})," $",q.toFixed(2)," ",it.jsx("br",{}),it.jsx("strong",{children:"Rentabilidad:"})," ",(q-J).toFixed(2)]})]})]},T.id)}),g&&it.jsx("button",{onClick:()=>_(!1),style:{margin:"2rem auto 0 auto",display:"block",background:"var(--primary)",color:"#fff",border:"none",borderRadius:6,padding:"10px 28px",fontWeight:600,fontSize:16,boxShadow:"0 1px 4px #0002",cursor:"pointer"},children:l?"Cargando...":"Cargar ms"})]})]})},ON=()=>{const[n,t]=Jt.useState([]),[e,i]=Jt.useState([]),[r,a]=Jt.useState([]),[l,u]=Jt.useState(0),[h,f]=Jt.useState(!0);return Jt.useEffect(()=>{(async()=>{f(!0);const w=(await Rn(sn(Ue,"ventas"))).docs.map(ut=>ut.data());t(w);const T=(await Rn(sn(Ue,"ordenesProduccion"))).docs.map(ut=>ut.data());i(T);let N=[];try{N=(await Rn(sn(Ue,"gastosExtra"))).docs.map(F=>F.data())}catch{}a(N);const I=w.reduce((ut,F)=>ut+F.cantidadVendida*F.precioVenta,0),O=T.reduce((ut,F)=>ut+(F.costoTotal||0),0),q=N.reduce((ut,F)=>ut+(F.monto||0),0),J=N.filter(ut=>ut.tipo==="retiro").reduce((ut,F)=>ut+(F.monto||0),0),ot=N.filter(ut=>ut.tipo==="inversion").reduce((ut,F)=>ut+(F.monto||0),0),$=I-O-q-J+ot;u($),f(!1)})()},[]),it.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:48,minWidth:180,paddingRight:24},children:h?it.jsx("span",{style:{fontSize:"1.2rem",color:"#888"},children:"..."}):it.jsxs("span",{style:{fontSize:"2rem",fontWeight:700,color:l>=0?"#27ae60":"#e74c3c",letterSpacing:1},children:["$",l.toFixed(2)]})})},n_=[{value:"retiro",label:"Retiro"},{value:"inversion",label:"Inversin"},{value:"gasto",label:"Gasto"}],kN=()=>{const[n,t]=Jt.useState(0),[e,i]=Jt.useState("gasto"),[r,a]=Jt.useState(""),[l,u]=Jt.useState(""),[h,f]=Jt.useState([]),[g,v]=Jt.useState(!0),w=async()=>{v(!0);const I=(await Rn(sn(Ue,"gastosExtra"))).docs.map(O=>({id:O.id,...O.data()}));f(I),v(!1)};Jt.useEffect(()=>{w()},[]);const _=async N=>{if(N.preventDefault(),!l.trim())return alert("Ingresa el usuario");if(!n||isNaN(n))return alert("Monto invlido");try{await kd(sn(Ue,"gastosExtra"),{monto:Number(n),tipo:e,comentario:r,usuario:l.trim(),fecha:Yn.now()}),t(0),i("gasto"),a(""),u(""),await w(),alert("Gasto registrado")}catch{alert("Error al guardar gasto extra")}},T=async N=>{if(window.confirm("Eliminar este gasto extra?"))try{await Od(jc(Ue,"gastosExtra",N)),await w()}catch{alert("Error al eliminar gasto extra")}};return it.jsxs("div",{style:{maxWidth:500,margin:"2rem auto"},children:[it.jsx("h2",{children:"Registro de Gastos Extra"}),it.jsxs("form",{onSubmit:_,style:{marginBottom:"2rem"},children:[it.jsx("input",{type:"number",placeholder:"Monto",value:n,onChange:N=>t(N.target.value),required:!0,style:{width:"30%",marginRight:"1rem"}}),it.jsx("select",{value:e,onChange:N=>i(N.target.value),style:{width:"30%",marginRight:"1rem"},children:n_.map(N=>it.jsx("option",{value:N.value,children:N.label},N.value))}),it.jsx("input",{type:"text",placeholder:"Usuario",value:l,onChange:N=>u(N.target.value),required:!0,style:{width:"30%",marginRight:"1rem"}}),it.jsx("input",{type:"text",placeholder:"Comentario (opcional)",value:r,onChange:N=>a(N.target.value),style:{width:"100%",marginTop:"0.5rem"}}),it.jsx("button",{type:"submit",style:{marginTop:"0.5rem"},children:"Agregar"})]}),it.jsx("h3",{children:"Historial de Gastos Extra"}),g?it.jsx("p",{children:"Cargando..."}):h.length===0?it.jsx("p",{children:"No hay gastos registrados."}):it.jsx("ul",{children:h.sort((N,I)=>I.fecha?.seconds-N.fecha?.seconds).map(N=>it.jsxs("li",{style:{border:"1px solid #ccc",borderRadius:6,padding:"0.5rem",marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[it.jsxs("div",{children:[it.jsxs("strong",{children:["$",N.monto.toFixed(2)]})," | ",it.jsx("span",{children:n_.find(I=>I.value===N.tipo)?.label||N.tipo})," | ",it.jsx("span",{children:N.usuario})," | ",it.jsx("span",{children:N.comentario})," | ",it.jsx("span",{children:N.fecha&&N.fecha.toDate?N.fecha.toDate().toLocaleString():"-"})]}),it.jsx("button",{onClick:()=>T(N.id),style:{background:"#e74c3c",color:"#fff",border:"none",borderRadius:"4px",padding:"2px 8px",cursor:"pointer"},children:"Eliminar"})]},N.id))})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jd(n){return n+.5|0}const Ou=(n,t,e)=>Math.max(Math.min(n,e),t);function ed(n){return Ou(jd(n*2.55),0,255)}function qu(n){return Ou(jd(n*255),0,255)}function Bl(n){return Ou(jd(n/2.55)/100,0,1)}function i_(n){return Ou(jd(n*100),0,100)}const Ta={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},J0=[..."0123456789ABCDEF"],jN=n=>J0[n&15],VN=n=>J0[(n&240)>>4]+J0[n&15],Gp=n=>(n&240)>>4===(n&15),FN=n=>Gp(n.r)&&Gp(n.g)&&Gp(n.b)&&Gp(n.a);function BN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ta[n[1]]*17,g:255&Ta[n[2]]*17,b:255&Ta[n[3]]*17,a:t===5?Ta[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ta[n[1]]<<4|Ta[n[2]],g:Ta[n[3]]<<4|Ta[n[4]],b:Ta[n[5]]<<4|Ta[n[6]],a:t===9?Ta[n[7]]<<4|Ta[n[8]]:255})),e}const zN=(n,t)=>n<255?t(n):"";function qN(n){var t=FN(n)?jN:VN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+zN(n.a,t):void 0}const UN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function j3(n,t,e){const i=t*Math.min(e,1-e),r=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function HN(n,t,e){const i=(r,a=(r+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function GN(n,t,e){const i=j3(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function WN(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Y2(n){const e=n.r/255,i=n.g/255,r=n.b/255,a=Math.max(e,i,r),l=Math.min(e,i,r),u=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),h=WN(e,i,r,g,a),h=h*60+.5),[h|0,f||0,u]}function X2(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(qu)}function K2(n,t,e){return X2(j3,n,t,e)}function YN(n,t,e){return X2(GN,n,t,e)}function XN(n,t,e){return X2(HN,n,t,e)}function V3(n){return(n%360+360)%360}function KN(n){const t=UN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ed(+t[5]):qu(+t[5]));const r=V3(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=YN(r,a,l):t[1]==="hsv"?i=XN(r,a,l):i=K2(r,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function QN(n,t){var e=Y2(n);e[0]=V3(e[0]+t),e=K2(e),n.r=e[0],n.g=e[1],n.b=e[2]}function $N(n){if(!n)return;const t=Y2(n),e=t[0],i=i_(t[1]),r=i_(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Bl(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const r_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},s_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZN(){const n={},t=Object.keys(s_),e=Object.keys(r_);let i,r,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)a=e[r],u=u.replace(a,r_[a]);a=parseInt(s_[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Wp;function JN(n){Wp||(Wp=ZN(),Wp.transparent=[0,0,0,0]);const t=Wp[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const tC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eC(n){const t=tC.exec(n);let e=255,i,r,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?ed(l):Ou(l*255,0,255)}return i=+t[1],r=+t[3],a=+t[5],i=255&(t[2]?ed(i):Ou(i,0,255)),r=255&(t[4]?ed(r):Ou(r,0,255)),a=255&(t[6]?ed(a):Ou(a,0,255)),{r:i,g:r,b:a,a:e}}}function nC(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Bl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const i0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,xh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function iC(n,t,e){const i=xh(Bl(n.r)),r=xh(Bl(n.g)),a=xh(Bl(n.b));return{r:qu(i0(i+e*(xh(Bl(t.r))-i))),g:qu(i0(r+e*(xh(Bl(t.g))-r))),b:qu(i0(a+e*(xh(Bl(t.b))-a))),a:n.a+e*(t.a-n.a)}}function Yp(n,t,e){if(n){let i=Y2(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=K2(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function F3(n,t){return n&&Object.assign(t||{},n)}function a_(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=qu(n[3]))):(t=F3(n,{r:0,g:0,b:0,a:1}),t.a=qu(t.a)),t}function rC(n){return n.charAt(0)==="r"?eC(n):KN(n)}class Sd{constructor(t){if(t instanceof Sd)return t;const e=typeof t;let i;e==="object"?i=a_(t):e==="string"&&(i=BN(t)||JN(t)||rC(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=F3(this._rgb);return t&&(t.a=Bl(t.a)),t}set rgb(t){this._rgb=a_(t)}rgbString(){return this._valid?nC(this._rgb):void 0}hexString(){return this._valid?qN(this._rgb):void 0}hslString(){return this._valid?$N(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=i.a-r.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=iC(this._rgb,t._rgb,e)),this}clone(){return new Sd(this.rgb)}alpha(t){return this._rgb.a=qu(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=jd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Yp(this._rgb,2,t),this}darken(t){return Yp(this._rgb,2,-t),this}saturate(t){return Yp(this._rgb,1,t),this}desaturate(t){return Yp(this._rgb,1,-t),this}rotate(t){return QN(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jl(){}const sC=(()=>{let n=0;return()=>n++})();function Jn(n){return n==null}function lr(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function bn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ra(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Uo(n,t){return Ra(n)?n:t}function vn(n,t){return typeof n>"u"?t:n}const aC=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,B3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ri(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Vn(n,t,e,i){let r,a,l;if(lr(n))for(a=n.length,r=0;r<a;r++)t.call(e,n[r],r);else if(bn(n))for(l=Object.keys(n),a=l.length,r=0;r<a;r++)t.call(e,n[l[r]],l[r])}function Fg(n,t){let e,i,r,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Bg(n){if(lr(n))return n.map(Bg);if(bn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Bg(n[e[r]]);return t}return n}function z3(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function oC(n,t,e,i){if(!z3(n))return;const r=t[n],a=e[n];bn(r)&&bn(a)?Ad(r,a,i):t[n]=Bg(a)}function Ad(n,t,e){const i=lr(t)?t:[t],r=i.length;if(!bn(n))return n;e=e||{};const a=e.merger||oC;let l;for(let u=0;u<r;++u){if(l=i[u],!bn(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,e)}return n}function cd(n,t){return Ad(n,t,{merger:lC})}function lC(n,t,e){if(!z3(n))return;const i=t[n],r=e[n];bn(i)&&bn(r)?cd(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Bg(r))}const o_={"":n=>n,x:n=>n.x,y:n=>n.y};function uC(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function cC(n){const t=uC(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Vc(n,t){return(o_[t]||(o_[t]=cC(t)))(n)}function Q2(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ed=n=>typeof n<"u",Zu=n=>typeof n=="function",l_=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function hC(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Zn=Math.PI,Zi=2*Zn,zg=Number.POSITIVE_INFINITY,fC=Zn/180,cr=Zn/2,Sc=Zn/4,u_=Zn*2/3,q3=Math.log10,Uu=Math.sign;function gg(n,t,e){return Math.abs(n-t)<e}function c_(n){const t=Math.round(n);n=gg(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(q3(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function dC(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}function pC(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function qg(n){return!pC(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function gC(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function mC(n,t,e){let i,r,a;for(i=0,r=n.length;i<r;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ql(n){return n*(Zn/180)}function yC(n){return n*(180/Zn)}function h_(n){if(!Ra(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function U3(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*Zn&&(a+=Zi),{angle:a,distance:r}}function vC(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Xo(n){return(n%Zi+Zi)%Zi}function Ug(n,t,e,i){const r=Xo(n),a=Xo(t),l=Xo(e),u=Xo(a-r),h=Xo(l-r),f=Xo(r-a),g=Xo(r-l);return r===a||r===l||i&&a===l||u>h&&f<g}function Ds(n,t,e){return Math.max(t,Math.min(e,n))}function bC(n){return Ds(n,-32768,32767)}function Dc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function $2(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,e(a)?r=a:i=a;return{lo:r,hi:i}}const t2=(n,t,e,i)=>$2(n,e,i?r=>{const a=n[r][t];return a<e||a===e&&n[r+1][t]===e}:r=>n[r][t]<e),_C=(n,t,e)=>$2(n,e,i=>n[i][t]>=e);function wC(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const H3=["push","pop","shift","splice","unshift"];function xC(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),H3.forEach(e=>{const i="_onData"+Q2(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function f_(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(H3.forEach(a=>{delete n[a]}),delete n._chartjs)}function G3(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const W3=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Y3(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,W3.call(window,()=>{i=!1,n.apply(t,e)}))}}function SC(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Z2=n=>n==="start"?"left":n==="end"?"right":"center",Jr=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,AC=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Xp=n=>n===0||n===1,d_=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Zi/e)),p_=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Zi/e)+1,hd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*cr)+1,easeOutSine:n=>Math.sin(n*cr),easeInOutSine:n=>-.5*(Math.cos(Zn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Xp(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Xp(n)?n:d_(n,.075,.3),easeOutElastic:n=>Xp(n)?n:p_(n,.075,.3),easeInOutElastic(n){return Xp(n)?n:n<.5?.5*d_(n*2,.1125,.45):.5+.5*p_(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-hd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?hd.easeInBounce(n*2)*.5:hd.easeOutBounce(n*2-1)*.5+.5};function X3(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function g_(n){return X3(n)?n:new Sd(n)}function r0(n){return X3(n)?n:new Sd(n).saturate(.5).darken(.1).hexString()}const EC=["x","y","borderWidth","radius","tension"],TC=["color","borderColor","backgroundColor"];function NC(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:TC},numbers:{type:"number",properties:EC}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function CC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const m_=new Map;function LC(n,t){t=t||{};const e=n+JSON.stringify(t);let i=m_.get(e);return i||(i=new Intl.NumberFormat(n,t),m_.set(e,i)),i}function J2(n,t,e){return LC(t,e).format(n)}const RC={values(n){return lr(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),a=DC(n,e)}const l=q3(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),J2(n,i,h)}};function DC(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var K3={formatters:RC};function IC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:K3.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fc=Object.create(null),e2=Object.create(null);function fd(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function s0(n,t,e){return typeof t=="string"?Ad(fd(n,t),e):Ad(fd(n,""),t)}class MC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>r0(r.backgroundColor),this.hoverBorderColor=(i,r)=>r0(r.borderColor),this.hoverColor=(i,r)=>r0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return s0(this,t,e)}get(t){return fd(this,t)}describe(t,e){return s0(e2,t,e)}override(t,e){return s0(Fc,t,e)}route(t,e,i,r){const a=fd(this,t),l=fd(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[r];return bn(h)?Object.assign({},f,h):vn(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var qi=new MC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[NC,CC,IC]);function PC(n){return!n||Jn(n.size)||Jn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function y_(n,t,e,i,r){let a=t[r];return a||(a=t[r]=n.measureText(r).width,e.push(r)),a>i&&(i=a),i}function Ac(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function v_(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function b_(n,t,e,i){Q3(n,t,e,i,null)}function Q3(n,t,e,i,r){let a,l,u,h,f,g,v,w;const _=t.pointStyle,T=t.rotation,N=t.radius;let I=(T||0)*fC;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(N)||N<=0)){switch(n.beginPath(),_){default:r?n.ellipse(e,i,r/2,N,0,0,Zi):n.arc(e,i,N,0,Zi),n.closePath();break;case"triangle":g=r?r/2:N,n.moveTo(e+Math.sin(I)*g,i-Math.cos(I)*N),I+=u_,n.lineTo(e+Math.sin(I)*g,i-Math.cos(I)*N),I+=u_,n.lineTo(e+Math.sin(I)*g,i-Math.cos(I)*N),n.closePath();break;case"rectRounded":f=N*.516,h=N-f,l=Math.cos(I+Sc)*h,v=Math.cos(I+Sc)*(r?r/2-f:h),u=Math.sin(I+Sc)*h,w=Math.sin(I+Sc)*(r?r/2-f:h),n.arc(e-v,i-u,f,I-Zn,I-cr),n.arc(e+w,i-l,f,I-cr,I),n.arc(e+v,i+u,f,I,I+cr),n.arc(e-w,i+l,f,I+cr,I+Zn),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*N,g=r?r/2:h,n.rect(e-g,i-h,2*g,2*h);break}I+=Sc;case"rectRot":v=Math.cos(I)*(r?r/2:N),l=Math.cos(I)*N,u=Math.sin(I)*N,w=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-u),n.lineTo(e+w,i-l),n.lineTo(e+v,i+u),n.lineTo(e-w,i+l),n.closePath();break;case"crossRot":I+=Sc;case"cross":v=Math.cos(I)*(r?r/2:N),l=Math.cos(I)*N,u=Math.sin(I)*N,w=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+w,i-l),n.lineTo(e-w,i+l);break;case"star":v=Math.cos(I)*(r?r/2:N),l=Math.cos(I)*N,u=Math.sin(I)*N,w=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+w,i-l),n.lineTo(e-w,i+l),I+=Sc,v=Math.cos(I)*(r?r/2:N),l=Math.cos(I)*N,u=Math.sin(I)*N,w=Math.sin(I)*(r?r/2:N),n.moveTo(e-v,i-u),n.lineTo(e+v,i+u),n.moveTo(e+w,i-l),n.lineTo(e-w,i+l);break;case"line":l=r?r/2:Math.cos(I)*N,u=Math.sin(I)*N,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:N),i+Math.sin(I)*N);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function $3(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function t5(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function e5(n){n.restore()}function OC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Jn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function kC(n,t,e,i,r){if(r.strikethrough||r.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,g=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function jC(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Td(n,t,e,i,r,a={}){const l=lr(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,OC(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&jC(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Jn(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,i,a.maxWidth)),n.fillText(f,e,i,a.maxWidth),kC(n,e,i,f,a),i+=Number(r.lineHeight);n.restore()}function Hg(n,t){const{x:e,y:i,w:r,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Zn,Zn,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Zn,cr,!0),n.lineTo(e+r-l.bottomRight,i+a),n.arc(e+r-l.bottomRight,i+a-l.bottomRight,l.bottomRight,cr,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-cr,!0),n.lineTo(e+l.topLeft,i)}const VC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function BC(n,t){const e=(""+n).match(VC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const zC=n=>+n||0;function n5(n,t){const e={},i=bn(t),r=i?Object.keys(t):t,a=bn(n)?i?l=>vn(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=zC(a(l));return e}function Z3(n){return n5(n,{top:"y",right:"x",bottom:"y",left:"x"})}function zh(n){return n5(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Da(n){const t=Z3(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function is(n,t){n=n||{},t=t||qi.font;let e=vn(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=vn(n.style,t.style);i&&!(""+i).match(FC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:vn(n.family,t.family),lineHeight:BC(vn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:vn(n.weight,t.weight),string:""};return r.string=PC(r),r}function Kp(n,t,e,i){let r,a,l;for(r=0,a=n.length;r<a;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function qC(n,t,e){const{min:i,max:r}=n,a=B3(t,(r-i)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(r,a)}}function nf(n,t){return Object.assign(Object.create(n),t)}function i5(n,t=[""],e,i,r=()=>n[0]){const a=e||n;typeof i>"u"&&(i=n6("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:r,override:u=>i5([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return t6(u,h,()=>QC(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return w_(u).includes(h)},ownKeys(u){return w_(u)},set(u,h,f){const g=u._storage||(u._storage=r());return u[h]=g[h]=f,delete u._keys,!0}})}function Qh(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:J3(n,i),setContext:a=>Qh(n,a,e,i),override:a=>Qh(n.override(a),t,e,i)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return t6(a,l,()=>HC(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function J3(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Zu(e)?e:()=>e,isIndexable:Zu(i)?i:()=>i}}const UC=(n,t)=>n?n+Q2(t):t,r5=(n,t)=>bn(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function t6(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function HC(n,t,e){const{_proxy:i,_context:r,_subProxy:a,_descriptors:l}=n;let u=i[t];return Zu(u)&&l.isScriptable(t)&&(u=GC(t,u,n,e)),lr(u)&&u.length&&(u=WC(t,u,n,l.isIndexable)),r5(t,u)&&(u=Qh(u,r,a&&a[t],l)),u}function GC(n,t,e,i){const{_proxy:r,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||i);return u.delete(n),r5(n,h)&&(h=s5(r._scopes,r,n,h)),h}function WC(n,t,e,i){const{_proxy:r,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(bn(t[0])){const h=t,f=r._scopes.filter(g=>g!==h);t=[];for(const g of h){const v=s5(f,r,n,g);t.push(Qh(v,a,l&&l[n],u))}}return t}function e6(n,t,e){return Zu(n)?n(t,e):n}const YC=(n,t)=>n===!0?t:typeof n=="string"?Vc(t,n):void 0;function XC(n,t,e,i,r){for(const a of t){const l=YC(e,a);if(l){n.add(l);const u=e6(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function s5(n,t,e,i){const r=t._rootScopes,a=e6(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let h=__(u,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=__(u,l,a,h,i),h===null)?!1:i5(Array.from(u),[""],r,a,()=>KC(t,e,i))}function __(n,t,e,i,r){for(;e;)e=XC(n,t,e,i,r);return e}function KC(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return lr(r)&&bn(e)?e:r||{}}function QC(n,t,e,i){let r;for(const a of t)if(r=n6(UC(a,n),e),typeof r<"u")return r5(n,r)?s5(e,i,n,r):r}function n6(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function w_(n){let t=n._keys;return t||(t=n._keys=$C(n._scopes)),t}function $C(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function a5(){return typeof window<"u"&&typeof document<"u"}function o5(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Gg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const _m=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ZC(n,t){return _m(n).getPropertyValue(t)}const JC=["top","right","bottom","left"];function Mc(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=JC[r];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function eL(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:a}=i;let l=!1,u,h;if(tL(r,a,n.target))u=r,h=a;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function Cc(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=_m(e),a=r.boxSizing==="border-box",l=Mc(r,"padding"),u=Mc(r,"border","width"),{x:h,y:f,box:g}=eL(n,e),v=l.left+(g&&u.left),w=l.top+(g&&u.top);let{width:_,height:T}=t;return a&&(_-=l.width+u.width,T-=l.height+u.height),{x:Math.round((h-v)/_*e.width/i),y:Math.round((f-w)/T*e.height/i)}}function nL(n,t,e){let i,r;if(t===void 0||e===void 0){const a=n&&o5(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=_m(a),h=Mc(u,"border","width"),f=Mc(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,i=Gg(u.maxWidth,a,"clientWidth"),r=Gg(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||zg,maxHeight:r||zg}}const Qp=n=>Math.round(n*10)/10;function iL(n,t,e,i){const r=_m(n),a=Mc(r,"margin"),l=Gg(r.maxWidth,n,"clientWidth")||zg,u=Gg(r.maxHeight,n,"clientHeight")||zg,h=nL(n,t,e);let{width:f,height:g}=h;if(r.boxSizing==="content-box"){const w=Mc(r,"border","width"),_=Mc(r,"padding");f-=_.width+w.width,g-=_.height+w.height}return f=Math.max(0,f-a.width),g=Math.max(0,i?f/i:g-a.height),f=Qp(Math.min(f,l,h.maxWidth)),g=Qp(Math.min(g,u,h.maxHeight)),f&&!g&&(g=Qp(f/2)),(t!==void 0||e!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,f=Qp(Math.floor(g*i))),{width:f,height:g}}function x_(n,t,e){const i=t||1,r=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==a?(n.currentDevicePixelRatio=i,l.height=r,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const rL=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};a5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function S_(n,t){const e=ZC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const sL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},aL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function qh(n,t,e){return n?sL(t,e):aL()}function i6(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function r6(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function $p(n,t,e){return n.options.clip?n[e]:t[e]}function oL(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:$p(e,t,"left"),right:$p(e,t,"right"),top:$p(i,t,"top"),bottom:$p(i,t,"bottom")}:t}function lL(n,t){const e=t._clip;if(e.disabled)return!1;const i=oL(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.listeners[r],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=W3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),a.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vl=new uL;const A_="transparent",cL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=g_(n||A_),r=i.valid&&g_(t||A_);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class hL{constructor(t,e,i,r){const a=e[i];r=Kp([t.to,r,a,t.from]);const l=Kp([t.from,a,r]);this._active=!0,this._fn=t.fn||cL[t.type||typeof l],this._easing=hd[t.easing]||hd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Kp([t.to,e,r,t.from]),this._from=Kp([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class s6{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!bn(t))return;const e=Object.keys(qi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!bn(a))return;const l={};for(const u of e)l[u]=a[u];(lr(a.properties)&&a.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=dL(t,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&fL(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,r=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const g=e[f];let v=a[f];const w=i.get(f);if(v)if(w&&v.active()){v.update(w,g,u);continue}else v.cancel();if(!w||!w.duration){t[f]=g;continue}a[f]=v=new hL(w,t,f,g),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Vl.add(this._chart,i),!0}}function fL(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const a=n[i[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function dL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function E_(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:r,end:i?r:a}}function pL(n,t,e){if(e===!1)return!1;const i=E_(n,e),r=E_(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function gL(n){let t,e,i,r;return bn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function a6(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)e.push(i[r].index);return e}function T_(n,t,e,i={}){const r=n.keys,a=i.mode==="single";let l,u,h,f;if(t===null)return;let g=!1;for(l=0,u=r.length;l<u;++l){if(h=+r[l],h===e){if(g=!0,i.all)continue;break}f=n.values[h],Ra(f)&&(a||t===0||Uu(t)===Uu(f))&&(t+=f)}return!g&&!i.all?0:t}function mL(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[r]:g,[a]:n[g]};return u}function a0(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function yL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function vL(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function bL(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function N_(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const a=n[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function C_(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,g=yL(a,l,i),v=t.length;let w;for(let _=0;_<v;++_){const T=t[_],{[h]:N,[f]:I}=T,O=T._stacks||(T._stacks={});w=O[f]=bL(r,g,N),w[u]=I,w._top=N_(w,l,!0,i.type),w._bottom=N_(w,l,!1,i.type);const q=w._visualValues||(w._visualValues={});q[u]=I}}function o0(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function _L(n,t){return nf(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function wL(n,t,e){return nf(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Yf(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const a=r._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const l0=n=>n==="reset"||n==="none",L_=(n,t)=>t?n:Object.assign({},n),xL=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:a6(e,!0),values:null};class l5{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=a0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,w,_,T)=>v==="x"?w:v==="r"?T:_,a=e.xAxisID=vn(i.xAxisID,o0(t,"x")),l=e.yAxisID=vn(i.yAxisID,o0(t,"y")),u=e.rAxisID=vn(i.rAxisID,o0(t,"r")),h=e.indexAxis,f=e.iAxisID=r(h,a,l,u),g=e.vAxisID=r(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&f_(this._data,this),t._stacked&&Yf(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(bn(e)){const r=this._cachedMeta;this._data=mL(e,r)}else if(i!==e){if(i){f_(i,this);const r=this._cachedMeta;Yf(r),r._parsed=[]}e&&Object.isExtensible(e)&&xC(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=e._stacked;e._stacked=a0(e.vScale,e),e.stack!==i.stack&&(r=!0,Yf(e),e.stack=i.stack),this._resyncElements(t),(r||a!==e._stacked)&&(C_(this,e._parsed),e._stacked=a0(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],g,v,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{lr(r[t])?w=this.parseArrayData(i,r,t,e):bn(r[t])?w=this.parseObjectData(i,r,t,e):w=this.parsePrimitiveData(i,r,t,e);const _=()=>v[u]===null||f&&v[u]<f[u];for(g=0;g<e;++g)i._parsed[g+t]=v=w[g],h&&(_()&&(h=!1),f=v);i._sorted=h}l&&C_(this,w)}parsePrimitiveData(t,e,i,r){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,f=a.getLabels(),g=a===l,v=new Array(r);let w,_,T;for(w=0,_=r;w<_;++w)T=w+i,v[w]={[u]:g||a.parse(f[T],T),[h]:l.parse(e[T],T)};return v}parseArrayData(t,e,i,r){const{xScale:a,yScale:l}=t,u=new Array(r);let h,f,g,v;for(h=0,f=r;h<f;++h)g=h+i,v=e[g],u[h]={x:a.parse(v[0],g),y:l.parse(v[1],g)};return u}parseObjectData(t,e,i,r){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let g,v,w,_;for(g=0,v=r;g<v;++g)w=g+i,_=e[w],f[g]={x:a.parse(Vc(_,u),w),y:l.parse(Vc(_,h),w)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:a6(r,!0),values:e._stacks[t.axis]._visualValues};return T_(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const a=i[e.axis];let l=a===null?NaN:a;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=T_(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),h=xL(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=vL(u);let w,_;function T(){_=r[w];const N=_[u.axis];return!Ra(_[t.axis])||g>N||v<N}for(w=0;w<l&&!(!T()&&(this.updateRangeFromParsed(f,t,_,h),a));++w);if(a){for(w=l-1;w>=0;--w)if(!T()){this.updateRangeFromParsed(f,t,_,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,a,l;for(r=0,a=e.length;r<a;++r)l=e[r][t.axis],Ra(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=gL(vn(this.options.clip,pL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,h),g=u;g<u+h;++g){const v=r[g];v.hidden||(v.active&&f?l.push(v):v.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=wL(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=_L(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&Ed(i);if(u)return L_(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],w=f.getOptionScopes(this.getDataset(),g),_=Object.keys(qi.elements[t]),T=()=>this.getContext(i,r,e),N=f.resolveNamedOptions(w,_,T,v);return N.$shared&&(N.$shared=h,a[l]=Object.freeze(L_(N,h))),N}_resolveAnimations(t,e,i){const r=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(r.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,e),w=g.getOptionScopes(this.getDataset(),v);h=g.createResolver(w,this.getContext(t,i,e))}const f=new s6(r,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||l0(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,r){l0(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!l0(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const a=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const r=i.length,a=e.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,i=!0){const r=this._cachedMeta,a=r.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Yf(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function SL(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,a=e.length;r<a;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=G3(i.sort((r,a)=>r-a))}return n._cache.$bar}function AL(n){const t=n.iScale,e=SL(t,n.type);let i=t._length,r,a,l,u;const h=()=>{l===32767||l===-32768||(Ed(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,a=e.length;r<a;++r)l=t.getPixelForValue(e[r]),h();for(u=void 0,r=0,a=t.ticks.length;r<a;++r)l=t.getPixelForTick(r),h();return i}function EL(n,t,e,i){const r=e.barThickness;let a,l;return Jn(r)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=r*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function TL(n,t,e,i){const r=t.pixels,a=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:e.barPercentage,start:f}}function NL(n,t,e,i){const r=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(r,a),u=Math.max(r,a);let h=l,f=u;Math.abs(l)>Math.abs(u)&&(h=u,f=l),t[e.axis]=f,t._custom={barStart:h,barEnd:f,start:r,end:a,min:l,max:u}}function o6(n,t,e,i){return lr(n)?NL(n,t,e,i):t[e.axis]=e.parse(n,i),t}function R_(n,t,e,i){const r=n.iScale,a=n.vScale,l=r.getLabels(),u=r===a,h=[];let f,g,v,w;for(f=e,g=e+i;f<g;++f)w=t[f],v={},v[r.axis]=u||r.parse(l[f],f),h.push(o6(w,v,a,f));return h}function u0(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function CL(n,t,e){return n!==0?Uu(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function LL(n){let t,e,i,r,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:i,reverse:t,top:r,bottom:a}}function RL(n,t,e,i){let r=t.borderSkipped;const a={};if(!r){n.borderSkipped=a;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:f,bottom:g}=LL(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=g:(a[D_(g,l,u,h)]=!0,r=f)),a[D_(r,l,u,h)]=!0,n.borderSkipped=a}function D_(n,t,e,i){return i?(n=DL(n,t,e),n=I_(n,e,t)):n=I_(n,t,e),n}function DL(n,t,e){return n===t?e:n===e?t:n}function I_(n,t,e){return n==="start"?t:n==="end"?e:n}function IL(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class ML extends l5{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return R_(t,e,i,r)}parseArrayData(t,e,i,r){return R_(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:a,vScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?u:h,g=l.axis==="x"?u:h,v=[];let w,_,T,N;for(w=i,_=i+r;w<_;++w)N=e[w],T={},T[a.axis]=a.parse(Vc(N,f),w),v.push(o6(Vc(N,g),T,l,w));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,a=this.getParsed(t),l=a._custom,u=u0(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const a=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),f=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:w}=this._getSharedOptions(e,r);for(let _=e;_<e+i;_++){const T=this.getParsed(_),N=a||Jn(T[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),I=this._calculateBarIndexPixels(_,g),O=(T._stacks||{})[u.axis],q={horizontal:f,base:N.base,enableBorderRadius:!O||u0(T._custom)||l===O._top||l===O._bottom,x:f?N.head:I.center,y:f?I.center:N.head,height:f?I.size:Math.abs(N.size),width:f?Math.abs(N.size):I.size};w&&(q.options=v||this.resolveDataElementOptions(_,t[_].active?"active":r));const J=q.options||t[_].options;RL(q,J,O,l),IL(q,J,g.ratio),this.updateElement(t[_],_,q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),h=u&&u[i.axis],f=g=>{const v=g._parsed.find(_=>_[i.axis]===h),w=v&&v[g.vScale.axis];if(Jn(w)||isNaN(w))return!0};for(const g of r)if(!(e!==void 0&&f(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[vn(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),a=e!==void 0?r.indexOf(e):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let a,l;for(a=0,l=e.data.length;a<l;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=t.barThickness;return{min:u||AL(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(t),f=h._custom,g=u0(f);let v=h[e.axis],w=0,_=i?this.applyStack(e,h,i):v,T,N;_!==v&&(w=_-v,_=v),g&&(v=f.barStart,_=f.barEnd-f.barStart,v!==0&&Uu(v)!==Uu(f.barEnd)&&(w=0),w+=v);const I=!Jn(a)&&!g?a:w;let O=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?T=e.getPixelForValue(w+_):T=O,N=T-O,Math.abs(N)<l){N=CL(N,e,u)*l,v===u&&(O-=N/2);const q=e.getPixelForDecimal(0),J=e.getPixelForDecimal(1),ot=Math.min(q,J),$=Math.max(q,J);O=Math.max(Math.min(O,$),ot),T=O+N,i&&!g&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(T)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const q=Uu(N)*e.getLineWidthForValue(u)/2;O+=q,N-=q}return{size:N,base:O,head:T,center:T+N/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,a=r.skipNull,l=vn(r.maxBarThickness,1/0);let u,h;const f=this._getAxisCount();if(e.grouped){const g=a?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?TL(t,e,r,g*f):EL(t,e,r,g*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(vn(w,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+_;u=v.start+v.chunk*T+v.chunk/2,h=Math.min(l,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let a=0;for(;a<r;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}function PL(n,t,e){let i=1,r=1,a=0,l=0;if(t<Zi){const u=n,h=u+t,f=Math.cos(u),g=Math.sin(u),v=Math.cos(h),w=Math.sin(h),_=(J,ot,$)=>Ug(J,u,h,!0)?1:Math.max(ot,ot*e,$,$*e),T=(J,ot,$)=>Ug(J,u,h,!0)?-1:Math.min(ot,ot*e,$,$*e),N=_(0,f,v),I=_(cr,g,w),O=T(Zn,f,v),q=T(Zn+cr,g,w);i=(N-O)/2,r=(I-q)/2,a=-(N+O)/2,l=-(I+q)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:l}}class OL extends l5{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=h=>+i[h];if(bn(i[t])){const{key:h="value"}=this._parsing;a=f=>+Vc(i[f],h)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=a(l)}}_getRotation(){return ql(this.options.rotation-90)}_getCircumference(){return ql(this.options.circumference)}_getRotationExtents(){let t=Zi,e=-Zi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),l=r._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(aC(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:w,ratioY:_,offsetX:T,offsetY:N}=PL(v,g,h),I=(i.width-l)/w,O=(i.height-l)/_,q=Math.max(Math.min(I,O)/2,0),J=B3(this.options.radius,q),ot=Math.max(J*h,0),$=(J-ot)/this._getVisibleDatasetWeightTotal();this.offsetX=T*J,this.offsetY=N*J,r.total=this.calculateTotal(),this.outerRadius=J-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/Zi)}updateElements(t,e,i,r){const a=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,g=(u.left+u.right)/2,v=(u.top+u.bottom)/2,w=a&&f.animateScale,_=w?0:this.innerRadius,T=w?0:this.outerRadius,{sharedOptions:N,includeOptions:I}=this._getSharedOptions(e,r);let O=this._getRotation(),q;for(q=0;q<e;++q)O+=this._circumference(q,a);for(q=e;q<e+i;++q){const J=this._circumference(q,a),ot=t[q],$={x:g+this.offsetX,y:v+this.offsetY,startAngle:O,endAngle:O+J,circumference:J,outerRadius:T,innerRadius:_};I&&($.options=N||this.resolveDataElementOptions(q,ot.active?"active":r)),O+=J,this.updateElement(ot,q,$,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Zi*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=J2(e._parsed[t],i.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,a,l,u,h;if(!t){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)h=u.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(vn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class kL extends OL{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Ec(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class u5{static override(t){Object.assign(u5.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ec()}parse(){return Ec()}format(){return Ec()}add(){return Ec()}diff(){return Ec()}startOf(){return Ec()}endOf(){return Ec()}}var jL={_date:u5};function VL(n,t,e,i){const{controller:r,data:a,_sorted:l}=n,u=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const f=u._reversePixels?_C:t2;if(i){if(r._sharedOptions){const g=a[0],v=typeof g.getRange=="function"&&g.getRange(t);if(v){const w=f(a,t,e-v),_=f(a,t,e+v);return{lo:w.lo,hi:_.hi}}}}else{const g=f(a,t,e);if(h){const{vScale:v}=r._cachedMeta,{_parsed:w}=n,_=w.slice(0,g.lo+1).reverse().findIndex(N=>!Jn(N[v.axis]));g.lo-=Math.max(0,_);const T=w.slice(g.hi).findIndex(N=>!Jn(N[v.axis]));g.hi+=Math.max(0,T)}return g}}return{lo:0,hi:a.length-1}}function wm(n,t,e,i,r){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:f,data:g}=a[u],{lo:v,hi:w}=VL(a[u],t,l,r);for(let _=v;_<=w;++_){const T=g[_];T.skip||i(T,f,_)}}}function FL(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const a=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function c0(n,t,e,i,r){const a=[];return!r&&!n.isPointInArea(t)||wm(n,e,t,function(u,h,f){!r&&!$3(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function BL(n,t,e,i){let r=[];function a(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:v}=U3(l,{x:t.x,y:t.y});Ug(v,f,g)&&r.push({element:l,datasetIndex:u,index:h})}return wm(n,e,t,a),r}function zL(n,t,e,i,r,a){let l=[];const u=FL(e);let h=Number.POSITIVE_INFINITY;function f(g,v,w){const _=g.inRange(t.x,t.y,r);if(i&&!_)return;const T=g.getCenterPoint(r);if(!(!!a||n.isPointInArea(T))&&!_)return;const I=u(t,T);I<h?(l=[{element:g,datasetIndex:v,index:w}],h=I):I===h&&l.push({element:g,datasetIndex:v,index:w})}return wm(n,e,t,f),l}function h0(n,t,e,i,r,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?BL(n,t,e,r):zL(n,t,e,i,r,a)}function M_(n,t,e,i,r){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return wm(n,e,t,(h,f,g)=>{h[l]&&h[l](t[e],r)&&(a.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(t.x,t.y,r))}),i&&!u?[]:a}var qL={modes:{index(n,t,e,i){const r=Cc(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?c0(n,r,a,i,l):h0(n,r,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,v=f.data[g];v&&!v.skip&&h.push({element:v,datasetIndex:f.index,index:g})}),h):[]},dataset(n,t,e,i){const r=Cc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?c0(n,r,a,i,l):h0(n,r,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,t,e,i){const r=Cc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return c0(n,r,a,i,l)},nearest(n,t,e,i){const r=Cc(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return h0(n,r,a,e.intersect,i,l)},x(n,t,e,i){const r=Cc(t,n);return M_(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Cc(t,n);return M_(n,r,"y",e.intersect,i)}}};const l6=["left","top","right","bottom"];function Xf(n,t){return n.filter(e=>e.pos===t)}function P_(n,t){return n.filter(e=>l6.indexOf(e.pos)===-1&&e.box.axis===t)}function Kf(n,t){return n.sort((e,i)=>{const r=t?i:e,a=t?e:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function UL(n){const t=[];let e,i,r,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:u});return t}function HL(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:a}=e;if(!i||!l6.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function GL(n,t){const e=HL(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=e[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*i:h&&t.availableWidth,u.height=r):(u.width=i,u.height=g?g*r:h&&t.availableHeight)}return e}function WL(n){const t=UL(n),e=Kf(t.filter(f=>f.box.fullSize),!0),i=Kf(Xf(t,"left"),!0),r=Kf(Xf(t,"right")),a=Kf(Xf(t,"top"),!0),l=Kf(Xf(t,"bottom")),u=P_(t,"x"),h=P_(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:r.concat(h).concat(l).concat(u),chartArea:Xf(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:a.concat(l).concat(u)}}function O_(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function u6(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function YL(n,t,e,i){const{pos:r,box:a}=e,l=n.maxPadding;if(!bn(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?a.height:a.width),e.size=v.size/v.count,n[r]+=e.size}a.getPadding&&u6(l,a.getPadding());const u=Math.max(0,t.outerWidth-O_(l,n,"left","right")),h=Math.max(0,t.outerHeight-O_(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:g}:{same:g,other:f}}function XL(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function KL(n,t){const e=t.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function nd(n,t,e,i){const r=[];let a,l,u,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,KL(u.horizontal,t));const{same:v,other:w}=YL(t,e,u,i);f|=v&&r.length,g=g||w,h.fullSize||r.push(u)}return f&&nd(r,t,e,i)||g}function Zp(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function k_(n,t,e,i){const r=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const v=t.w*g,w=f.size||h.height;Ed(f.start)&&(l=f.start),h.fullSize?Zp(h,r.left,l,e.outerWidth-r.right-r.left,w):Zp(h,t.left+f.placed,l,v,w),f.start=l,f.placed+=v,l=h.bottom}else{const v=t.h*g,w=f.size||h.width;Ed(f.start)&&(a=f.start),h.fullSize?Zp(h,a,r.top,w,e.outerHeight-r.bottom-r.top):Zp(h,a,t.top+f.placed,w,v),f.start=a,f.placed+=v,a=h.right}}t.x=a,t.y=l}var La={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Da(n.options.layout.padding),a=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=WL(n.boxes),h=u.vertical,f=u.horizontal;Vn(n.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const g=h.reduce((N,I)=>I.box.options&&I.box.options.display===!1?N:N+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),w=Object.assign({},r);u6(w,Da(i));const _=Object.assign({maxPadding:w,w:a,h:l,x:r.left,y:r.top},r),T=GL(h.concat(f),v);nd(u.fullSize,_,v,T),nd(h,_,v,T),nd(f,_,v,T)&&nd(h,_,v,T),XL(_),k_(u.leftAndTop,_,v,T),_.x+=_.w,_.y+=_.h,k_(u.rightAndBottom,_,v,T),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Vn(u.chartArea,N=>{const I=N.box;Object.assign(I,n.chartArea),I.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class c6{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class QL extends c6{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const mg="$chartjs",$L={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},j_=n=>n===null||n==="";function ZL(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[mg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",j_(r)){const a=S_(n,"width");a!==void 0&&(n.width=a)}if(j_(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=S_(n,"height");a!==void 0&&(n.height=a)}return n}const h6=rL?{passive:!0}:!1;function JL(n,t,e){n&&n.addEventListener(t,e,h6)}function tR(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,h6)}function eR(n,t){const e=$L[n.type]||n.type,{x:i,y:r}=Cc(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Wg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nR(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Wg(u.addedNodes,i),l=l&&!Wg(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function iR(n,t,e){const i=n.canvas,r=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Wg(u.removedNodes,i),l=l&&!Wg(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Nd=new Map;let V_=0;function f6(){const n=window.devicePixelRatio;n!==V_&&(V_=n,Nd.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function rR(n,t){Nd.size||window.addEventListener("resize",f6),Nd.set(n,t)}function sR(n){Nd.delete(n),Nd.size||window.removeEventListener("resize",f6)}function aR(n,t,e){const i=n.canvas,r=i&&o5(i);if(!r)return;const a=Y3((u,h)=>{const f=r.clientWidth;e(u,h),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(r),rR(n,a),l}function f0(n,t,e){e&&e.disconnect(),t==="resize"&&sR(n)}function oR(n,t,e){const i=n.canvas,r=Y3(a=>{n.ctx!==null&&e(eR(a,n))},n);return JL(i,t,r),r}class lR extends c6{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(ZL(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[mg])return!1;const i=e[mg].initial;["height","width"].forEach(a=>{const l=i[a];Jn(l)?e.removeAttribute(a):e.setAttribute(a,l)});const r=i.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[mg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:nR,detach:iR,resize:aR}[e]||oR;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:f0,detach:f0,resize:f0}[e]||tR)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return iL(t,e,i,r)}isAttached(t){const e=t&&o5(t);return!!(e&&e.isConnected)}}function uR(n){return!a5()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?QL:lR}class Hc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return qg(this.x)&&qg(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}function cR(n,t){const e=n.options.ticks,i=hR(n),r=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?dR(t):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>r)return pR(t,f,a,l/r),f;const g=fR(a,t,r);if(l>0){let v,w;const _=l>1?Math.round((h-u)/(l-1)):null;for(Jp(t,f,g,Jn(_)?0:u-_,u),v=0,w=l-1;v<w;v++)Jp(t,f,g,a[v],a[v+1]);return Jp(t,f,g,h,Jn(_)?t.length:h+_),f}return Jp(t,f,g),f}function hR(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function fR(n,t,e){const i=gR(n),r=t.length/e;if(!i)return Math.max(r,1);const a=dC(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>r)return h}return Math.max(r,1)}function dR(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function pR(n,t,e,i){let r=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),r++,a=e[r*i])}function Jp(n,t,e,i,r){const a=vn(i,0),l=Math.min(vn(r,n.length),n.length);let u=0,h,f,g;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(f=Math.max(a,0);f<l;f++)f===g&&(t.push(n[f]),u++,g=Math.round(a+u*e))}function gR(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const mR=n=>n==="left"?"right":n==="right"?"left":n,F_=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,B_=(n,t)=>Math.min(t||n,n);function z_(n,t){const e=[],i=n.length/t,r=n.length;let a=0;for(;a<r;a+=i)e.push(n[Math.floor(a)]);return e}function yR(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(h-a,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<t?f:-f,h<a-u||h>l+u)))return h}function vR(n,t){Vn(n,e=>{const i=e.gc,r=i.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[i[a]];i.splice(0,r)}})}function Qf(n){return n.drawTicks?n.tickLength:0}function q_(n,t){if(!n.display)return 0;const e=is(n.font,t),i=Da(n.padding);return(lr(n.text)?n.text.length:1)*e.lineHeight+i.height}function bR(n,t){return nf(n,{scale:t,type:"scale"})}function _R(n,t,e){return nf(n,{tick:e,index:t,type:"tick"})}function wR(n,t,e){let i=Z2(n);return(e&&t!=="right"||!e&&t==="right")&&(i=mR(i)),i}function xR(n,t,e,i){const{top:r,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let v=0,w,_,T;const N=l-r,I=u-a;if(n.isHorizontal()){if(_=Jr(i,a,u),bn(e)){const O=Object.keys(e)[0],q=e[O];T=g[O].getPixelForValue(q)+N-t}else e==="center"?T=(f.bottom+f.top)/2+N-t:T=F_(n,e,t);w=u-a}else{if(bn(e)){const O=Object.keys(e)[0],q=e[O];_=g[O].getPixelForValue(q)-I+t}else e==="center"?_=(f.left+f.right)/2-I+t:_=F_(n,e,t);T=Jr(i,l,r),v=e==="left"?-cr:cr}return{titleX:_,titleY:T,maxWidth:w,rotation:v}}class rf extends Hc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Uo(t,Number.POSITIVE_INFINITY),e=Uo(e,Number.NEGATIVE_INFINITY),i=Uo(i,Number.POSITIVE_INFINITY),r=Uo(r,Number.NEGATIVE_INFINITY),{min:Uo(t,i),max:Uo(e,r),minDefined:Ra(t),maxDefined:Ra(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=r&&e>i?e:i,{min:Uo(e,Uo(i,e)),max:Uo(i,Uo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ri(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qC(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?z_(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=cR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ri(this.options.afterUpdate,[this])}beforeSetDimensions(){ri(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ri(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ri(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ri(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i],a.label=ri(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){ri(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ri(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=B_(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,a=e.maxRotation;let l=r,u,h,f;if(!this._isVisible()||!e.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),v=g.widest.width,w=g.highest.height,_=Ds(this.chart.width-v,0,this.maxWidth);u=t.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(t.offset?.5:1)),h=this.maxHeight-Qf(t.grid)-e.padding-q_(t.title,this.chart.options.font),f=Math.sqrt(v*v+w*w),l=yC(Math.min(Math.asin(Ds((g.highest.height+6)/u,-1,1)),Math.asin(Ds(h/f,-1,1))-Math.asin(Ds(w/f,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ri(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ri(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=q_(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Qf(a)+h):(t.height=this.maxHeight,t.width=Qf(a)+h),i.display&&this.ticks.length){const{first:f,last:g,widest:v,highest:w}=this._getLabelSizes(),_=i.padding*2,T=ql(this.labelRotation),N=Math.cos(T),I=Math.sin(T);if(u){const O=i.mirror?0:I*v.width+N*w.height;t.height=Math.min(this.maxHeight,t.height+O+_)}else{const O=i.mirror?0:N*v.width+I*w.height;t.width=Math.min(this.maxWidth,t.width+O+_)}this._calculatePadding(f,g,I,N)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,_=0;h?f?(w=r*t.width,_=i*e.height):(w=i*t.height,_=r*e.width):a==="start"?_=e.width:a==="end"?w=t.width:a!=="inner"&&(w=t.width/2,_=e.width/2),this.paddingLeft=Math.max((w-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-v+l)*this.width/(this.width-v),0)}else{let g=e.height/2,v=t.height/2;a==="start"?(g=0,v=t.height):a==="end"&&(g=e.height,v=0),this.paddingTop=g+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ri(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Jn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=z_(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/B_(e,i));let f=0,g=0,v,w,_,T,N,I,O,q,J,ot,$;for(v=0;v<e;v+=h){if(T=t[v].label,N=this._resolveTickFontOptions(v),r.font=I=N.string,O=a[I]=a[I]||{data:{},gc:[]},q=N.lineHeight,J=ot=0,!Jn(T)&&!lr(T))J=y_(r,O.data,O.gc,J,T),ot=q;else if(lr(T))for(w=0,_=T.length;w<_;++w)$=T[w],!Jn($)&&!lr($)&&(J=y_(r,O.data,O.gc,J,$),ot+=q);l.push(J),u.push(ot),f=Math.max(J,f),g=Math.max(ot,g)}vR(a,e);const ut=l.indexOf(f),F=u.indexOf(g),C=k=>({width:l[k]||0,height:u[k]||0});return{first:C(0),last:C(e-1),widest:C(ut),highest:C(F),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return bC(this._alignToPixels?Ac(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=_R(this.getContext(),t,i))}return this.$context||(this.$context=bR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ql(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:a,position:l,border:u}=r,h=a.offset,f=this.isHorizontal(),v=this.ticks.length+(h?1:0),w=Qf(a),_=[],T=u.setContext(this.getContext()),N=T.display?T.width:0,I=N/2,O=function(et){return Ac(i,et,N)};let q,J,ot,$,ut,F,C,k,U,R,L,M;if(l==="top")q=O(this.bottom),F=this.bottom-w,k=q-I,R=O(t.top)+I,M=t.bottom;else if(l==="bottom")q=O(this.top),R=t.top,M=O(t.bottom)-I,F=q+I,k=this.top+w;else if(l==="left")q=O(this.right),ut=this.right-w,C=q-I,U=O(t.left)+I,L=t.right;else if(l==="right")q=O(this.left),U=t.left,L=O(t.right)-I,ut=q+I,C=this.left+w;else if(e==="x"){if(l==="center")q=O((t.top+t.bottom)/2+.5);else if(bn(l)){const et=Object.keys(l)[0],ht=l[et];q=O(this.chart.scales[et].getPixelForValue(ht))}R=t.top,M=t.bottom,F=q+I,k=F+w}else if(e==="y"){if(l==="center")q=O((t.left+t.right)/2);else if(bn(l)){const et=Object.keys(l)[0],ht=l[et];q=O(this.chart.scales[et].getPixelForValue(ht))}ut=q-I,C=ut-w,U=t.left,L=t.right}const nt=vn(r.ticks.maxTicksLimit,v),pt=Math.max(1,Math.ceil(v/nt));for(J=0;J<v;J+=pt){const et=this.getContext(J),ht=a.setContext(et),lt=u.setContext(et),_t=ht.lineWidth,Q=ht.color,vt=lt.dash||[],j=lt.dashOffset,W=ht.tickWidth,tt=ht.tickColor,at=ht.tickBorderDash||[],ft=ht.tickBorderDashOffset;ot=yR(this,J,h),ot!==void 0&&($=Ac(i,ot,_t),f?ut=C=U=L=$:F=k=R=M=$,_.push({tx1:ut,ty1:F,tx2:C,ty2:k,x1:U,y1:R,x2:L,y2:M,width:_t,color:Q,borderDash:vt,borderDashOffset:j,tickWidth:W,tickColor:tt,tickBorderDash:at,tickBorderDashOffset:ft}))}return this._ticksLength=v,this._borderValue=q,_}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:v}=a,w=Qf(i.grid),_=w+g,T=v?-g:_,N=-ql(this.labelRotation),I=[];let O,q,J,ot,$,ut,F,C,k,U,R,L,M="middle";if(r==="top")ut=this.bottom-T,F=this._getXAxisLabelAlignment();else if(r==="bottom")ut=this.top+T,F=this._getXAxisLabelAlignment();else if(r==="left"){const pt=this._getYAxisLabelAlignment(w);F=pt.textAlign,$=pt.x}else if(r==="right"){const pt=this._getYAxisLabelAlignment(w);F=pt.textAlign,$=pt.x}else if(e==="x"){if(r==="center")ut=(t.top+t.bottom)/2+_;else if(bn(r)){const pt=Object.keys(r)[0],et=r[pt];ut=this.chart.scales[pt].getPixelForValue(et)+_}F=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-_;else if(bn(r)){const pt=Object.keys(r)[0],et=r[pt];$=this.chart.scales[pt].getPixelForValue(et)}F=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(h==="start"?M="top":h==="end"&&(M="bottom"));const nt=this._getLabelSizes();for(O=0,q=u.length;O<q;++O){J=u[O],ot=J.label;const pt=a.setContext(this.getContext(O));C=this.getPixelForTick(O)+a.labelOffset,k=this._resolveTickFontOptions(O),U=k.lineHeight,R=lr(ot)?ot.length:1;const et=R/2,ht=pt.color,lt=pt.textStrokeColor,_t=pt.textStrokeWidth;let Q=F;l?($=C,F==="inner"&&(O===q-1?Q=this.options.reverse?"left":"right":O===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?f==="near"||N!==0?L=-R*U+U/2:f==="center"?L=-nt.highest.height/2-et*U+U:L=-nt.highest.height+U/2:f==="near"||N!==0?L=U/2:f==="center"?L=nt.highest.height/2-et*U:L=nt.highest.height-R*U,v&&(L*=-1),N!==0&&!pt.showLabelBackdrop&&($+=U/2*Math.sin(N))):(ut=C,L=(1-R)*U/2);let vt;if(pt.showLabelBackdrop){const j=Da(pt.backdropPadding),W=nt.heights[O],tt=nt.widths[O];let at=L-j.top,ft=0-j.left;switch(M){case"middle":at-=W/2;break;case"bottom":at-=W;break}switch(F){case"center":ft-=tt/2;break;case"right":ft-=tt;break;case"inner":O===q-1?ft-=tt:O>0&&(ft-=tt/2);break}vt={left:ft,top:at,width:tt+j.width,height:W+j.height,color:pt.backdropColor}}I.push({label:ot,font:k,textOffset:L,options:{rotation:N,color:ht,strokeColor:lt,strokeWidth:_t,textAlign:Q,textBaseline:M,translation:[$,ut],backdrop:vt}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ql(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let f,g;return e==="left"?r?(g=this.right+a,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g=this.left)):e==="right"?r?(g=this.left+a,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=r.length;a<l;++a){const h=r[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,v,w;this.isHorizontal()?(f=Ac(t,this.left,l)-l/2,g=Ac(t,this.right,u)+u/2,v=w=h):(v=Ac(t,this.top,l)-l/2,w=Ac(t,this.bottom,u)+u/2,f=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,v),e.lineTo(g,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&t5(i,r);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,f=l.label,g=l.textOffset;Td(i,f,0,g,h,u)}r&&e5(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const a=is(i.font),l=Da(i.padding),u=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||bn(e)?(h+=l.bottom,lr(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:v,rotation:w}=xR(this,h,e,u);Td(t,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:w,textAlign:wR(u,e,r),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=vn(t.grid&&t.grid.z,-1),r=vn(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rf.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return is(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class tg{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;ER(e)&&(i=this.register(e));const r=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,SR(t,l,i),this.override&&qi.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in qi[r]&&(delete qi[r][i],this.override&&delete Fc[i])}}function SR(n,t,e){const i=Ad(Object.create(null),[e?qi.get(e):{},qi.get(t),n.defaults]);qi.set(t,i),n.defaultRoutes&&AR(t,n.defaultRoutes),n.descriptors&&qi.describe(t,n.descriptors)}function AR(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");qi.route(a,r,h,u)})}function ER(n){return"id"in n&&"defaults"in n}class TR{constructor(){this.controllers=new tg(l5,"datasets",!0),this.elements=new tg(Hc,"elements"),this.plugins=new tg(Object,"plugins"),this.scales=new tg(rf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):Vn(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=Q2(t);ri(i["before"+r],[],i),e[t](i),ri(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Wo=new TR;class NR{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,r){r=r||{};for(const a of t){const l=a.plugin,u=l[i],h=[e,r,a.options];if(ri(u,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Jn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=vn(i.options&&i.options.plugins,{}),a=CR(i);return r===!1&&!e?[]:RR(t,a,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function CR(n){const t={},e=[],i=Object.keys(Wo.plugins.items);for(let a=0;a<i.length;a++)e.push(Wo.getPlugin(i[a]));const r=n.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function LR(n,t){return!t&&n===!1?null:n===!0?{}:n}function RR(n,{plugins:t,localIds:e},i,r){const a=[],l=n.getContext();for(const u of t){const h=u.id,f=LR(i[h],r);f!==null&&a.push({plugin:u,options:DR(n.config,{plugin:u,local:e[h]},f,l)})}return a}function DR(n,{plugin:t,local:e},i,r){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function n2(n,t){const e=qi.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function IR(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function MR(n,t){return n===t?"_index_":"_value_"}function U_(n){if(n==="x"||n==="y"||n==="r")return n}function PR(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function i2(n,...t){if(U_(n))return n;for(const e of t){const i=e.axis||PR(e.position)||n.length>1&&U_(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function H_(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function OR(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return H_(n,"x",e[0])||H_(n,"y",e[0])}return{}}function kR(n,t){const e=Fc[n.type]||{scales:{}},i=t.scales||{},r=n2(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!bn(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=i2(l,u,OR(l,n),qi.scales[u.type]),f=MR(h,r),g=e.scales||{};a[l]=cd(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||n2(u,t),g=(Fc[u]||{}).scales||{};Object.keys(g).forEach(v=>{const w=IR(v,h),_=l[w+"AxisID"]||w;a[_]=a[_]||Object.create(null),cd(a[_],[{axis:w},i[_],g[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];cd(u,[qi.scales[u.type],qi.scale])}),a}function d6(n){const t=n.options||(n.options={});t.plugins=vn(t.plugins,{}),t.scales=kR(n,t)}function p6(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function jR(n){return n=n||{},n.data=p6(n.data),d6(n),n}const G_=new Map,g6=new Set;function eg(n,t){let e=G_.get(n);return e||(e=t(),G_.set(n,e),g6.add(e)),e}const $f=(n,t,e)=>{const i=Vc(t,e);i!==void 0&&n.add(i)};class VR{constructor(t){this._config=jR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=p6(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),d6(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return eg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return eg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return eg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return eg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(v=>$f(h,t,v))),g.forEach(v=>$f(h,r,v)),g.forEach(v=>$f(h,Fc[a]||{},v)),g.forEach(v=>$f(h,qi,v)),g.forEach(v=>$f(h,e2,v))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),g6.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fc[e]||{},qi.datasets[e]||{},{type:e},qi,e2]}resolveNamedOptions(t,e,i,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=W_(this._resolverCache,t,r);let h=l;if(BR(l,e)){a.$shared=!1,i=Zu(i)?i():i;const f=this.createResolver(t,i,u);h=Qh(l,i,f)}for(const f of e)a[f]=h[f];return a}createResolver(t,e,i=[""],r){const{resolver:a}=W_(this._resolverCache,t,i);return bn(e)?Qh(a,e,void 0,r):a}}function W_(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let a=i.get(r);return a||(a={resolver:i5(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,a)),a}const FR=n=>bn(n)&&Object.getOwnPropertyNames(n).some(t=>Zu(n[t]));function BR(n,t){const{isScriptable:e,isIndexable:i}=J3(n);for(const r of t){const a=e(r),l=i(r),u=(l||a)&&n[r];if(a&&(Zu(u)||FR(u))||l&&lr(u))return!0}return!1}var zR="4.5.0";const qR=["top","bottom","left","right","chartArea"];function Y_(n,t){return n==="top"||n==="bottom"||qR.indexOf(n)===-1&&t==="x"}function X_(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function K_(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ri(e&&e.onComplete,[n],t)}function UR(n){const t=n.chart,e=t.options.animation;ri(e&&e.onProgress,[n],t)}function m6(n){return a5()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const yg={},Q_=n=>{const t=m6(n);return Object.values(yg).filter(e=>e.canvas===t).pop()};function HR(n,t,e){const i=Object.keys(n);for(const r of i){const a=+r;if(a>=t){const l=n[r];delete n[r],(e>0||a>t)&&(n[a+e]=l)}}}function GR(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let xm=class{static defaults=qi;static instances=yg;static overrides=Fc;static registry=Wo;static version=zR;static getChart=Q_;static register(...t){Wo.add(...t),$_()}static unregister(...t){Wo.remove(...t),$_()}constructor(t,e){const i=this.config=new VR(e),r=m6(t),a=Q_(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||uR(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=sC(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SC(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],yg[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Vl.listen(this,"complete",K_),Vl.listen(this,"progress",UR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:a}=this;return Jn(t)?e&&a?a:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Wo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():x_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return v_(this.canvas,this.ctx),this}stop(){return Vl.stop(this),this}resize(t,e){Vl.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,x_(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ri(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Vn(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=i2(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Vn(a,l=>{const u=l.options,h=u.id,f=i2(h,u),g=vn(u.type,l.dtype);(u.position===void 0||Y_(u.position,f)!==Y_(l.dposition))&&(u.position=l.dposition),r[h]=!0;let v=null;if(h in i&&i[h].type===g)v=i[h];else{const w=Wo.getScale(g);v=new w({id:h,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,t)}),Vn(r,(l,u)=>{l||delete i[u]}),Vn(i,l=>{La.configure(this,l,l.options),La.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,a)=>r.index-a.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(X_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||n2(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Wo.getController(u),{datasetElementType:f,dataElementType:g}=qi.datasets[u];Object.assign(h,{dataElementType:Wo.getElement(g),datasetElementType:f&&Wo.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Vn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:v}=this.getDatasetMeta(f),w=!r&&a.indexOf(v)===-1;v.buildOrUpdateElements(w),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Vn(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(X_("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Vn(this.scales,t=>{La.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!l_(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of e){const l=i==="_removeElements"?-a:a;HR(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let a=1;a<e;a++)if(!l_(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;La.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Vn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Zu(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vl.has(this)?this.attached&&!Vl.running(this)&&Vl.start(this):(this.draw(),K_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,a;for(r=0,a=e.length;r<a;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=lL(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&t5(e,r),t.controller.draw(),r&&e5(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return $3(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const a=qL.modes[e];return typeof a=="function"?a(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=nf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,r);Ed(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Vl.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),v_(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete yg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},r=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Vn(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},r=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Vn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Vn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Fg(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:a}=this,l=e,u=this._getActiveElements(t,r,i,l),h=hC(t),f=GR(t,this._lastEvent,i,h);i&&(this._lastEvent=null,ri(a.onHover,[t,u,this],this),h&&ri(a.onClick,[t,u,this],this));const g=!Fg(u,r);return(g||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,g}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}};function $_(){return Vn(xm.instances,n=>n._plugins.invalidate())}function WR(n,t,e){const{startAngle:i,x:r,y:a,outerRadius:l,innerRadius:u,options:h}=t,{borderWidth:f,borderJoinStyle:g}=h,v=Math.min(f/l,Xo(i-e));if(n.beginPath(),n.arc(r,a,l-f/2,i+v/2,e-v/2),u>0){const w=Math.min(f/u,Xo(i-e));n.arc(r,a,u+f/2,e-w/2,i+w/2,!0)}else{const w=Math.min(f/2,l*Xo(i-e));if(g==="round")n.arc(r,a,w,e-Zn/2,i+Zn/2,!0);else if(g==="bevel"){const _=2*w*w,T=-_*Math.cos(e+Zn/2)+r,N=-_*Math.sin(e+Zn/2)+a,I=_*Math.cos(i+Zn/2)+r,O=_*Math.sin(i+Zn/2)+a;n.lineTo(T,N),n.lineTo(I,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function YR(n,t,e){const{startAngle:i,pixelMargin:r,x:a,y:l,outerRadius:u,innerRadius:h}=t;let f=r/u;n.beginPath(),n.arc(a,l,u,i-f,e+f),h>r?(f=r/h,n.arc(a,l,h,e+f,i-f,!0)):n.arc(a,l,r,e+cr,i-cr),n.closePath(),n.clip()}function XR(n){return n5(n,["outerStart","outerEnd","innerStart","innerEnd"])}function KR(n,t,e,i){const r=XR(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,i*t/2),u=h=>{const f=(e-Math.min(a,h))*i/2;return Ds(h,0,Math.min(a,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:Ds(r.innerStart,0,l),innerEnd:Ds(r.innerEnd,0,l)}}function Sh(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Yg(n,t,e,i,r,a){const{x:l,y:u,startAngle:h,pixelMargin:f,innerRadius:g}=t,v=Math.max(t.outerRadius+i+e-f,0),w=g>0?g+i+e+f:0;let _=0;const T=r-h;if(i){const pt=g>0?g-i:0,et=v>0?v-i:0,ht=(pt+et)/2,lt=ht!==0?T*ht/(ht+i):T;_=(T-lt)/2}const N=Math.max(.001,T*v-e/Zn)/v,I=(T-N)/2,O=h+I+_,q=r-I-_,{outerStart:J,outerEnd:ot,innerStart:$,innerEnd:ut}=KR(t,w,v,q-O),F=v-J,C=v-ot,k=O+J/F,U=q-ot/C,R=w+$,L=w+ut,M=O+$/R,nt=q-ut/L;if(n.beginPath(),a){const pt=(k+U)/2;if(n.arc(l,u,v,k,pt),n.arc(l,u,v,pt,U),ot>0){const _t=Sh(C,U,l,u);n.arc(_t.x,_t.y,ot,U,q+cr)}const et=Sh(L,q,l,u);if(n.lineTo(et.x,et.y),ut>0){const _t=Sh(L,nt,l,u);n.arc(_t.x,_t.y,ut,q+cr,nt+Math.PI)}const ht=(q-ut/w+(O+$/w))/2;if(n.arc(l,u,w,q-ut/w,ht,!0),n.arc(l,u,w,ht,O+$/w,!0),$>0){const _t=Sh(R,M,l,u);n.arc(_t.x,_t.y,$,M+Math.PI,O-cr)}const lt=Sh(F,O,l,u);if(n.lineTo(lt.x,lt.y),J>0){const _t=Sh(F,k,l,u);n.arc(_t.x,_t.y,J,O-cr,k)}}else{n.moveTo(l,u);const pt=Math.cos(k)*v+l,et=Math.sin(k)*v+u;n.lineTo(pt,et);const ht=Math.cos(U)*v+l,lt=Math.sin(U)*v+u;n.lineTo(ht,lt)}n.closePath()}function QR(n,t,e,i,r){const{fullCircles:a,startAngle:l,circumference:u}=t;let h=t.endAngle;if(a){Yg(n,t,e,i,h,r);for(let f=0;f<a;++f)n.fill();isNaN(u)||(h=l+(u%Zi||Zi))}return Yg(n,t,e,i,h,r),n.fill(),h}function $R(n,t,e,i,r){const{fullCircles:a,startAngle:l,circumference:u,options:h}=t,{borderWidth:f,borderJoinStyle:g,borderDash:v,borderDashOffset:w,borderRadius:_}=h,T=h.borderAlign==="inner";if(!f)return;n.setLineDash(v||[]),n.lineDashOffset=w,T?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let N=t.endAngle;if(a){Yg(n,t,e,i,N,r);for(let I=0;I<a;++I)n.stroke();isNaN(u)||(N=l+(u%Zi||Zi))}T&&YR(n,t,N),h.selfJoin&&N-l>=Zn&&_===0&&g!=="miter"&&WR(n,t,N),a||(Yg(n,t,e,i,N,r),n.stroke())}class ZR extends Hc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:a,distance:l}=U3(r,{x:t,y:e}),{startAngle:u,endAngle:h,innerRadius:f,outerRadius:g,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=(this.options.spacing+this.options.borderWidth)/2,_=vn(v,h-u),T=Ug(a,u,h)&&u!==h,N=_>=Zi||T,I=Dc(l,f+w,g+w);return N&&I}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:f}=this.options,g=(r+a)/2,v=(l+u+f+h)/2;return{x:e+Math.cos(g)*v,y:i+Math.sin(g)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,a=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Zi?Math.floor(i/Zi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const h=1-Math.sin(Math.min(Zn,i||0)),f=r*h;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,QR(t,this,f,a,l),$R(t,this,f,a,l),t.restore()}}function y6(n,t){const{x:e,y:i,base:r,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let u,h,f,g,v;return n.horizontal?(v=l/2,u=Math.min(e,r),h=Math.max(e,r),f=i-v,g=i+v):(v=a/2,u=e-v,h=e+v,f=Math.min(i,r),g=Math.max(i,r)),{left:u,top:f,right:h,bottom:g}}function ku(n,t,e,i){return n?0:Ds(t,e,i)}function JR(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,a=Z3(i);return{t:ku(r.top,a.top,0,e),r:ku(r.right,a.right,0,t),b:ku(r.bottom,a.bottom,0,e),l:ku(r.left,a.left,0,t)}}function tD(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,a=zh(r),l=Math.min(t,e),u=n.borderSkipped,h=i||bn(r);return{topLeft:ku(!h||u.top||u.left,a.topLeft,0,l),topRight:ku(!h||u.top||u.right,a.topRight,0,l),bottomLeft:ku(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:ku(!h||u.bottom||u.right,a.bottomRight,0,l)}}function eD(n){const t=y6(n),e=t.right-t.left,i=t.bottom-t.top,r=JR(n,e/2,i/2),a=tD(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function d0(n,t,e,i){const r=t===null,a=e===null,u=n&&!(r&&a)&&y6(n,i);return u&&(r||Dc(t,u.left,u.right))&&(a||Dc(e,u.top,u.bottom))}function nD(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function iD(n,t){n.rect(t.x,t.y,t.w,t.h)}function p0(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+a,h:n.h+l,radius:n.radius}}class rD extends Hc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:l}=eD(this),u=nD(l.radius)?Hg:iD;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),u(t,p0(l,e,a)),t.clip(),u(t,p0(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,p0(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return d0(this,t,e,i)}inXRange(t,e){return d0(this,t,null,e)}inYRange(t,e){return d0(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Z_=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},sD=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class J_ extends Hc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ri(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=is(i.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Z_(i,a);let f,g;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,r,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=r+u;let v=t;a.textAlign="left",a.textBaseline="middle";let w=-1,_=-g;return this.legendItems.forEach((T,N)=>{const I=i+e/2+a.measureText(T.text).width;(N===0||f[f.length-1]+I+2*u>l)&&(v+=g,f[f.length-(N>0?0:1)]=0,_+=g,w++),h[N]={left:0,top:_,row:w,width:I,height:r},f[f.length-1]+=I+u}),v}_fitCols(t,e,i,r){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-t;let v=u,w=0,_=0,T=0,N=0;return this.legendItems.forEach((I,O)=>{const{itemWidth:q,itemHeight:J}=aD(i,e,a,I,r);O>0&&_+J+2*u>g&&(v+=w+u,f.push({width:w,height:_}),T+=w+u,N++,w=_=0),h[O]={left:T,top:_,col:N,width:q,height:J},w=Math.max(w,q),_+=J+u}),v+=w,f.push({width:w,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:a}}=this,l=qh(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Jr(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=Jr(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+r}else{let u=0,h=Jr(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=Jr(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;t5(t,this),this._draw(),e5(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:a,labels:l}=t,u=qi.color,h=qh(t.rtl,this.left,this.width),f=is(l.font),{padding:g}=l,v=f.size,w=v/2;let _;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:T,boxHeight:N,itemHeight:I}=Z_(l,v),O=function(ut,F,C){if(isNaN(T)||T<=0||isNaN(N)||N<0)return;r.save();const k=vn(C.lineWidth,1);if(r.fillStyle=vn(C.fillStyle,u),r.lineCap=vn(C.lineCap,"butt"),r.lineDashOffset=vn(C.lineDashOffset,0),r.lineJoin=vn(C.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=vn(C.strokeStyle,u),r.setLineDash(vn(C.lineDash,[])),l.usePointStyle){const U={radius:N*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:k},R=h.xPlus(ut,T/2),L=F+w;Q3(r,U,R,L,l.pointStyleWidth&&T)}else{const U=F+Math.max((v-N)/2,0),R=h.leftForLtr(ut,T),L=zh(C.borderRadius);r.beginPath(),Object.values(L).some(M=>M!==0)?Hg(r,{x:R,y:U,w:T,h:N,radius:L}):r.rect(R,U,T,N),r.fill(),k!==0&&r.stroke()}r.restore()},q=function(ut,F,C){Td(r,C.text,ut,F+I/2,f,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},J=this.isHorizontal(),ot=this._computeTitleHeight();J?_={x:Jr(a,this.left+g,this.right-i[0]),y:this.top+g+ot,line:0}:_={x:this.left+g,y:Jr(a,this.top+ot+g,this.bottom-e[0].height),line:0},i6(this.ctx,t.textDirection);const $=I+g;this.legendItems.forEach((ut,F)=>{r.strokeStyle=ut.fontColor,r.fillStyle=ut.fontColor;const C=r.measureText(ut.text).width,k=h.textAlign(ut.textAlign||(ut.textAlign=l.textAlign)),U=T+w+C;let R=_.x,L=_.y;h.setWidth(this.width),J?F>0&&R+U+g>this.right&&(L=_.y+=$,_.line++,R=_.x=Jr(a,this.left+g,this.right-i[_.line])):F>0&&L+$>this.bottom&&(R=_.x=R+e[_.line].width+g,_.line++,L=_.y=Jr(a,this.top+ot+g,this.bottom-e[_.line].height));const M=h.x(R);if(O(M,L,ut),R=AC(k,R+T+w,J?R+U:this.right,t.rtl),q(h.x(R),L,ut),J)_.x+=U+g;else if(typeof ut.text!="string"){const nt=f.lineHeight;_.y+=v6(ut,nt)+g}else _.y+=$}),r6(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=is(e.font),r=Da(e.padding);if(!e.display)return;const a=qh(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=i.size/2,f=r.top+h;let g,v=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+f,v=Jr(t.align,v,this.right-w);else{const T=this.columnSizes.reduce((N,I)=>Math.max(N,I.height),0);g=f+Jr(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const _=Jr(u,v,v+w);l.textAlign=a.textAlign(Z2(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Td(l,e.text,_,g,i)}_computeTitleHeight(){const t=this.options.title,e=is(t.font),i=Da(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,a;if(Dc(t,this.left,this.right)&&Dc(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],Dc(t,r.left,r.left+r.width)&&Dc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!uD(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=sD(r,i);r&&!a&&ri(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!a&&ri(e.onHover,[t,i,this],this)}else i&&ri(e.onClick,[t,i,this],this)}}function aD(n,t,e,i,r){const a=oD(i,n,t,e),l=lD(r,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function oD(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(r).width}function lD(n,t,e){let i=n;return typeof t.text!="string"&&(i=v6(t,e)),i}function v6(n,t){const e=n.text?n.text.length:0;return t*e}function uD(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var cD={id:"legend",_element:J_,start(n,t,e){const i=n.legend=new J_({ctx:n.ctx,options:e,chart:n});La.configure(n,i,e),La.addBox(n,i)},stop(n){La.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;La.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),g=Da(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class b6 extends Hc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=lr(i.text)?i.text.length:1;this._padding=Da(i.padding);const a=r*is(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:a,options:l}=this,u=l.align;let h=0,f,g,v;return this.isHorizontal()?(g=Jr(u,i,a),v=e+t,f=a-i):(l.position==="left"?(g=i+t,v=Jr(u,r,e),h=Zn*-.5):(g=a-t,v=Jr(u,e,r),h=Zn*.5),f=r-e),{titleX:g,titleY:v,maxWidth:f,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=is(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(a);Td(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:f,textAlign:Z2(e.align),textBaseline:"middle",translation:[l,u]})}}function hD(n,t){const e=new b6({ctx:n.ctx,options:t,chart:n});La.configure(n,e,t),La.addBox(n,e),n.titleBlock=e}var fD={id:"title",_element:b6,start(n,t,e){hD(n,e)},stop(n){const t=n.titleBlock;La.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;La.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const id={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),r+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:r/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=vC(t,f);g<r&&(r=g,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Go(n,t){return t&&(lr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Fl(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function dD(n,t){const{element:e,datasetIndex:i,index:r}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(r);return{chart:n,label:l,parsed:a.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function t4(n,t){const e=n.chart.ctx,{body:i,footer:r,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=is(t.bodyFont),f=is(t.titleFont),g=is(t.footerFont),v=a.length,w=r.length,_=i.length,T=Da(t.padding);let N=T.height,I=0,O=i.reduce((ot,$)=>ot+$.before.length+$.lines.length+$.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,v&&(N+=v*f.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),O){const ot=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;N+=_*ot+(O-_)*h.lineHeight+(O-1)*t.bodySpacing}w&&(N+=t.footerMarginTop+w*g.lineHeight+(w-1)*t.footerSpacing);let q=0;const J=function(ot){I=Math.max(I,e.measureText(ot).width+q)};return e.save(),e.font=f.string,Vn(n.title,J),e.font=h.string,Vn(n.beforeBody.concat(n.afterBody),J),q=t.displayColors?l+2+t.boxPadding:0,Vn(i,ot=>{Vn(ot.before,J),Vn(ot.lines,J),Vn(ot.after,J)}),q=0,e.font=g.string,Vn(n.footer,J),e.restore(),I+=T.width,{width:I,height:N}}function pD(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function gD(n,t,e,i){const{x:r,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+a+l>t.width||n==="right"&&r-a-l<0)return!0}function mD(n,t,e,i){const{x:r,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=r<=(u+h)/2?"left":"right":r<=a/2?f="left":r>=l-a/2&&(f="right"),gD(f,n,t,e)&&(f="center"),f}function e4(n,t,e){const i=e.yAlign||t.yAlign||pD(n,e);return{xAlign:e.xAlign||t.xAlign||mD(n,t,e,i),yAlign:i}}function yD(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function vD(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function n4(n,t,e,i){const{caretSize:r,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=r+a,{topLeft:g,topRight:v,bottomLeft:w,bottomRight:_}=zh(l);let T=yD(t,u);const N=vD(t,h,f);return h==="center"?u==="left"?T+=f:u==="right"&&(T-=f):u==="left"?T-=Math.max(g,w)+r:u==="right"&&(T+=Math.max(v,_)+r),{x:Ds(T,0,i.width-t.width),y:Ds(N,0,i.height-t.height)}}function ng(n,t,e){const i=Da(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function i4(n){return Go([],Fl(n))}function bD(n,t,e){return nf(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function r4(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const _6={beforeTitle:jl,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:jl,beforeBody:jl,beforeLabel:jl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Jn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:jl,afterBody:jl,beforeFooter:jl,footer:jl,afterFooter:jl};function Ns(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?_6[t].call(e,i):r}class s4 extends Hc{static positioners=id;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,a=new s6(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=bD(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Ns(i,"beforeTitle",this,t),a=Ns(i,"title",this,t),l=Ns(i,"afterTitle",this,t);let u=[];return u=Go(u,Fl(r)),u=Go(u,Fl(a)),u=Go(u,Fl(l)),u}getBeforeBody(t,e){return i4(Ns(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Vn(t,a=>{const l={before:[],lines:[],after:[]},u=r4(i,a);Go(l.before,Fl(Ns(u,"beforeLabel",this,a))),Go(l.lines,Ns(u,"label",this,a)),Go(l.after,Fl(Ns(u,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(t,e){return i4(Ns(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Ns(i,"beforeFooter",this,t),a=Ns(i,"footer",this,t),l=Ns(i,"afterFooter",this,t);let u=[];return u=Go(u,Fl(r)),u=Go(u,Fl(a)),u=Go(u,Fl(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],a=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(dD(this.chart,e[h]));return t.filter&&(u=u.filter((g,v,w)=>t.filter(g,v,w,i))),t.itemSort&&(u=u.sort((g,v)=>t.itemSort(g,v,i))),Vn(u,g=>{const v=r4(t.callbacks,g);r.push(Ns(v,"labelColor",this,g)),a.push(Ns(v,"labelPointStyle",this,g)),l.push(Ns(v,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const u=id[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=t4(this,i),f=Object.assign({},u,h),g=e4(this.chart,i,f),v=n4(i,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const a=this.getCaretPosition(t,i,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:v}=zh(u),{x:w,y:_}=t,{width:T,height:N}=e;let I,O,q,J,ot,$;return a==="center"?(ot=_+N/2,r==="left"?(I=w,O=I-l,J=ot+l,$=ot-l):(I=w+T,O=I+l,J=ot-l,$=ot+l),q=I):(r==="left"?O=w+Math.max(h,g)+l:r==="right"?O=w+T-Math.max(f,v)-l:O=this.caretX,a==="top"?(J=_,ot=J-l,I=O-l,q=O+l):(J=_+N,ot=J+l,I=O+l,q=O-l),$=J),{x1:I,x2:O,x3:q,y1:J,y2:ot,y3:$}}drawTitle(t,e,i){const r=this.title,a=r.length;let l,u,h;if(a){const f=qh(i.rtl,this.x,this.width);for(t.x=ng(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=is(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(r[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,g=is(a.bodyFont),v=ng(this,"left",a),w=r.x(v),_=h<g.lineHeight?(g.lineHeight-h)/2:0,T=e.y+_;if(a.usePointStyle){const N={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},I=r.leftForLtr(w,f)+f/2,O=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,b_(t,N,I,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,b_(t,N,I,O)}else{t.lineWidth=bn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const N=r.leftForLtr(w,f),I=r.leftForLtr(r.xPlus(w,1),f-2),O=zh(l.borderRadius);Object.values(O).some(q=>q!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Hg(t,{x:N,y:T,w:f,h,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Hg(t,{x:I,y:T+1,w:f-2,h:h-2,radius:O}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(N,T,f,h),t.strokeRect(N,T,f,h),t.fillStyle=l.backgroundColor,t.fillRect(I,T+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=i,v=is(i.bodyFont);let w=v.lineHeight,_=0;const T=qh(i.rtl,this.x,this.width),N=function(C){e.fillText(C,T.x(t.x+_),t.y+w/2),t.y+=w+a},I=T.textAlign(l);let O,q,J,ot,$,ut,F;for(e.textAlign=l,e.textBaseline="middle",e.font=v.string,t.x=ng(this,I,i),e.fillStyle=i.bodyColor,Vn(this.beforeBody,N),_=u&&I!=="right"?l==="center"?f/2+g:f+2+g:0,ot=0,ut=r.length;ot<ut;++ot){for(O=r[ot],q=this.labelTextColors[ot],e.fillStyle=q,Vn(O.before,N),J=O.lines,u&&J.length&&(this._drawColorBox(e,t,ot,T,i),w=Math.max(v.lineHeight,h)),$=0,F=J.length;$<F;++$)N(J[$]),w=v.lineHeight;Vn(O.after,N)}_=0,w=v.lineHeight,Vn(this.afterBody,N),t.y-=a}drawFooter(t,e,i){const r=this.footer,a=r.length;let l,u;if(a){const h=qh(i.rtl,this.x,this.width);for(t.x=ng(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=is(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(r[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:g}=i,{topLeft:v,topRight:w,bottomLeft:_,bottomRight:T}=zh(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+v,h),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-w,h),e.quadraticCurveTo(u+f,h,u+f,h+w),l==="center"&&a==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,h+g-T),e.quadraticCurveTo(u+f,h+g,u+f-T,h+g),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+_,h+g),e.quadraticCurveTo(u,h+g,u,h+g-_),l==="center"&&a==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,h+v),e.quadraticCurveTo(u,h,u+v,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const l=id[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=t4(this,t),h=Object.assign({},l,this._size),f=e4(e,t,h),g=n4(t,h,f,e);(r._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Da(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,r,e),i6(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),r6(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Fg(i,r),l=this._positionChanged(r,e);(a||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),h=e||!Fg(l,a)||u;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:a}=this,l=id[a.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var _D={id:"tooltip",_element:s4,positioners:id,afterInit(n,t,e){e&&(n.tooltip=new s4({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wD=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function xD(n,t,e,i){const r=n.indexOf(t);if(r===-1)return wD(n,t,e,i);const a=n.lastIndexOf(t);return r!==a?e:r}const SD=(n,t)=>n===null?null:Ds(Math.round(n),0,t);function a4(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class AD extends rf{static id="category";static defaults={ticks:{callback:a4}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:a}of e)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Jn(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:xD(i,t,vn(e,t),this._addedLabels),SD(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return a4.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function ED(n,t){const e=[],{bounds:r,step:a,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:v,includeBounds:w}=n,_=a||1,T=g-1,{min:N,max:I}=t,O=!Jn(l),q=!Jn(u),J=!Jn(f),ot=(I-N)/(v+1);let $=c_((I-N)/T/_)*_,ut,F,C,k;if($<1e-14&&!O&&!q)return[{value:N},{value:I}];k=Math.ceil(I/$)-Math.floor(N/$),k>T&&($=c_(k*$/T/_)*_),Jn(h)||(ut=Math.pow(10,h),$=Math.ceil($*ut)/ut),r==="ticks"?(F=Math.floor(N/$)*$,C=Math.ceil(I/$)*$):(F=N,C=I),O&&q&&a&&gC((u-l)/a,$/1e3)?(k=Math.round(Math.min((u-l)/$,g)),$=(u-l)/k,F=l,C=u):J?(F=O?l:F,C=q?u:C,k=f-1,$=(C-F)/k):(k=(C-F)/$,gg(k,Math.round(k),$/1e3)?k=Math.round(k):k=Math.ceil(k));const U=Math.max(h_($),h_(F));ut=Math.pow(10,Jn(h)?U:h),F=Math.round(F*ut)/ut,C=Math.round(C*ut)/ut;let R=0;for(O&&(w&&F!==l?(e.push({value:l}),F<l&&R++,gg(Math.round((F+R*$)*ut)/ut,l,o4(l,ot,n))&&R++):F<l&&R++);R<k;++R){const L=Math.round((F+R*$)*ut)/ut;if(q&&L>u)break;e.push({value:L})}return q&&w&&C!==u?e.length&&gg(e[e.length-1].value,u,o4(u,ot,n))?e[e.length-1].value=u:e.push({value:u}):(!q||C===u)&&e.push({value:C}),e}function o4(n,t,{horizontal:e,minRotation:i}){const r=ql(i),a=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class TD extends rf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Jn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const l=h=>r=e?r:h,u=h=>a=i?a:h;if(t){const h=Uu(r),f=Uu(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(r===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(r-h)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=ED(r,a);return t.bounds==="ticks"&&mC(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return J2(t,this.chart.options.locale,this.options.ticks.format)}}class ND extends TD{static id="linear";static defaults={ticks:{callback:K3.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ra(t)?t:0,this.max=Ra(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ql(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Sm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rs=Object.keys(Sm);function l4(n,t){return n-t}function u4(n,t){if(Jn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ra(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(qg(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,r)),+l)}function c4(n,t,e,i){const r=Rs.length;for(let a=Rs.indexOf(n);a<r-1;++a){const l=Sm[Rs[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Rs[a]}return Rs[r-1]}function CD(n,t,e,i,r){for(let a=Rs.length-1;a>=Rs.indexOf(e);a--){const l=Rs[a];if(Sm[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Rs[e?Rs.indexOf(e):0]}function LD(n){for(let t=Rs.indexOf(n)+1,e=Rs.length;t<e;++t)if(Sm[Rs[t]].common)return Rs[t]}function h4(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=$2(e,t),a=e[i]>=t?e[i]:e[r];n[a]=!0}}function RD(n,t,e,i){const r=n._adapter,a=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+r.add(u,1,i))h=e[u],h>=0&&(t[h].major=!0);return t}function f4(n,t,e){const i=[],r={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return a===0||!e?i:RD(n,i,r,e)}class d4 extends rf{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new jL._date(t.adapters.date);r.init(e),cd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:u4(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Ra(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),a=Ra(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,u=wC(r,a,l);return this._unit=e.unit||(i.autoSkip?c4(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):CD(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:LD(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),f4(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Ds(e,0,l),i=Ds(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,a=r.time,l=a.unit||c4(a.minUnit,e,i,this._getLabelCapacity(e)),u=vn(r.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=qg(h)||h===!0,g={};let v=e,w,_;if(f&&(v=+t.startOf(v,"isoWeek",h)),v=+t.startOf(v,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const T=r.ticks.source==="data"&&this.getDataTimestamps();for(w=v,_=0;w<i;w=+t.add(w,u,l),_++)h4(g,w,T);return(w===i||r.bounds==="ticks"||_===1)&&h4(g,w,T),Object.keys(g).sort(l4).map(N=>+N)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,a=this._unit,l=e||r[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const a=this.options,l=a.ticks.callback;if(l)return ri(l,[t,e,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],v=f&&u[f],w=i[e],_=f&&v&&w&&w.major;return this._adapter.format(t,r||(_?v:g))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ql(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,f4(this,[t],this._majorUnit),r),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(u4(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return G3(t.sort(l4))}}function ig(n,t,e){let i=0,r=n.length-1,a,l,u,h;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=t2(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=t2(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[r]);const f=l-a;return f?u+(h-u)*(t-a)/f:u}class oI extends d4{static id="timeseries";static defaults=d4.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ig(e,this.min),this._tableRange=ig(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],a=[];let l,u,h,f,g;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)g=r[l+1],h=r[l-1],f=r[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ig(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ig(this._table,i*this._tableRange+this._minPos,!0)}}const w6="label";function p4(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function DD(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function x6(n,t){n.labels=t}function S6(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w6;const i=[];n.datasets=t.map(r=>{const a=n.datasets.find(l=>l[e]===r[e]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function ID(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w6;const e={labels:[],datasets:[]};return x6(e,n.labels),S6(e,n.datasets,t),e}function MD(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:v,...w}=n,_=Jt.useRef(null),T=Jt.useRef(null),N=()=>{_.current&&(T.current=new xm(_.current,{type:l,data:ID(u,a),options:h&&{...h},plugins:f}),p4(t,T.current))},I=()=>{p4(t,null),T.current&&(T.current.destroy(),T.current=null)};return Jt.useEffect(()=>{!r&&T.current&&h&&DD(T.current,h)},[r,h]),Jt.useEffect(()=>{!r&&T.current&&x6(T.current.config.data,u.labels)},[r,u.labels]),Jt.useEffect(()=>{!r&&T.current&&u.datasets&&S6(T.current.config.data,u.datasets,a)},[r,u.datasets]),Jt.useEffect(()=>{T.current&&(r?(I(),setTimeout(N)):T.current.update(v))},[r,h,u.labels,u.datasets,v]),Jt.useEffect(()=>{T.current&&(I(),setTimeout(N))},[l]),Jt.useEffect(()=>(N(),()=>I()),[]),Ul.createElement("canvas",{ref:_,role:"img",height:e,width:i,...w},g)}const PD=Jt.forwardRef(MD);function A6(n,t){return xm.register(t),Jt.forwardRef((e,i)=>Ul.createElement(PD,{...e,ref:i,type:n}))}const g4=A6("bar",ML),OD=A6("pie",kL);xm.register(AD,ND,rD,fD,_D,cD,ZR);const kD=()=>{const[n,t]=Jt.useState([]),[e,i]=Jt.useState([]),[r,a]=Jt.useState([]),[l,u]=Jt.useState([]),[h,f]=Jt.useState(!0),[g,v]=Jt.useState("mes");function w(L,M){const nt=new Date(L);if(M==="dia")return nt.toISOString().slice(0,10);if(M==="semana"){const pt=nt.getFullYear(),et=Math.ceil(((nt-new Date(pt,0,1))/864e5+new Date(pt,0,1).getDay()+1)/7);return`${pt}-W${et.toString().padStart(2,"0")}`}return M==="mes"?nt.toISOString().slice(0,7):M==="ao"?nt.getFullYear().toString():nt.toISOString().slice(0,10)}const _={},T={},N={},I={};n.forEach(L=>{let M=L.fecha;if(M&&M.toDate&&(M=M.toDate()),!M)return;const nt=w(M,g),pt=(L.cantidadVendida||0)*(L.precioVenta||0);_[nt]||(_[nt]=0),_[nt]+=pt}),r.forEach(L=>{let M=L.fecha;if(M&&M.toDate&&(M=M.toDate()),!M)return;const nt=w(M,g);let pt=0;typeof L.costoTotal=="number"?pt=L.costoTotal:(Array.isArray(L.ingredientes)&&(pt+=L.ingredientes.reduce((et,ht)=>et+Number(ht.cantidad)*Number(ht.precioUnitario),0)),pt+=Number(L.gastosExtra)||0),T[nt]||(T[nt]=0),T[nt]+=pt}),l.forEach(L=>{let M=L.fecha;if(M&&M.toDate&&(M=M.toDate()),!M)return;const nt=w(M,g);L.tipo==="retiro"?(N[nt]||(N[nt]=0),N[nt]+=Number(L.monto)||0):L.tipo==="inversion"?(I[nt]||(I[nt]=0),I[nt]+=Number(L.monto)||0):(T[nt]||(T[nt]=0),T[nt]+=Number(L.monto)||0)});const O=new Set([...Object.keys(_),...Object.keys(T),...Object.keys(N),...Object.keys(I)]),q=Array.from(O).sort();let J=0;const ot=q.map(L=>{const M=_[L]||0,nt=T[L]||0,pt=N[L]||0,et=I[L]||0;return J+=M-nt-pt+et,J}),$={labels:q,datasets:[{label:"Ingresos ($)",data:q.map(L=>_[L]||0),backgroundColor:"#2980b9"},{label:"Gastos ($)",data:q.map(L=>T[L]||0),backgroundColor:"#e74c3c"},{label:"Balance acumulado ($)",data:ot,backgroundColor:"#27ae60"}]};Jt.useEffect(()=>{(async()=>{f(!0);const nt=(await Rn(sn(Ue,"ventas"))).docs.map(_t=>_t.data());t(nt);const et=(await Rn(sn(Ue,"recetas"))).docs.map(_t=>_t.data());i(et);const lt=(await Rn(sn(Ue,"ordenesProduccion"))).docs.map(_t=>({id:_t.id,..._t.data()}));a(lt);try{const Q=(await Rn(sn(Ue,"gastosExtra"))).docs.map(vt=>vt.data());u(Q)}catch{u([])}f(!1)})()},[]);const ut={};r.forEach(L=>{L.id&&(ut[L.id]=L.recetaId)});const F={};e.forEach(L=>{L.id&&(F[L.id]=L.nombre)});const C={};n.forEach(L=>{const M=ut[L.ordenId];if(!M)return;let nt="Sin nombre";const pt=r.find(lt=>lt.id===L.ordenId);pt&&pt.recetaNombre?nt=pt.recetaNombre:F[M]&&(nt=F[M]),C[M]||(C[M]={nombre:nt,total:0});const et=L.cantidadVendida||0,ht=L.precioVenta||0;C[M].total+=et*ht});const k=Object.values(C).sort((L,M)=>M.total-L.total).slice(0,10),U={labels:k.map(L=>L.nombre),datasets:[{label:"Dinero recaudado ($)",data:k.map(L=>L.total),backgroundColor:"#2980b9"}]},R={labels:k.map(L=>L.nombre),datasets:[{label:"Vendidos",data:k.map(L=>L.total),backgroundColor:["#2980b9","#f39c12","#27ae60","#e74c3c","#8e44ad","#16a085","#d35400","#2c3e50","#c0392b","#7f8c8d"]}]};return it.jsxs("div",{style:{margin:0,padding:0},children:[it.jsx("h2",{style:{margin:"1rem 0 0.5rem 0",textAlign:"center"},children:"Grficas BI"}),h?it.jsx("p",{children:"Cargando..."}):it.jsxs("div",{children:[it.jsxs("div",{style:{margin:"0 auto 1rem auto",display:"block",textAlign:"center"},children:[it.jsxs("h3",{style:{fontSize:"1em",margin:0},children:["Balance por ",g.charAt(0).toUpperCase()+g.slice(1)]}),it.jsxs("div",{style:{marginBottom:8},children:[it.jsx("label",{children:"Ver por: "}),it.jsxs("select",{value:g,onChange:L=>v(L.target.value),children:[it.jsx("option",{value:"dia",children:"Da"}),it.jsx("option",{value:"semana",children:"Semana"}),it.jsx("option",{value:"mes",children:"Mes"}),it.jsx("option",{value:"ao",children:"Ao"})]})]}),it.jsx(g4,{data:$,options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{display:!0}}},width:400,height:200,getDatasetAtEvent:()=>{}})]}),it.jsxs("div",{style:{margin:"0 auto 1rem auto",display:"block",textAlign:"center"},children:[it.jsx("h3",{style:{fontSize:"1em",margin:0},children:"Top 10 Recetas Ms Vendidas"}),it.jsx(g4,{data:U,options:{responsive:!1,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},width:200,height:400,getDatasetAtEvent:()=>{}})]}),it.jsxs("div",{style:{margin:"0 auto",display:"block",textAlign:"center"},children:[it.jsx("h3",{style:{fontSize:"1em",margin:0},children:"Distribucin de Ventas (Pastel)"}),it.jsx(OD,{data:R,options:{responsive:!1,maintainAspectRatio:!1},width:200,height:400,getDatasetAtEvent:()=>{}})]})]})]})};var E6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m4=Ul.createContext&&Ul.createContext(E6),jD=["attr","size","title"];function VD(n,t){if(n==null)return{};var e=FD(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function FD(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Xg(){return Xg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Xg.apply(this,arguments)}function y4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Kg(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(e),!0).forEach(function(i){BD(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):y4(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function BD(n,t,e){return t=zD(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function zD(n){var t=qD(n,"string");return typeof t=="symbol"?t:t+""}function qD(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function T6(n){return n&&n.map((t,e)=>Ul.createElement(t.tag,Kg({key:e},t.attr),T6(t.child)))}function rl(n){return t=>Ul.createElement(UD,Xg({attr:Kg({},n.attr)},t),T6(n.child))}function UD(n){var t=e=>{var{attr:i,size:r,title:a}=n,l=VD(n,jD),u=r||e.size||"1em",h;return e.className&&(h=e.className),n.className&&(h=(h?h+" ":"")+n.className),Ul.createElement("svg",Xg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:h,style:Kg(Kg({color:n.color||e.color},e.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Ul.createElement("title",null,a),n.children)};return m4!==void 0?Ul.createElement(m4.Consumer,null,e=>t(e)):t(E6)}function HD(n){return rl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function GD(n){return rl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function WD(n){return rl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function YD(n){return rl({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function XD(n){return rl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function KD(n){return rl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function QD(n){return rl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function $D(n){return rl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function ZD(n){return rl({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function JD(n){return rl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(n)}const tI=({clienteId:n})=>{const[t,e]=Jt.useState([]),[i,r]=Jt.useState(!0);return Jt.useEffect(()=>{if(!n)return;(async()=>{r(!0);const l=or(sn(Ue,"ventas"),Pg("clienteId","==",n)),h=(await Rn(l)).docs.map(_=>({id:_.id,..._.data()})),f=[...new Set(h.map(_=>_.ordenId))];let g={};if(f.length>0){const _=or(sn(Ue,"ordenesProduccion"));(await Rn(_)).docs.forEach(N=>{const I={id:N.id,...N.data()};f.includes(I.id)&&(g[I.id]=I.recetaNombre||"(Sin nombre)")})}const v={};h.forEach(_=>{const T=g[_.ordenId]||"(Desconocido)";v[T]=(v[T]||0)+(_.cantidadVendida||0)});const w=Object.entries(v).sort((_,T)=>T[1]-_[1]).map(([_,T])=>({sabor:_,cantidad:T}));e(w),r(!1)})()},[n]),n?i?it.jsx("p",{children:"Cargando top de sabores..."}):t.length===0?it.jsx("p",{children:"Este cliente an no tiene compras registradas."}):it.jsxs("div",{style:{marginTop:18},children:[it.jsx("h4",{children:"Top de sabores favoritos"}),it.jsx("ol",{children:t.map(a=>it.jsxs("li",{children:[it.jsx("strong",{children:a.sabor}),": ",a.cantidad," hielitos"]},a.sabor))})]}):null},eI=({onClienteAgregado:n})=>{const[t,e]=Jt.useState(""),[i,r]=Jt.useState(""),[a,l]=Jt.useState(""),[u,h]=Jt.useState(""),[f,g]=Jt.useState(""),[v,w]=Jt.useState(!1),_=async T=>{T.preventDefault(),w(!0),await kd(sn(Ue,"clientes"),{nombre:t,genero:i,telefono:a,email:u,comentarios:f,creado:new Date}),e(""),r(""),l(""),h(""),g(""),w(!1),n&&n()};return it.jsxs("form",{onSubmit:_,style:{display:"flex",flexDirection:"column",gap:12,maxWidth:400,margin:"0 auto"},children:[it.jsx("h3",{children:"Registrar nuevo cliente"}),it.jsx("input",{required:!0,placeholder:"Nombre",value:t,onChange:T=>e(T.target.value)}),it.jsxs("select",{value:i,onChange:T=>r(T.target.value),required:!0,children:[it.jsx("option",{value:"",children:"Gnero"}),it.jsx("option",{value:"Femenino",children:"Femenino"}),it.jsx("option",{value:"Masculino",children:"Masculino"}),it.jsx("option",{value:"Otro",children:"Otro"})]}),it.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[it.jsx("input",{type:"tel",placeholder:"Telfono",value:a,onChange:T=>l(T.target.value),autoComplete:"tel",inputMode:"tel"}),"contacts"in navigator&&"ContactsManager"in window&&it.jsx("button",{type:"button",title:"Seleccionar desde contactos",style:{padding:"0 8px",fontSize:18,borderRadius:6,border:"1px solid var(--primary)",background:"var(--card-bg)",color:"var(--primary)",cursor:"pointer"},onClick:async()=>{try{const T=["tel"],N={multiple:!1},I=await navigator.contacts.select(T,N);I&&I.length&&I[0].tel&&I[0].tel.length&&l(I[0].tel[0])}catch{alert("No se pudo acceder a los contactos o el usuario cancel.")}},children:""})]}),it.jsx("input",{type:"email",placeholder:"Correo electrnico",value:u,onChange:T=>h(T.target.value)}),it.jsx("textarea",{placeholder:"Comentarios",value:f,onChange:T=>g(T.target.value)}),it.jsx("button",{type:"submit",disabled:v,style:{background:"var(--primary)",color:"#fff",border:"none",borderRadius:6,padding:10,fontWeight:600,fontSize:16,cursor:"pointer"},children:v?"Guardando...":"Agregar cliente"})]})},nI=()=>{const[n,t]=Jt.useState([]),[e,i]=Jt.useState(!1),[r,a]=Jt.useState(null);return Jt.useEffect(()=>{(async()=>{const u=await Rn(sn(Ue,"clientes"));t(u.docs.map(h=>({id:h.id,...h.data()})))})()},[e]),it.jsxs("div",{style:{maxWidth:700,margin:"2rem auto"},children:[it.jsx(eI,{onClienteAgregado:()=>i(l=>!l)}),it.jsx("h3",{style:{marginTop:32},children:"Clientes registrados"}),it.jsx("ul",{style:{listStyle:"none",padding:0},children:n.map(l=>it.jsxs("li",{style:{background:"var(--card-bg)",marginBottom:12,borderRadius:8,boxShadow:"var(--shadow)",padding:16,cursor:"pointer"},onClick:()=>a(l),children:[it.jsx("strong",{children:l.nombre})," (",l.genero,")",it.jsx("br",{}),it.jsxs("span",{children:["Tel: ",l.telefono||"-"]}),it.jsx("br",{}),it.jsxs("span",{children:["Email: ",l.email||"-"]}),it.jsx("br",{}),it.jsx("span",{style:{color:"#888"},children:l.comentarios})]},l.id))}),r&&it.jsxs("div",{style:{background:"var(--card-bg)",borderRadius:10,boxShadow:"var(--shadow)",padding:24,marginTop:24},children:[it.jsx("button",{onClick:()=>a(null),style:{float:"right",background:"none",border:"none",fontSize:22,color:"var(--primary)",cursor:"pointer"},children:""}),it.jsx("h3",{children:"Ficha de cliente"}),it.jsx("strong",{children:"Nombre:"})," ",r.nombre,it.jsx("br",{}),it.jsx("strong",{children:"Gnero:"})," ",r.genero,it.jsx("br",{}),it.jsx("strong",{children:"Telfono:"})," ",r.telefono||"-",it.jsx("br",{}),it.jsx("strong",{children:"Email:"})," ",r.email||"-",it.jsx("br",{}),it.jsx("strong",{children:"Comentarios:"})," ",r.comentarios||"-",it.jsx("br",{}),it.jsx(tI,{clienteId:r.id})]})]})},v4=[{name:"Ventas",icon:it.jsx(QD,{}),comp:"venta"},{name:"Produccin",icon:it.jsx(YD,{}),comp:"reporte"},{name:"rdenes",icon:it.jsx(XD,{}),comp:"ordenesGeneral"},{name:"Recetas",icon:it.jsx(KD,{}),comp:"lista"},{name:"Agregar receta",icon:it.jsx($D,{}),comp:"agregar"},{name:"Gastos",icon:it.jsx(WD,{}),comp:"gastosExtra"},{name:"Grficas",icon:it.jsx(GD,{}),comp:"graficasBI"},{name:"Clientes",icon:it.jsx(JD,{}),comp:"clientes"}],iI=()=>{const[n,t]=Jt.useState("ordenesGeneral"),[e,i]=Jt.useState([]),[r,a]=Jt.useState(!1),l=async()=>{const g=(await Rn(sn(Ue,"recetas"))).docs.map(v=>({id:v.id,...v.data()}));i(g)};Jt.useEffect(()=>{l()},[]);function u(f){switch(f){case"agregar":return it.jsx(G8,{setRecetas:i,recargarRecetas:l});case"lista":return it.jsx(Tb,{});case"reporte":return it.jsx(CN,{recetas:e});case"venta":return it.jsx(IN,{});case"ordenesGeneral":return it.jsx(PN,{});case"gastosExtra":return it.jsx(kN,{});case"graficasBI":return it.jsx(kD,{});case"clientes":return it.jsx(nI,{});default:return it.jsx(Tb,{})}}const h=v4.find(f=>f.comp===n);return it.jsxs("div",{className:"App",style:{minHeight:"100vh"},children:[it.jsxs("div",{style:{position:"fixed",top:0,left:r?0:"-260px",width:260,height:"100vh",background:"var(--card-bg)",boxShadow:r?"2px 0 16px #0003":"none",zIndex:2e3,transition:"left 0.25s cubic-bezier(.4,0,.2,1)",display:"flex",flexDirection:"column",padding:"1.5rem 0.5rem 0.5rem 0.5rem"},"aria-hidden":!r,children:[it.jsx("button",{onClick:()=>a(!1),style:{alignSelf:"flex-end",background:"none",border:"none",fontSize:28,color:"var(--primary)",marginBottom:16},"aria-label":"Cerrar men",children:it.jsx(ZD,{})}),v4.map(f=>it.jsxs("button",{className:"nav-btn"+(n===f.comp?" active":""),onClick:()=>{t(f.comp),a(!1)},"aria-label":f.name,style:{justifyContent:"flex-start",width:"100%",marginBottom:8,fontSize:18,gap:12},children:[f.icon,it.jsx("span",{style:{fontSize:16,marginLeft:8},children:f.name})]},f.name))]}),r&&it.jsx("div",{onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#0005",zIndex:1500}}),it.jsxs("header",{style:{width:"100%",background:"var(--card-bg)",borderBottom:"2px solid var(--primary)",position:"sticky",top:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"space-between",height:56,boxShadow:"var(--shadow)"},children:[it.jsx("button",{onClick:()=>a(!0),style:{background:"none",border:"none",fontSize:28,color:"var(--primary)",marginLeft:12,cursor:"pointer"},"aria-label":"Abrir men",children:it.jsx(HD,{})}),it.jsx("span",{style:{fontWeight:700,fontSize:18,color:"var(--primary)",flex:1,textAlign:"center"},children:h?.name||""}),it.jsx("div",{style:{marginRight:12},children:it.jsx(ON,{})})]}),it.jsx("main",{style:{padding:"1.5rem 0.5rem 0.5rem 0.5rem",maxWidth:900,margin:"0 auto"},children:u(n)})]})};Fx.createRoot(document.getElementById("root")).render(it.jsx(Jt.StrictMode,{children:it.jsx(iI,{})}));export{Fn as _,rI as c,Lx as g};
